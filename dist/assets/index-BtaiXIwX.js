var Mg=Object.defineProperty;var qc=s=>{throw TypeError(s)};var Ig=(s,e,t)=>e in s?Mg(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var T=(s,e,t)=>Ig(s,typeof e!="symbol"?e+"":e,t),mo=(s,e,t)=>e.has(s)||qc("Cannot "+t);var p=(s,e,t)=>(mo(s,e,"read from private field"),t?t.call(s):e.get(s)),C=(s,e,t)=>e.has(s)?qc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),E=(s,e,t,r)=>(mo(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),A=(s,e,t)=>(mo(s,e,"access private method"),t);var Wa=(s,e,t,r)=>({set _(i){E(s,e,i,t)},get _(){return p(s,e,r)}});import{j as n,P as Ce,c as Ma,a as Lg,u as mt,B as Dg,b as Wl,d as zs,e as ve,f as At,R as Ug,g as $g,h as xh,i as Bg,k as vh,D as zg,C as Vg,l as qg,A as Hg,m as Wg,S as wh,n as Gg,o as _h,p as Kg,I as Zg,q as jh,r as Qg}from"./ui-D1p8u4-S.js";import{a as Nh,r as b,c as Xg,R as de,d as Ga,g as Nr}from"./vendor-DRd396Ms.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var kh,Hc=Nh;kh=Hc.createRoot,Hc.hydrateRoot;function Yg(s,e){if(s instanceof RegExp)return{keys:!1,pattern:s};var t,r,i,a,o=[],l="",c=s.split("/");for(c[0]||c.shift();i=c.shift();)t=i[0],t==="*"?(o.push(t),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Sh={exports:{}},Ch={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=b;function Jg(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var e0=typeof Object.is=="function"?Object.is:Jg,t0=mi.useState,s0=mi.useEffect,r0=mi.useLayoutEffect,i0=mi.useDebugValue;function a0(s,e){var t=e(),r=t0({inst:{value:t,getSnapshot:e}}),i=r[0].inst,a=r[1];return r0(function(){i.value=t,i.getSnapshot=e,go(i)&&a({inst:i})},[s,t,e]),s0(function(){return go(i)&&a({inst:i}),s(function(){go(i)&&a({inst:i})})},[s]),i0(t),t}function go(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!e0(s,t)}catch{return!0}}function n0(s,e){return e()}var o0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n0:a0;Ch.useSyncExternalStore=mi.useSyncExternalStore!==void 0?mi.useSyncExternalStore:o0;Sh.exports=Ch;var l0=Sh.exports;const c0=Xg.useInsertionEffect,d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u0=d0?b.useLayoutEffect:b.useEffect,h0=c0||u0,Th=s=>{const e=b.useRef([s,(...t)=>e[0](...t)]).current;return h0(()=>{e[0]=s}),e[1]},p0="popstate",Gl="pushState",Kl="replaceState",f0="hashchange",Wc=[p0,Gl,Kl,f0],m0=s=>{for(const e of Wc)addEventListener(e,s);return()=>{for(const e of Wc)removeEventListener(e,s)}},Eh=(s,e)=>l0.useSyncExternalStore(m0,s,e),g0=()=>location.search,b0=({ssrSearch:s=""}={})=>Eh(g0,()=>s),Gc=()=>location.pathname,y0=({ssrPath:s}={})=>Eh(Gc,s?()=>s:Gc),x0=(s,{replace:e=!1,state:t=null}={})=>history[e?Kl:Gl](t,"",s),v0=(s={})=>[y0(s),x0],Kc=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Kc]>"u"){for(const s of[Gl,Kl]){const e=history[s];history[s]=function(){const t=e.apply(this,arguments),r=new Event(s);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,Kc,{value:!0})}const w0=(s,e)=>e.toLowerCase().indexOf(s.toLowerCase())?"~"+e:e.slice(s.length)||"/",Ah=(s="")=>s==="/"?"":s,_0=(s,e)=>s[0]==="~"?s.slice(1):Ah(e)+s,j0=(s="",e)=>w0(Zc(Ah(s)),Zc(e)),Zc=s=>{try{return decodeURI(s)}catch{return s}},Ph={hook:v0,searchHook:b0,parser:Yg,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Fh=b.createContext(Ph),Ia=()=>b.useContext(Fh),Rh={},Oh=b.createContext(Rh),Mh=()=>b.useContext(Oh),Zn=s=>{const[e,t]=s.hook(s);return[j0(s.base,e),Th((r,i)=>t(_0(r,s.base),i))]},N0=()=>Zn(Ia()),Ih=(s,e,t,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:s(e||"*",r),o=i.exec(t)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,f)=>[h,c[f]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},k0=({children:s,...e})=>{var d,h;const t=Ia(),r=e.hook?Ph:t;let i=r;const[a,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=b.useRef({}),c=l.current,u=c;for(let f in r){const m=f==="base"?r[f]+(e[f]||""):e[f]||r[f];c===u&&m!==u[f]&&(l.current=u={...u}),u[f]=m,(m!==r[f]||m!==i[f])&&(i=u)}return b.createElement(Fh.Provider,{value:i,children:s})},Qc=({children:s,component:e},t)=>e?b.createElement(e,{params:t}):typeof s=="function"?s(t):s,S0=s=>{let e=b.useRef(Rh);const t=e.current;return e.current=Object.keys(s).length!==Object.keys(t).length||Object.entries(s).some(([r,i])=>i!==t[r])?s:t},yt=({path:s,nest:e,match:t,...r})=>{const i=Ia(),[a]=Zn(i),[o,l,c]=t??Ih(i.parser,s,a,e),u=S0({...Mh(),...l});if(!o)return null;const d=c?b.createElement(k0,{base:c},Qc(r,u)):Qc(r,u);return b.createElement(Oh.Provider,{value:u,children:d})},ht=b.forwardRef((s,e)=>{const t=Ia(),[r,i]=Zn(t),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:h,state:f,...m}=s,x=Th(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),i(o,s)))}),v=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return c&&b.isValidElement(u)?b.cloneElement(u,{onClick:x,href:v}):b.createElement("a",{...m,onClick:x,href:v,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),Lh=s=>Array.isArray(s)?s.flatMap(e=>Lh(e&&e.type===b.Fragment?e.props.children:e)):[s],C0=({children:s,location:e})=>{const t=Ia(),[r]=Zn(t);for(const i of Lh(s)){let a=0;if(b.isValidElement(i)&&(a=Ih(t.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:a})}return null};var Ni=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xr=typeof window>"u"||"Deno"in globalThis;function Qe(){}function T0(s,e){return typeof s=="function"?s(e):s}function zo(s){return typeof s=="number"&&s>=0&&s!==1/0}function Dh(s,e){return Math.max(s+(e||0)-Date.now(),0)}function Os(s,e){return typeof s=="function"?s(e):s}function ut(s,e){return typeof s=="function"?s(e):s}function Xc(s,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=s;if(o){if(r){if(e.queryHash!==Zl(o,e.options))return!1}else if(!Qi(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function Yc(s,e){const{exact:t,status:r,predicate:i,mutationKey:a}=s;if(a){if(!e.options.mutationKey)return!1;if(t){if(vr(e.options.mutationKey)!==vr(a))return!1}else if(!Qi(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Zl(s,e){return((e==null?void 0:e.queryKeyHashFn)||vr)(s)}function vr(s){return JSON.stringify(s,(e,t)=>Vo(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Qi(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Qi(s[t],e[t])):!1}function Uh(s,e){if(s===e)return s;const t=Jc(s)&&Jc(e);if(t||Vo(s)&&Vo(e)){const r=t?s:Object.keys(s),i=r.length,a=t?e:Object.keys(e),o=a.length,l=t?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=t?d:a[d];(!t&&c.has(h)||t)&&s[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=Uh(s[h],e[h]),l[h]===s[h]&&s[h]!==void 0&&u++)}return i===o&&u===i?s:l}return e}function yn(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function Jc(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Vo(s){if(!ed(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ed(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function ed(s){return Object.prototype.toString.call(s)==="[object Object]"}function E0(s){return new Promise(e=>{setTimeout(e,s)})}function qo(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Uh(s,e):e}function A0(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function P0(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var Ql=Symbol();function $h(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===Ql?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Bh(s,e){return typeof s=="function"?s(...e):!!s}var er,xs,Ir,ch,F0=(ch=class extends Ni{constructor(){super();C(this,er);C(this,xs);C(this,Ir);E(this,Ir,e=>{if(!xr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){p(this,xs)||this.setEventListener(p(this,Ir))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,xs))==null||e.call(this),E(this,xs,void 0))}setEventListener(e){var t;E(this,Ir,e),(t=p(this,xs))==null||t.call(this),E(this,xs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){p(this,er)!==e&&(E(this,er,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof p(this,er)=="boolean"?p(this,er):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},er=new WeakMap,xs=new WeakMap,Ir=new WeakMap,ch),Xl=new F0,Lr,vs,Dr,dh,R0=(dh=class extends Ni{constructor(){super();C(this,Lr,!0);C(this,vs);C(this,Dr);E(this,Dr,e=>{if(!xr&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){p(this,vs)||this.setEventListener(p(this,Dr))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,vs))==null||e.call(this),E(this,vs,void 0))}setEventListener(e){var t;E(this,Dr,e),(t=p(this,vs))==null||t.call(this),E(this,vs,e(this.setOnline.bind(this)))}setOnline(e){p(this,Lr)!==e&&(E(this,Lr,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return p(this,Lr)}},Lr=new WeakMap,vs=new WeakMap,Dr=new WeakMap,dh),xn=new R0;function Ho(){let s,e;const t=new Promise((i,a)=>{s=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),s(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function O0(s){return Math.min(1e3*2**s,3e4)}function zh(s){return(s??"online")==="online"?xn.isOnline():!0}var Vh=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function qh(s){let e=!1,t=0,r;const i=Ho(),a=()=>i.status!=="pending",o=v=>{var y;a()||(f(new Vh(v)),(y=s.abort)==null||y.call(s))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Xl.isFocused()&&(s.networkMode==="always"||xn.isOnline())&&s.canRun(),d=()=>zh(s.networkMode)&&s.canRun(),h=v=>{a()||(r==null||r(),i.resolve(v))},f=v=>{a()||(r==null||r(),i.reject(v))},m=()=>new Promise(v=>{var y;r=_=>{(a()||u())&&v(_)},(y=s.onPause)==null||y.call(s)}).then(()=>{var v;r=void 0,a()||(v=s.onContinue)==null||v.call(s)}),x=()=>{if(a())return;let v;const y=t===0?s.initialPromise:void 0;try{v=y??s.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(h).catch(_=>{var R;if(a())return;const N=s.retry??(xr?0:3),j=s.retryDelay??O0,k=typeof j=="function"?j(t,_):j,F=N===!0||typeof N=="number"&&t<N||typeof N=="function"&&N(t,_);if(e||!F){f(_);return}t++,(R=s.onFail)==null||R.call(s,t,_),E0(k).then(()=>u()?void 0:m()).then(()=>{e?f(_):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),i)}}var M0=s=>setTimeout(s,0);function I0(){let s=[],e=0,t=l=>{l()},r=l=>{l()},i=M0;const a=l=>{e?s.push(l):i(()=>{t(l)})},o=()=>{const l=s;s=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ie=I0(),tr,uh,Hh=(uh=class{constructor(){C(this,tr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zo(this.gcTime)&&E(this,tr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(xr?1/0:5*60*1e3))}clearGcTimeout(){p(this,tr)&&(clearTimeout(p(this,tr)),E(this,tr,void 0))}},tr=new WeakMap,uh),Ur,$r,ct,sr,$e,da,rr,xt,es,hh,L0=(hh=class extends Hh{constructor(e){super();C(this,xt);C(this,Ur);C(this,$r);C(this,ct);C(this,sr);C(this,$e);C(this,da);C(this,rr);E(this,rr,!1),E(this,da,e.defaultOptions),this.setOptions(e.options),this.observers=[],E(this,sr,e.client),E(this,ct,p(this,sr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,E(this,Ur,D0(this.options)),this.state=e.state??p(this,Ur),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=p(this,$e))==null?void 0:e.promise}setOptions(e){this.options={...p(this,da),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&p(this,ct).remove(this)}setData(e,t){const r=qo(this.state.data,e,this.options);return A(this,xt,es).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){A(this,xt,es).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=p(this,$e))==null?void 0:r.promise;return(i=p(this,$e))==null||i.cancel(e),t?t.then(Qe).catch(Qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,Ur))}isActive(){return this.observers.some(e=>ut(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ql||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Os(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Dh(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=p(this,$e))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=p(this,$e))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),p(this,ct).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(p(this,$e)&&(p(this,rr)?p(this,$e).cancel({revert:!0}):p(this,$e).cancelRetry()),this.scheduleGc()),p(this,ct).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||A(this,xt,es).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,f,m,x,v,y,_,N,j;if(this.state.fetchStatus!=="idle"&&((c=p(this,$e))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(p(this,$e))return p(this,$e).continueRetry(),p(this,$e).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(F=>F.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(E(this,rr,!0),r.signal)})},a=()=>{const k=$h(this.options,t),R=(()=>{const O={client:p(this,sr),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return E(this,rr,!1),this.options.persister?this.options.persister(k,R,this):k(R)},l=(()=>{const k={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:p(this,sr),state:this.state,fetchFn:a};return i(k),k})();(u=this.options.behavior)==null||u.onFetch(l,this),E(this,$r,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&A(this,xt,es).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),E(this,$e,qh({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onFail:(k,F)=>{A(this,xt,es).call(this,{type:"failed",failureCount:k,error:F})},onPause:()=>{A(this,xt,es).call(this,{type:"pause"})},onContinue:()=>{A(this,xt,es).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await p(this,$e).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(m=(f=p(this,ct).config).onSuccess)==null||m.call(f,k,this),(v=(x=p(this,ct).config).onSettled)==null||v.call(x,k,this.state.error,this),k}catch(k){if(k instanceof Vh){if(k.silent)return p(this,$e).promise;if(k.revert)return this.setState({...p(this,$r),fetchStatus:"idle"}),this.state.data}throw A(this,xt,es).call(this,{type:"error",error:k}),(_=(y=p(this,ct).config).onError)==null||_.call(y,k,this),(j=(N=p(this,ct).config).onSettled)==null||j.call(N,this.state.data,k,this),k}finally{this.scheduleGc()}}},Ur=new WeakMap,$r=new WeakMap,ct=new WeakMap,sr=new WeakMap,$e=new WeakMap,da=new WeakMap,rr=new WeakMap,xt=new WeakSet,es=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wh(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return E(this,$r,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ie.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),p(this,ct).notify({query:this,type:"updated",action:e})})},hh);function Wh(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zh(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function D0(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ut,ph,U0=(ph=class extends Ni{constructor(e={}){super();C(this,Ut);this.config=e,E(this,Ut,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??Zl(i,t);let o=this.get(a);return o||(o=new L0({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){p(this,Ut).has(e.queryHash)||(p(this,Ut).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=p(this,Ut).get(e.queryHash);t&&(e.destroy(),t===e&&p(this,Ut).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ie.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return p(this,Ut).get(e)}getAll(){return[...p(this,Ut).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Xc(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Xc(e,r)):t}notify(e){Ie.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ie.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ie.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ut=new WeakMap,ph),$t,Ge,ir,Bt,gs,fh,$0=(fh=class extends Hh{constructor(e){super();C(this,Bt);C(this,$t);C(this,Ge);C(this,ir);this.mutationId=e.mutationId,E(this,Ge,e.mutationCache),E(this,$t,[]),this.state=e.state||Gh(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){p(this,$t).includes(e)||(p(this,$t).push(e),this.clearGcTimeout(),p(this,Ge).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){E(this,$t,p(this,$t).filter(t=>t!==e)),this.scheduleGc(),p(this,Ge).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){p(this,$t).length||(this.state.status==="pending"?this.scheduleGc():p(this,Ge).remove(this))}continue(){var e;return((e=p(this,ir))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,u,d,h,f,m,x,v,y,_,N,j,k,F,R,O,W;const t=()=>{A(this,Bt,gs).call(this,{type:"continue"})};E(this,ir,qh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,G)=>{A(this,Bt,gs).call(this,{type:"failed",failureCount:L,error:G})},onPause:()=>{A(this,Bt,gs).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,Ge).canRun(this)}));const r=this.state.status==="pending",i=!p(this,ir).canStart();try{if(r)t();else{A(this,Bt,gs).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=p(this,Ge).config).onMutate)==null?void 0:o.call(a,e,this));const G=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));G!==this.state.context&&A(this,Bt,gs).call(this,{type:"pending",context:G,variables:e,isPaused:i})}const L=await p(this,ir).start();return await((d=(u=p(this,Ge).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,e,this.state.context)),await((x=(m=p(this,Ge).config).onSettled)==null?void 0:x.call(m,L,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,L,null,e,this.state.context)),A(this,Bt,gs).call(this,{type:"success",data:L}),L}catch(L){try{throw await((N=(_=p(this,Ge).config).onError)==null?void 0:N.call(_,L,e,this.state.context,this)),await((k=(j=this.options).onError)==null?void 0:k.call(j,L,e,this.state.context)),await((R=(F=p(this,Ge).config).onSettled)==null?void 0:R.call(F,void 0,L,this.state.variables,this.state.context,this)),await((W=(O=this.options).onSettled)==null?void 0:W.call(O,void 0,L,e,this.state.context)),L}finally{A(this,Bt,gs).call(this,{type:"error",error:L})}}finally{p(this,Ge).runNext(this)}}},$t=new WeakMap,Ge=new WeakMap,ir=new WeakMap,Bt=new WeakSet,gs=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ie.batch(()=>{p(this,$t).forEach(r=>{r.onMutationUpdate(e)}),p(this,Ge).notify({mutation:this,type:"updated",action:e})})},fh);function Gh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ts,vt,ua,mh,B0=(mh=class extends Ni{constructor(e={}){super();C(this,ts);C(this,vt);C(this,ua);this.config=e,E(this,ts,new Set),E(this,vt,new Map),E(this,ua,0)}build(e,t,r){const i=new $0({mutationCache:this,mutationId:++Wa(this,ua)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){p(this,ts).add(e);const t=Ka(e);if(typeof t=="string"){const r=p(this,vt).get(t);r?r.push(e):p(this,vt).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(p(this,ts).delete(e)){const t=Ka(e);if(typeof t=="string"){const r=p(this,vt).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&p(this,vt).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ka(e);if(typeof t=="string"){const r=p(this,vt).get(t),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=Ka(e);if(typeof t=="string"){const i=(r=p(this,vt).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ie.batch(()=>{p(this,ts).forEach(e=>{this.notify({type:"removed",mutation:e})}),p(this,ts).clear(),p(this,vt).clear()})}getAll(){return Array.from(p(this,ts))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Yc(t,r))}findAll(e={}){return this.getAll().filter(t=>Yc(e,t))}notify(e){Ie.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ie.batch(()=>Promise.all(e.map(t=>t.continue().catch(Qe))))}},ts=new WeakMap,vt=new WeakMap,ua=new WeakMap,mh);function Ka(s){var e;return(e=s.options.scope)==null?void 0:e.id}function td(s){return{onFetch:(e,t)=>{var d,h,f,m,x;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=$h(e.options,e.fetchOptions),N=async(j,k,F)=>{if(v)return Promise.reject();if(k==null&&j.pages.length)return Promise.resolve(j);const O=(()=>{const Q={client:e.client,queryKey:e.queryKey,pageParam:k,direction:F?"backward":"forward",meta:e.options.meta};return y(Q),Q})(),W=await _(O),{maxPages:L}=e.options,G=F?P0:A0;return{pages:G(j.pages,W,L),pageParams:G(j.pageParams,k,L)}};if(i&&a.length){const j=i==="backward",k=j?z0:sd,F={pages:a,pageParams:o},R=k(r,F);l=await N(F,R,j)}else{const j=s??a.length;do{const k=c===0?o[0]??r.initialPageParam:sd(r,l);if(c>0&&k==null)break;l=await N(l,k),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function sd(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function z0(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var Se,ws,_s,Br,zr,js,Vr,qr,gh,V0=(gh=class{constructor(s={}){C(this,Se);C(this,ws);C(this,_s);C(this,Br);C(this,zr);C(this,js);C(this,Vr);C(this,qr);E(this,Se,s.queryCache||new U0),E(this,ws,s.mutationCache||new B0),E(this,_s,s.defaultOptions||{}),E(this,Br,new Map),E(this,zr,new Map),E(this,js,0)}mount(){Wa(this,js)._++,p(this,js)===1&&(E(this,Vr,Xl.subscribe(async s=>{s&&(await this.resumePausedMutations(),p(this,Se).onFocus())})),E(this,qr,xn.subscribe(async s=>{s&&(await this.resumePausedMutations(),p(this,Se).onOnline())})))}unmount(){var s,e;Wa(this,js)._--,p(this,js)===0&&((s=p(this,Vr))==null||s.call(this),E(this,Vr,void 0),(e=p(this,qr))==null||e.call(this),E(this,qr,void 0))}isFetching(s){return p(this,Se).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return p(this,ws).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=p(this,Se).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=p(this,Se).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(Os(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return p(this,Se).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),i=p(this,Se).get(r.queryHash),a=i==null?void 0:i.state.data,o=T0(e,a);if(o!==void 0)return p(this,Se).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return Ie.batch(()=>p(this,Se).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=p(this,Se).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=p(this,Se);Ie.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=p(this,Se);return Ie.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=Ie.batch(()=>p(this,Se).findAll(s).map(i=>i.cancel(t)));return Promise.all(r).then(Qe).catch(Qe)}invalidateQueries(s,e={}){return Ie.batch(()=>(p(this,Se).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ie.batch(()=>p(this,Se).findAll(s).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(Qe)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Qe)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=p(this,Se).build(this,e);return t.isStaleByTime(Os(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Qe).catch(Qe)}fetchInfiniteQuery(s){return s.behavior=td(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Qe).catch(Qe)}ensureInfiniteQueryData(s){return s.behavior=td(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return xn.isOnline()?p(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,Se)}getMutationCache(){return p(this,ws)}getDefaultOptions(){return p(this,_s)}setDefaultOptions(s){E(this,_s,s)}setQueryDefaults(s,e){p(this,Br).set(vr(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...p(this,Br).values()],t={};return e.forEach(r=>{Qi(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){p(this,zr).set(vr(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...p(this,zr).values()],t={};return e.forEach(r=>{Qi(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...p(this,_s).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Zl(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ql&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...p(this,_s).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){p(this,Se).clear(),p(this,ws).clear()}},Se=new WeakMap,ws=new WeakMap,_s=new WeakMap,Br=new WeakMap,zr=new WeakMap,js=new WeakMap,Vr=new WeakMap,qr=new WeakMap,gh),Ye,he,ha,Ke,ar,Hr,Ns,ks,pa,Wr,Gr,nr,or,Ss,Kr,be,Mi,Wo,Go,Ko,Zo,Qo,Xo,Yo,Kh,bh,q0=(bh=class extends Ni{constructor(e,t){super();C(this,be);C(this,Ye);C(this,he);C(this,ha);C(this,Ke);C(this,ar);C(this,Hr);C(this,Ns);C(this,ks);C(this,pa);C(this,Wr);C(this,Gr);C(this,nr);C(this,or);C(this,Ss);C(this,Kr,new Set);this.options=t,E(this,Ye,e),E(this,ks,null),E(this,Ns,Ho()),this.options.experimental_prefetchInRender||p(this,Ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,he).addObserver(this),rd(p(this,he),this.options)?A(this,be,Mi).call(this):this.updateResult(),A(this,be,Zo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jo(p(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jo(p(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,A(this,be,Qo).call(this),A(this,be,Xo).call(this),p(this,he).removeObserver(this)}setOptions(e){const t=this.options,r=p(this,he);if(this.options=p(this,Ye).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ut(this.options.enabled,p(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");A(this,be,Yo).call(this),p(this,he).setOptions(this.options),t._defaulted&&!yn(this.options,t)&&p(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,he),observer:this});const i=this.hasListeners();i&&id(p(this,he),r,this.options,t)&&A(this,be,Mi).call(this),this.updateResult(),i&&(p(this,he)!==r||ut(this.options.enabled,p(this,he))!==ut(t.enabled,p(this,he))||Os(this.options.staleTime,p(this,he))!==Os(t.staleTime,p(this,he)))&&A(this,be,Wo).call(this);const a=A(this,be,Go).call(this);i&&(p(this,he)!==r||ut(this.options.enabled,p(this,he))!==ut(t.enabled,p(this,he))||a!==p(this,Ss))&&A(this,be,Ko).call(this,a)}getOptimisticResult(e){const t=p(this,Ye).getQueryCache().build(p(this,Ye),e),r=this.createResult(t,e);return W0(this,r)&&(E(this,Ke,r),E(this,Hr,this.options),E(this,ar,p(this,he).state)),r}getCurrentResult(){return p(this,Ke)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){p(this,Kr).add(e)}getCurrentQuery(){return p(this,he)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=p(this,Ye).defaultQueryOptions(e),r=p(this,Ye).getQueryCache().build(p(this,Ye),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return A(this,be,Mi).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,Ke)))}createResult(e,t){var L;const r=p(this,he),i=this.options,a=p(this,Ke),o=p(this,ar),l=p(this,Hr),u=e!==r?e.state:p(this,ha),{state:d}=e;let h={...d},f=!1,m;if(t._optimisticResults){const G=this.hasListeners(),Q=!G&&rd(e,t),I=G&&id(e,r,t,i);(Q||I)&&(h={...h,...Wh(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=h;m=h.data;let _=!1;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let G;a!=null&&a.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(G=a.data,_=!0):G=typeof t.placeholderData=="function"?t.placeholderData((L=p(this,Gr))==null?void 0:L.state.data,p(this,Gr)):t.placeholderData,G!==void 0&&(y="success",m=qo(a==null?void 0:a.data,G,t),f=!0)}if(t.select&&m!==void 0&&!_)if(a&&m===(o==null?void 0:o.data)&&t.select===p(this,pa))m=p(this,Wr);else try{E(this,pa,t.select),m=t.select(m),m=qo(a==null?void 0:a.data,m,t),E(this,Wr,m),E(this,ks,null)}catch(G){E(this,ks,G)}p(this,ks)&&(x=p(this,ks),m=p(this,Wr),v=Date.now(),y="error");const N=h.fetchStatus==="fetching",j=y==="pending",k=y==="error",F=j&&N,R=m!==void 0,W={status:y,fetchStatus:h.fetchStatus,isPending:j,isSuccess:y==="success",isError:k,isInitialLoading:F,isLoading:F,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!j,isLoadingError:k&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&R,isStale:Yl(e,t),refetch:this.refetch,promise:p(this,Ns),isEnabled:ut(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const G=te=>{W.status==="error"?te.reject(W.error):W.data!==void 0&&te.resolve(W.data)},Q=()=>{const te=E(this,Ns,W.promise=Ho());G(te)},I=p(this,Ns);switch(I.status){case"pending":e.queryHash===r.queryHash&&G(I);break;case"fulfilled":(W.status==="error"||W.data!==I.value)&&Q();break;case"rejected":(W.status!=="error"||W.error!==I.reason)&&Q();break}}return W}updateResult(){const e=p(this,Ke),t=this.createResult(p(this,he),this.options);if(E(this,ar,p(this,he).state),E(this,Hr,this.options),p(this,ar).data!==void 0&&E(this,Gr,p(this,he)),yn(t,e))return;E(this,Ke,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!p(this,Kr).size)return!0;const o=new Set(a??p(this,Kr));return this.options.throwOnError&&o.add("error"),Object.keys(p(this,Ke)).some(l=>{const c=l;return p(this,Ke)[c]!==e[c]&&o.has(c)})};A(this,be,Kh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&A(this,be,Zo).call(this)}},Ye=new WeakMap,he=new WeakMap,ha=new WeakMap,Ke=new WeakMap,ar=new WeakMap,Hr=new WeakMap,Ns=new WeakMap,ks=new WeakMap,pa=new WeakMap,Wr=new WeakMap,Gr=new WeakMap,nr=new WeakMap,or=new WeakMap,Ss=new WeakMap,Kr=new WeakMap,be=new WeakSet,Mi=function(e){A(this,be,Yo).call(this);let t=p(this,he).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Qe)),t},Wo=function(){A(this,be,Qo).call(this);const e=Os(this.options.staleTime,p(this,he));if(xr||p(this,Ke).isStale||!zo(e))return;const r=Dh(p(this,Ke).dataUpdatedAt,e)+1;E(this,nr,setTimeout(()=>{p(this,Ke).isStale||this.updateResult()},r))},Go=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,he)):this.options.refetchInterval)??!1},Ko=function(e){A(this,be,Xo).call(this),E(this,Ss,e),!(xr||ut(this.options.enabled,p(this,he))===!1||!zo(p(this,Ss))||p(this,Ss)===0)&&E(this,or,setInterval(()=>{(this.options.refetchIntervalInBackground||Xl.isFocused())&&A(this,be,Mi).call(this)},p(this,Ss)))},Zo=function(){A(this,be,Wo).call(this),A(this,be,Ko).call(this,A(this,be,Go).call(this))},Qo=function(){p(this,nr)&&(clearTimeout(p(this,nr)),E(this,nr,void 0))},Xo=function(){p(this,or)&&(clearInterval(p(this,or)),E(this,or,void 0))},Yo=function(){const e=p(this,Ye).getQueryCache().build(p(this,Ye),this.options);if(e===p(this,he))return;const t=p(this,he);E(this,he,e),E(this,ha,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},Kh=function(e){Ie.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(p(this,Ke))}),p(this,Ye).getQueryCache().notify({query:p(this,he),type:"observerResultsUpdated"})})},bh);function H0(s,e){return ut(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function rd(s,e){return H0(s,e)||s.state.data!==void 0&&Jo(s,e,e.refetchOnMount)}function Jo(s,e,t){if(ut(e.enabled,s)!==!1&&Os(e.staleTime,s)!=="static"){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&Yl(s,e)}return!1}function id(s,e,t,r){return(s!==e||ut(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&Yl(s,t)}function Yl(s,e){return ut(e.enabled,s)!==!1&&s.isStaleByTime(Os(e.staleTime,s))}function W0(s,e){return!yn(s.getCurrentResult(),e)}var Cs,Ts,Je,ss,ds,ln,el,yh,G0=(yh=class extends Ni{constructor(t,r){super();C(this,ds);C(this,Cs);C(this,Ts);C(this,Je);C(this,ss);E(this,Cs,t),this.setOptions(r),this.bindMethods(),A(this,ds,ln).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=p(this,Cs).defaultMutationOptions(t),yn(this.options,r)||p(this,Cs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:p(this,Je),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vr(r.mutationKey)!==vr(this.options.mutationKey)?this.reset():((i=p(this,Je))==null?void 0:i.state.status)==="pending"&&p(this,Je).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=p(this,Je))==null||t.removeObserver(this)}onMutationUpdate(t){A(this,ds,ln).call(this),A(this,ds,el).call(this,t)}getCurrentResult(){return p(this,Ts)}reset(){var t;(t=p(this,Je))==null||t.removeObserver(this),E(this,Je,void 0),A(this,ds,ln).call(this),A(this,ds,el).call(this)}mutate(t,r){var i;return E(this,ss,r),(i=p(this,Je))==null||i.removeObserver(this),E(this,Je,p(this,Cs).getMutationCache().build(p(this,Cs),this.options)),p(this,Je).addObserver(this),p(this,Je).execute(t)}},Cs=new WeakMap,Ts=new WeakMap,Je=new WeakMap,ss=new WeakMap,ds=new WeakSet,ln=function(){var r;const t=((r=p(this,Je))==null?void 0:r.state)??Gh();E(this,Ts,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},el=function(t){Ie.batch(()=>{var r,i,a,o,l,c,u,d;if(p(this,ss)&&this.hasListeners()){const h=p(this,Ts).variables,f=p(this,Ts).context;(t==null?void 0:t.type)==="success"?((i=(r=p(this,ss)).onSuccess)==null||i.call(r,t.data,h,f),(o=(a=p(this,ss)).onSettled)==null||o.call(a,t.data,null,h,f)):(t==null?void 0:t.type)==="error"&&((c=(l=p(this,ss)).onError)==null||c.call(l,t.error,h,f),(d=(u=p(this,ss)).onSettled)==null||d.call(u,void 0,t.error,h,f))}this.listeners.forEach(h=>{h(p(this,Ts))})})},yh),Zh=b.createContext(void 0),Qh=s=>{const e=b.useContext(Zh);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},K0=({client:s,children:e})=>(b.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),n.jsx(Zh.Provider,{value:s,children:e})),Xh=b.createContext(!1),Z0=()=>b.useContext(Xh);Xh.Provider;function Q0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var X0=b.createContext(Q0()),Y0=()=>b.useContext(X0),J0=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},eb=s=>{b.useEffect(()=>{s.clearReset()},[s])},tb=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(i&&s.data===void 0||Bh(t,[s.error,r])),sb=s=>{if(s.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=s.staleTime;s.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},rb=(s,e)=>s.isLoading&&s.isFetching&&!e,ib=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,ad=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function ab(s,e,t){var h,f,m,x,v;const r=Z0(),i=Y0(),a=Qh(),o=a.defaultQueryOptions(s);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",sb(o),J0(o,i),eb(i);const l=!a.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new e(a,o)),u=c.getOptimisticResult(o),d=!r&&s.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(y=>{const _=d?c.subscribe(Ie.batchCalls(y)):Qe;return c.updateResult(),_},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),ib(o,u))throw ad(o,c,i);if(tb({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,o,u),o.experimental_prefetchInRender&&!xr&&rb(u,r)){const y=l?ad(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Qe).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function at(s,e){return ab(s,q0)}function Yh(s,e){const t=Qh(),[r]=b.useState(()=>new G0(t,s));b.useEffect(()=>{r.setOptions(s)},[r,s]);const i=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Ie.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=b.useCallback((o,l)=>{r.mutate(o,l).catch(Qe)},[r]);if(i.error&&Bh(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function Jh(s){if(!s.ok){const e=await s.text()||s.statusText;throw new Error(`${s.status}: ${e}`)}}async function tl(s,e,t){const r=await fetch(e,{method:s,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});return await Jh(r),r}const nb=({on401:s})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await Jh(t),await t.json()},ob=new V0({defaultOptions:{queries:{queryFn:nb({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),lb=1,cb=1e6;let bo=0;function db(){return bo=(bo+1)%Number.MAX_SAFE_INTEGER,bo.toString()}const yo=new Map,nd=s=>{if(yo.has(s))return;const e=setTimeout(()=>{yo.delete(s),zi({type:"REMOVE_TOAST",toastId:s})},cb);yo.set(s,e)},ub=(s,e)=>{switch(e.type){case"ADD_TOAST":return{...s,toasts:[e.toast,...s.toasts].slice(0,lb)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?nd(t):s.toasts.forEach(r=>{nd(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==e.toastId)}}},cn=[];let dn={toasts:[]};function zi(s){dn=ub(dn,s),cn.forEach(e=>{e(dn)})}function hb({...s}){const e=db(),t=i=>zi({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>zi({type:"DISMISS_TOAST",toastId:e});return zi({type:"ADD_TOAST",toast:{...s,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Vs(){const[s,e]=b.useState(dn);return b.useEffect(()=>(cn.push(e),()=>{const t=cn.indexOf(e);t>-1&&cn.splice(t,1)}),[s]),{...s,toast:hb,dismiss:t=>zi({type:"DISMISS_TOAST",toastId:t})}}var pb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fb="VisuallyHidden",Qn=b.forwardRef((s,e)=>n.jsx(Ce.span,{...s,ref:e,style:{...pb,...s.style}}));Qn.displayName=fb;var mb=Qn,Jl="ToastProvider",[ec,gb,bb]=Lg("Toast"),[ep,yN]=Ma("Toast",[bb]),[yb,Xn]=ep(Jl),tp=s=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=s,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jl}\`. Expected non-empty \`string\`.`),n.jsx(ec.Provider,{scope:e,children:n.jsx(yb,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};tp.displayName=Jl;var sp="ToastViewport",xb=["F8"],sl="toast.viewportPause",rl="toast.viewportResume",rp=b.forwardRef((s,e)=>{const{__scopeToast:t,hotkey:r=xb,label:i="Notifications ({hotkey})",...a}=s,o=Xn(sp,t),l=gb(t),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=mt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const y=_=>{var j;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),b.useEffect(()=>{const y=c.current,_=h.current;if(x&&y&&_){const N=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(sl);_.dispatchEvent(R),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(rl);_.dispatchEvent(R),o.isClosePausedRef.current=!1}},k=R=>{!y.contains(R.relatedTarget)&&j()},F=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",N),y.addEventListener("focusout",k),y.addEventListener("pointermove",N),y.addEventListener("pointerleave",F),window.addEventListener("blur",N),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",N),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",N),y.removeEventListener("pointerleave",F),window.removeEventListener("blur",N),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:y})=>{const N=l().map(j=>{const k=j.ref.current,F=[k,...Fb(k)];return y==="forwards"?F:F.reverse()});return(y==="forwards"?N.reverse():N).flat()},[l]);return b.useEffect(()=>{const y=h.current;if(y){const _=N=>{var F,R,O;const j=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!j){const W=document.activeElement,L=N.shiftKey;if(N.target===y&&L){(F=u.current)==null||F.focus();return}const I=v({tabbingDirection:L?"backwards":"forwards"}),te=I.findIndex(H=>H===W);xo(I.slice(te+1))?N.preventDefault():L?(R=u.current)==null||R.focus():(O=d.current)==null||O.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[l,v]),n.jsxs(Dg,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(il,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});xo(y)}}),n.jsx(ec.Slot,{scope:t,children:n.jsx(Ce.ol,{tabIndex:-1,...a,ref:f})}),x&&n.jsx(il,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});xo(y)}})]})});rp.displayName=sp;var ip="ToastFocusProxy",il=b.forwardRef((s,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=s,a=Xn(ip,t);return n.jsx(Qn,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});il.displayName=ip;var La="Toast",vb="toast.swipeStart",wb="toast.swipeMove",_b="toast.swipeCancel",jb="toast.swipeEnd",ap=b.forwardRef((s,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...o}=s,[l,c]=Wl({prop:r,defaultProp:i??!0,onChange:a,caller:La});return n.jsx(zs,{present:t||l,children:n.jsx(Sb,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:At(s.onPause),onResume:At(s.onResume),onSwipeStart:ve(s.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(s.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ve(s.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(s.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ap.displayName=La;var[Nb,kb]=ep(La,{onClose(){}}),Sb=b.forwardRef((s,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=s,v=Xn(La,t),[y,_]=b.useState(null),N=mt(e,H=>_(H)),j=b.useRef(null),k=b.useRef(null),F=i||v.duration,R=b.useRef(0),O=b.useRef(F),W=b.useRef(0),{onToastAdd:L,onToastRemove:G}=v,Q=At(()=>{var ce;(y==null?void 0:y.contains(document.activeElement))&&((ce=v.viewport)==null||ce.focus()),o()}),I=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(W.current),R.current=new Date().getTime(),W.current=window.setTimeout(Q,H))},[Q]);b.useEffect(()=>{const H=v.viewport;if(H){const ce=()=>{I(O.current),u==null||u()},ue=()=>{const we=new Date().getTime()-R.current;O.current=O.current-we,window.clearTimeout(W.current),c==null||c()};return H.addEventListener(sl,ue),H.addEventListener(rl,ce),()=>{H.removeEventListener(sl,ue),H.removeEventListener(rl,ce)}}},[v.viewport,F,c,u,I]),b.useEffect(()=>{a&&!v.isClosePausedRef.current&&I(F)},[a,F,v.isClosePausedRef,I]),b.useEffect(()=>(L(),()=>G()),[L,G]);const te=b.useMemo(()=>y?hp(y):null,[y]);return v.viewport?n.jsxs(n.Fragment,{children:[te&&n.jsx(Cb,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:te}),n.jsx(Nb,{scope:t,onClose:Q,children:Nh.createPortal(n.jsx(ec.ItemSlot,{scope:t,children:n.jsx(Ug,{asChild:!0,onEscapeKeyDown:ve(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||Q(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ce.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:N,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:ve(s.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:ve(s.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:ve(s.onPointerMove,H=>{if(!j.current)return;const ce=H.clientX-j.current.x,ue=H.clientY-j.current.y,we=!!k.current,je=["left","right"].includes(v.swipeDirection),Ne=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ot=je?Ne(0,ce):0,Ve=je?0:Ne(0,ue),qs=H.pointerType==="touch"?10:2,Xt={x:ot,y:Ve},Hs={originalEvent:H,delta:Xt};we?(k.current=Xt,Za(wb,h,Hs,{discrete:!1})):od(Xt,v.swipeDirection,qs)?(k.current=Xt,Za(vb,d,Hs,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ce)>qs||Math.abs(ue)>qs)&&(j.current=null)}),onPointerUp:ve(s.onPointerUp,H=>{const ce=k.current,ue=H.target;if(ue.hasPointerCapture(H.pointerId)&&ue.releasePointerCapture(H.pointerId),k.current=null,j.current=null,ce){const we=H.currentTarget,je={originalEvent:H,delta:ce};od(ce,v.swipeDirection,v.swipeThreshold)?Za(jb,m,je,{discrete:!0}):Za(_b,f,je,{discrete:!0}),we.addEventListener("click",Ne=>Ne.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Cb=s=>{const{__scopeToast:e,children:t,...r}=s,i=Xn(La,e),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return Ab(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:n.jsx($g,{asChild:!0,children:n.jsx(Qn,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",t]})})})},Tb="ToastTitle",np=b.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return n.jsx(Ce.div,{...r,ref:e})});np.displayName=Tb;var Eb="ToastDescription",op=b.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return n.jsx(Ce.div,{...r,ref:e})});op.displayName=Eb;var lp="ToastAction",cp=b.forwardRef((s,e)=>{const{altText:t,...r}=s;return t.trim()?n.jsx(up,{altText:t,asChild:!0,children:n.jsx(tc,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lp}\`. Expected non-empty \`string\`.`),null)});cp.displayName=lp;var dp="ToastClose",tc=b.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s,i=kb(dp,t);return n.jsx(up,{asChild:!0,children:n.jsx(Ce.button,{type:"button",...r,ref:e,onClick:ve(s.onClick,i.onClose)})})});tc.displayName=dp;var up=b.forwardRef((s,e)=>{const{__scopeToast:t,altText:r,...i}=s;return n.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function hp(s){const e=[];return Array.from(s.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Pb(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hp(r))}}),e}function Za(s,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(s,e,{once:!0}),r?Bg(i,a):i.dispatchEvent(a)}var od=(s,e,t=0)=>{const r=Math.abs(s.x),i=Math.abs(s.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function Ab(s=()=>{}){const e=At(s);xh(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Pb(s){return s.nodeType===s.ELEMENT_NODE}function Fb(s){const e=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function xo(s){const e=document.activeElement;return s.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Rb=tp,pp=rp,fp=ap,mp=np,gp=op,bp=cp,yp=tc;function xp(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(t=xp(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function vp(){for(var s,e,t=0,r="",i=arguments.length;t<i;t++)(s=arguments[t])&&(e=xp(s))&&(r&&(r+=" "),r+=e);return r}const ld=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,cd=vp,Yn=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return cd(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=t==null?void 0:t[u],h=a==null?void 0:a[u];if(d===null)return null;const f=ld(d)||ld(h);return i[u][f]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,h,f]:u},[]);return cd(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wp=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=b.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Mb,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:wp("lucide",i),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(s,e)=>{const t=b.forwardRef(({className:r,...i},a)=>b.createElement(Ib,{ref:a,iconNode:e,className:wp(`lucide-${Ob(s)}`,r),...i}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Y("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Y("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Y("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Y("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Y("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Y("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Y("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Y("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Y("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Y("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Y("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Y("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Y("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Y("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Y("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Y("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Y("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Y("ServerCog",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m15.7 13.4-.9-.3",key:"1jwmzr"}],["path",{d:"m9.2 10.9-.9-.3",key:"qapnim"}],["path",{d:"m10.6 15.7.3-.9",key:"quwk0k"}],["path",{d:"m13.6 15.7-.4-1",key:"cb9xp7"}],["path",{d:"m10.8 9.3-.4-1",key:"1uaiz5"}],["path",{d:"m8.3 13.6 1-.4",key:"s6srou"}],["path",{d:"m14.7 10.8 1-.4",key:"4d31cq"}],["path",{d:"m13.4 8.3-.3.9",key:"1bm987"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Y("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Y("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Y("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Y("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Y("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Y("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Y("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),rc="-",oy=s=>{const e=cy(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:o=>{const l=o.split(rc);return l[0]===""&&l.length!==1&&l.shift(),Fp(l,e)||ly(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Fp=(s,e)=>{var o;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),i=r?Fp(s.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=s.join(rc);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},gd=/^\[(.+)\]$/,ly=s=>{if(gd.test(s)){const e=gd.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},cy=s=>{const{theme:e,prefix:t}=s,r={nextPart:new Map,validators:[]};return uy(Object.entries(s.classGroups),t).forEach(([a,o])=>{ol(o,r,a,e)}),r},ol=(s,e,t,r)=>{s.forEach(i=>{if(typeof i=="string"){const a=i===""?e:bd(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(dy(i)){ol(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,o])=>{ol(o,bd(e,a),t,r)})})},bd=(s,e)=>{let t=s;return e.split(rc).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},dy=s=>s.isThemeGetter,uy=(s,e)=>e?s.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[t,i]}):s,hy=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,o)=>{t.set(a,o),e++,e>s&&(e=0,r=t,t=new Map)};return{get(a){let o=t.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){t.has(a)?t.set(a,o):i(a,o)}}},Rp="!",py=s=>{const{separator:e,experimentalParseClassName:t}=s,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let _=l[y];if(u===0){if(_===i&&(r||l.slice(y,y+a)===e)){c.push(l.slice(d,y)),d=y+a;continue}if(_==="/"){h=y;continue}}_==="["?u++:_==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Rp),x=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return t?l=>t({className:l,parseClassName:o}):o},fy=s=>{if(s.length<=1)return s;const e=[];let t=[];return s.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},my=s=>({cache:hy(s.cacheSize),parseClassName:py(s),...oy(s)}),gy=/\s+/,by=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=s.trim().split(gy);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=t(u);let x=!!m,v=r(x?f.substring(0,m):f);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=fy(d).join(":"),_=h?y+Rp:y,N=_+v;if(a.includes(N))continue;a.push(N);const j=i(v,x);for(let k=0;k<j.length;++k){const F=j[k];a.push(_+F)}l=u+(l.length>0?" "+l:l)}return l};function yy(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Op(e))&&(r&&(r+=" "),r+=t);return r}const Op=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Op(s[r]))&&(t&&(t+=" "),t+=e);return t};function xy(s,...e){let t,r,i,a=o;function o(c){const u=e.reduce((d,h)=>h(d),s());return t=my(u),r=t.cache.get,i=t.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=by(c,t);return i(c,d),d}return function(){return a(yy.apply(null,arguments))}}const ke=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},Mp=/^\[(?:([a-z-]+):)?(.+)\]$/i,vy=/^\d+\/\d+$/,wy=new Set(["px","full","screen"]),_y=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ny=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ky=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yt=s=>Or(s)||wy.has(s)||vy.test(s),fs=s=>ki(s,"length",Oy),Or=s=>!!s&&!Number.isNaN(Number(s)),_o=s=>ki(s,"number",Or),Si=s=>!!s&&Number.isInteger(Number(s)),Cy=s=>s.endsWith("%")&&Or(s.slice(0,-1)),ne=s=>Mp.test(s),ms=s=>_y.test(s),Ty=new Set(["length","size","percentage"]),Ey=s=>ki(s,Ty,Ip),Ay=s=>ki(s,"position",Ip),Py=new Set(["image","url"]),Fy=s=>ki(s,Py,Iy),Ry=s=>ki(s,"",My),Ci=()=>!0,ki=(s,e,t)=>{const r=Mp.exec(s);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Oy=s=>jy.test(s)&&!Ny.test(s),Ip=()=>!1,My=s=>ky.test(s),Iy=s=>Sy.test(s),Ly=()=>{const s=ke("colors"),e=ke("spacing"),t=ke("blur"),r=ke("brightness"),i=ke("borderColor"),a=ke("borderRadius"),o=ke("borderSpacing"),l=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),h=ke("invert"),f=ke("gap"),m=ke("gradientColorStops"),x=ke("gradientColorStopPositions"),v=ke("inset"),y=ke("margin"),_=ke("opacity"),N=ke("padding"),j=ke("saturate"),k=ke("scale"),F=ke("sepia"),R=ke("skew"),O=ke("space"),W=ke("translate"),L=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",ne,e],I=()=>[ne,e],te=()=>["",Yt,fs],H=()=>["auto",Or,ne],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>["start","end","center","between","around","evenly","stretch"],Ne=()=>["","0",ne],ot=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ve=()=>[Or,ne];return{cacheSize:500,separator:":",theme:{colors:[Ci],spacing:[Yt,fs],blur:["none","",ms,ne],brightness:Ve(),borderColor:[s],borderRadius:["none","","full",ms,ne],borderSpacing:I(),borderWidth:te(),contrast:Ve(),grayscale:Ne(),hueRotate:Ve(),invert:Ne(),gap:I(),gradientColorStops:[s],gradientColorStopPositions:[Cy,fs],inset:Q(),margin:Q(),opacity:Ve(),padding:I(),saturate:Ve(),scale:Ve(),sepia:Ne(),skew:Ve(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":ot()}],"break-before":[{"break-before":ot()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),ne]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Si,ne]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:Ne()}],shrink:[{shrink:Ne()}],order:[{order:["first","last","none",Si,ne]}],"grid-cols":[{"grid-cols":[Ci]}],"col-start-end":[{col:["auto",{span:["full",Si,ne]},ne]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ci]}],"row-start-end":[{row:["auto",{span:[Si,ne]},ne]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...je()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...je(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...je(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,e]}],"min-w":[{"min-w":[ne,e,"min","max","fit"]}],"max-w":[{"max-w":[ne,e,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_o]}],"font-family":[{font:[Ci]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Or,_o]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yt,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yt,fs]}],"underline-offset":[{"underline-offset":["auto",Yt,ne]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),Ay]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ey]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fy]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Yt,ne]}],"outline-w":[{outline:[Yt,fs]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yt,fs]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",ms,Ry]}],"shadow-color":[{shadow:[Ci]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ms,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:Ve()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:Ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Si,ne]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Yt,fs,_o]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dy=xy(Ly);function me(...s){return Dy(vp(s))}const Uy=Rb,Lp=b.forwardRef(({className:s,...e},t)=>n.jsx(pp,{ref:t,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...e}));Lp.displayName=pp.displayName;const $y=Yn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dp=b.forwardRef(({className:s,variant:e,...t},r)=>n.jsx(fp,{ref:r,className:me($y({variant:e}),s),...t}));Dp.displayName=fp.displayName;const By=b.forwardRef(({className:s,...e},t)=>n.jsx(bp,{ref:t,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...e}));By.displayName=bp.displayName;const Up=b.forwardRef(({className:s,...e},t)=>n.jsx(yp,{ref:t,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...e,children:n.jsx(sc,{className:"h-4 w-4"})}));Up.displayName=yp.displayName;const $p=b.forwardRef(({className:s,...e},t)=>n.jsx(mp,{ref:t,className:me("text-sm font-semibold",s),...e}));$p.displayName=mp.displayName;const Bp=b.forwardRef(({className:s,...e},t)=>n.jsx(gp,{ref:t,className:me("text-sm opacity-90",s),...e}));Bp.displayName=gp.displayName;function zy(){const{toasts:s}=Vs();return n.jsxs(Uy,{children:[s.map(function({id:e,title:t,description:r,action:i,...a}){return n.jsxs(Dp,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx($p,{children:t}),r&&n.jsx(Bp,{children:r})]}),i,n.jsx(Up,{})]},e)}),n.jsx(Lp,{})]})}var[Jn,xN]=Ma("Tooltip",[vh]),ic=vh(),zp="TooltipProvider",Vy=700,yd="tooltip.open",[qy,Vp]=Jn(zp),qp=s=>{const{__scopeTooltip:e,delayDuration:t=Vy,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=s,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(qy,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};qp.displayName=zp;var Hp="Tooltip",[vN,eo]=Jn(Hp),ll="TooltipTrigger",Hy=b.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,i=eo(ll,t),a=Vp(ll,t),o=ic(t),l=b.useRef(null),c=mt(e,l,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Hg,{asChild:!0,...o,children:n.jsx(Ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ve(s.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ve(s.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ve(s.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ve(s.onFocus,()=>{u.current||i.onOpen()}),onBlur:ve(s.onBlur,i.onClose),onClick:ve(s.onClick,i.onClose)})})});Hy.displayName=ll;var Wy="TooltipPortal",[wN,Gy]=Jn(Wy,{forceMount:void 0}),gi="TooltipContent",Wp=b.forwardRef((s,e)=>{const t=Gy(gi,s.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=s,o=eo(gi,s.__scopeTooltip);return n.jsx(zs,{present:r||o.open,children:o.disableHoverableContent?n.jsx(Gp,{side:i,...a,ref:e}):n.jsx(Ky,{side:i,...a,ref:e})})}),Ky=b.forwardRef((s,e)=>{const t=eo(gi,s.__scopeTooltip),r=Vp(gi,s.__scopeTooltip),i=b.useRef(null),a=mt(e,i),[o,l]=b.useState(null),{trigger:c,onClose:u}=t,d=i.current,{onPointerInTransitChange:h}=r,f=b.useCallback(()=>{l(null),h(!1)},[h]),m=b.useCallback((x,v)=>{const y=x.currentTarget,_={x:x.clientX,y:x.clientY},N=Jy(_,y.getBoundingClientRect()),j=ex(_,N),k=tx(v.getBoundingClientRect()),F=rx([...j,...k]);l(F),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&d){const x=y=>m(y,d),v=y=>m(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,m,f]),b.useEffect(()=>{if(o){const x=v=>{const y=v.target,_={x:v.clientX,y:v.clientY},N=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!sx(_,o);N?f():j&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),n.jsx(Gp,{...s,ref:a})}),[Zy,Qy]=Jn(Hp,{isInside:!1}),Xy=qg("TooltipContent"),Gp=b.forwardRef((s,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=s,c=eo(gi,t),u=ic(t),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(yd,d),()=>document.removeEventListener(yd,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),n.jsx(zg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:n.jsxs(Vg,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Xy,{children:r}),n.jsx(Zy,{scope:t,isInside:!0,children:n.jsx(mb,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Wp.displayName=gi;var Kp="TooltipArrow",Yy=b.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,i=ic(t);return Qy(Kp,t).isInside?null:n.jsx(Wg,{...i,...r,ref:e})});Yy.displayName=Kp;function Jy(s,e){const t=Math.abs(e.top-s.y),r=Math.abs(e.bottom-s.y),i=Math.abs(e.right-s.x),a=Math.abs(e.left-s.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ex(s,e,t=5){const r=[];switch(e){case"top":r.push({x:s.x-t,y:s.y+t},{x:s.x+t,y:s.y+t});break;case"bottom":r.push({x:s.x-t,y:s.y-t},{x:s.x+t,y:s.y-t});break;case"left":r.push({x:s.x+t,y:s.y-t},{x:s.x+t,y:s.y+t});break;case"right":r.push({x:s.x-t,y:s.y-t},{x:s.x-t,y:s.y+t});break}return r}function tx(s){const{top:e,right:t,bottom:r,left:i}=s;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function sx(s,e){const{x:t,y:r}=s;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function rx(s){const e=s.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),ix(e)}function ix(s){if(s.length<=1)return s.slice();const e=[];for(let r=0;r<s.length;r++){const i=s[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=s.length-1;r>=0;r--){const i=s[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var ax=qp,Zp=Wp;const nx=ax,ox=b.forwardRef(({className:s,sideOffset:e=4,...t},r)=>n.jsx(Zp,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...t}));ox.displayName=Zp.displayName;const Qp=b.createContext(void 0),lx={en:{"app.title":"Afaq Al-ʿIlm","app.tagline":"Horizons of Knowledge","nav.home":"Home","nav.curriculum":"Curriculum","nav.impact":"Impact","nav.contact":"Contact","nav.demo":"Request Demo","nav.login":"Teacher Login","hero.title.revolutionizing":"Revolutionizing","hero.title.steam":"STEAM Education","hero.subtitle":"in Jordan","hero.description":"Empowering the next generation through hands-on STEAM learning with innovative curriculum kits, comprehensive teacher resources, and seamless bilingual support.","steam.what.title":"What is STEAM?","steam.description":"STEAM education integrates these five disciplines to create engaging, hands-on learning experiences that prepare students for real-world challenges and future careers.","steam.science":"Science","steam.technology":"Technology","steam.engineering":"Engineering","steam.arts":"Arts","steam.mathematics":"Mathematics","steam.explanation":"Science, Technology, Engineering, Arts & Mathematics","hero.cta.primary":"Start Your Journey","hero.cta.secondary":"Sample Lessons","hero.stats.lessons":"Lessons","hero.stats.schools":"Schools","hero.stats.students":"Students","curriculum.title":"Kit Levels & Curriculum","curriculum.subtitle":"Progressive STEAM education designed for Jordan's educational standards, from foundational concepts to advanced engineering principles. Each level aligns with Ministry of Education curriculum requirements.","curriculum.level1.title":"Level 1 – Starter Kit (Grades 1–3)","curriculum.level1.description":"Focus: Creativity, motion, shapes, simple storytelling builds.","curriculum.level2.title":"Level 2 – Builder Kit (Grades 4–6)","curriculum.level2.description":"Focus: Simple machines, gears, pulleys, force, ratios.","curriculum.level3.title":"Level 3 – Engineer Kit (Grades 7–9)","curriculum.level3.description":"Focus: Real-world mechanisms, problem-solving, optimization.","curriculum.structure.title":"Curriculum Structure","curriculum.structure.schedule":"24–30 weeks per year, 1 class/week","curriculum.structure.cycles":"4 build cycles:","curriculum.cycle1":"Motion & Structure","curriculum.cycle2":"Gears & Power","curriculum.cycle3":"Real Mechanisms","curriculum.cycle4":"Innovation & Problem Solving","curriculum.alignment":"Each build linked to Jordan's science, mathematics, and computer science units","curriculum.examples":"Example builds: Pulley lift, Gearbox car, Dancing bot, Crank walker","footer.description":"Empowering the next generation of innovators through comprehensive STEM education that aligns with Jordan's educational standards.","footer.quickLinks":"Quick Links","footer.resources":"Resources","footer.teacherPortal":"Teacher Portal","footer.sampleLessons":"Sample Lessons","footer.trainingMaterials":"Training Materials","footer.supportCenter":"Support Center","footer.copyright":"© 2025 {title}. All rights reserved.","footer.privacyPolicy":"Privacy Policy","footer.termsOfService":"Terms of Service","footer.accessibility":"Accessibility","impact.title":"Transforming Education","impact.subtitle":"Real results from schools across Jordan demonstrating the power of hands-on STEAM learning.","testimonials.title":"Voices of Success","testimonials.subtitle":"Hear from educators and students who have experienced the transformation firsthand.","contact.title":"Start Your Journey","contact.subtitle":"Ready to transform STEAM education at your school? Let's discuss how Afaq Al-ʿIlm can benefit your students.","contact.form.school":"School Name","contact.form.contact":"Contact Person","contact.form.email":"Email","contact.form.phone":"Phone","contact.form.levels":"Grade Levels Interested In","contact.form.message":"Message","contact.form.submit":"Send Request","dashboard.welcome":"Welcome to Teacher Portal","dashboard.curriculum":"Browse Curriculum","dashboard.resources":"Teaching Resources","dashboard.feedback":"Submit Feedback","stats.students.reached":"Students Reached","stats.trained.teachers":"Trained Teachers","stats.lessons":"Lessons","stats.schools.reached":"Schools Reached","stats.satisfaction":"Satisfaction Rate","skills.problem.solving":"Problem-Solving Skills","skills.creative.thinking":"Creative Thinking","skills.collaboration":"Collaboration","skills.technical":"Technical Skills","curriculum.grades":"Grades","curriculum.lessons":"lessons","curriculum.viewDetails":"View Details","skills.outcomes.progress":"Learning Outcomes Progress",loading:"Loading...","vision.title":"Our Vision","vision.content":"To revolutionize STEAM education in Jordan by making hands-on learning accessible to every student, fostering innovation, creativity, and critical thinking skills that prepare them for the challenges of tomorrow.","mission.title":"Our Mission","mission.content":"We provide comprehensive, bilingual STEAM education solutions through innovative curriculum kits, teacher training, and continuous support, partnering with schools to transform traditional learning into engaging, practical experiences that inspire the next generation of innovators and problem-solvers.","lego.title":"Learning with Building Blocks","lego.subtitle":"We use LEGO-style building pieces to make STEAM concepts tangible and fun. Students learn by building, experimenting, and discovering.","lego.blocks.title":"Colorful Building Blocks","lego.blocks.description":"Bright, interlocking pieces that help students understand structures, patterns, and engineering principles through hands-on construction.","lego.mechanics.title":"Moving Parts & Gears","lego.mechanics.description":"Wheels, gears, and mechanical elements that bring creations to life and demonstrate physics concepts in action.","lego.smart.title":"Smart Technology","lego.smart.description":"Simple motors and sensors that introduce programming and robotics in an approachable, LEGO-compatible way.","lego.badge.creative":"Creative Building","lego.badge.learning":"Learning by Doing","interactive.learning.title":"Learning with Interactive Building Blocks","interactive.learning.subtitle":"We use building pieces to make theoretical concepts tangible and enjoyable. Students learn through building, experimenting, and discovering.","interactive.building.title":"Building & Design","interactive.building.description":"Colorful building pieces help students understand structures and mechanisms","interactive.testing.title":"Experimenting & Testing","interactive.testing.description":"Students test their ideas and develop them through direct experimentation","interactive.solutions.title":"Creative Solutions","interactive.solutions.description":"Each student finds their own way to solve problems and challenges","levels.title":"Kit Levels & Curriculum","teacher.dashboard":"Teacher Dashboard","teacher.lessons":"Lesson Plans","teacher.announcements":"Announcements","teacher.resources":"Resources","teacher.welcome":"Welcome","teacher.logout":"Logout","teacher.login":"Teacher Login","teacher.totalLessons":"Total Lessons","teacher.completedLessons":"Completed Lessons","teacher.activeStudents":"Active Students","teacher.averageProgress":"Average Progress","teacher.startLesson":"Start Lesson","teacher.lessonPlan":"Plan","teacher.teacherGuide":"Teacher Guide","teacher.lessonMaterials":"Lesson Materials","teacher.curriculumPlanner":"Curriculum Planner","teacher.downloadPDF":"Download PDF","teacher.accessMaterials":"Access Materials","teacher.viewPlanner":"View Planner","teacher.newKitsAvailable":"New STEM Kits Available","teacher.trainingSession":"Teacher Training Session","teacher.searchLessons":"Search lessons...","teacher.allLevels":"All Levels","teacher.allSubjects":"All Subjects","teacher.level":"Level","teacher.subject":"Subject","teacher.difficulty":"Difficulty","teacher.learningObjectives":"Learning Objectives","teacher.assessment":"Assessment","teacher.activities":"Activities","teacher.materials":"Materials","teacher.overview":"Overview","teacher.requiredMaterials":"Required Materials","teacher.preview":"Preview","teacher.downloadMaterials":"Download Materials","teacher.noLessonsFound":"No lessons found","teacher.adjustFilters":"Try adjusting your search or filter criteria","teacher.dashboard.title":"Dashboard","teacher.minute":"min","teacher.completed":"Completed","teacher.inProgress":"In Progress","teacher.notStarted":"Not Started","teacher.complete":"complete","teacher.high":"High","teacher.medium":"Medium","teacher.low":"Low"},ar:{"app.title":"آفاق العلم","app.tagline":"آفاق المعرفة","nav.home":"الرئيسية","nav.curriculum":"المناهج","nav.impact":"التأثير","nav.contact":"اتصل بنا","nav.demo":"طلب عرض","nav.login":"دخول المعلم","hero.title.revolutionizing":"ثورة في","hero.title.steam":"تعليم ستيم","hero.subtitle":"في الأردن","hero.description":"تمكين الجيل القادم من خلال التعلم العملي لستيم مع مجموعات المناهج المبتكرة وموارد المعلمين الشاملة والدعم ثنائي اللغة السلس.","steam.what.title":"ما هو STEAM؟","steam.description":"تعليم STEAM يدمج هذه التخصصات الخمسة لخلق تجارب تعليمية عملية وجذابة تعد الطلاب لتحديات العالم الحقيقي والوظائف المستقبلية.","steam.science":"العلوم","steam.technology":"التكنولوجيا","steam.engineering":"الهندسة","steam.arts":"الفنون","steam.mathematics":"الرياضيات","steam.explanation":"العلوم والتكنولوجيا والهندسة والفنون والرياضيات","hero.cta.primary":"ابدأ رحلتك","hero.cta.secondary":"دروس نموذجية","hero.stats.lessons":"درس","hero.stats.schools":"مدرسة","hero.stats.students":"طالب","curriculum.title":"مستويات المجموعات والمناهج","curriculum.subtitle":"تعليم STEAM التدريجي المصمم وفقاً للمعايير التعليمية الأردنية، من المفاهيم الأساسية إلى مبادئ الهندسة المتقدمة. كل مستوى يتماشى مع متطلبات منهاج وزارة التربية والتعليم.","curriculum.level1.title":"المستوى 1 - المجموعة المبتدئة (الصفوف 1-3)","curriculum.level1.description":"التركيز: الإبداع، الحركة، الأشكال، بناء القصص البسيطة.","curriculum.level2.title":"المستوى 2 - مجموعة البناء (الصفوف 4-6)","curriculum.level2.description":"التركيز: الآلات البسيطة، التروس، البكرات، القوة، النسب.","curriculum.level3.title":"المستوى 3 - مجموعة المهندس (الصفوف 7-9)","curriculum.level3.description":"التركيز: الآليات الحقيقية، حل المشكلات، التحسين.","curriculum.structure.title":"هيكل المنهاج","curriculum.structure.schedule":"24-30 أسبوعاً في السنة، حصة واحدة في الأسبوع","curriculum.structure.cycles":"4 دورات بناء:","curriculum.cycle1":"الحركة والهيكل","curriculum.cycle2":"التروس والقوة","curriculum.cycle3":"الآليات الحقيقية","curriculum.cycle4":"الابتكار وحل المشكلات","curriculum.alignment":"كل بناء مرتبط بوحدات العلوم والرياضيات والحاسوب الأردنية","curriculum.examples":"أمثلة البناء: رافعة البكرة، سيارة صندوق التروس، روبوت راقص، ماشي كرنك","footer.description":"تمكين الجيل القادم من المبتكرين من خلال التعليم الشامل لـ STEM الذي يتماشى مع المعايير التعليمية الأردنية.","footer.quickLinks":"روابط سريعة","footer.resources":"الموارد","footer.teacherPortal":"بوابة المعلم","footer.sampleLessons":"دروس نموذجية","footer.trainingMaterials":"مواد التدريب","footer.supportCenter":"مركز الدعم","footer.copyright":"© 2025 {title}. جميع الحقوق محفوظة.","footer.privacyPolicy":"سياسة الخصوصية","footer.termsOfService":"شروط الخدمة","footer.accessibility":"إمكانية الوصول","impact.title":"تحويل التعليم","impact.subtitle":"نتائج حقيقية من المدارس في جميع أنحاء الأردن تظهر قوة التعلم العملي لستيم.","testimonials.title":"أصوات النجاح","testimonials.subtitle":"استمع إلى المعلمين والطلاب الذين شهدوا التحول بأنفسهم.","contact.title":"ابدأ رحلتك","contact.subtitle":"هل أنت مستعد لتحويل تعليم ستيم في مدرستك؟ دعنا نناقش كيف يمكن لآفاق العلم أن تفيد طلابك.","contact.form.school":"اسم المدرسة","contact.form.contact":"الشخص المسؤول","contact.form.email":"البريد الإلكتروني","contact.form.phone":"رقم الهاتف","contact.form.levels":"مستويات الصفوف المهتم بها","contact.form.message":"الرسالة","contact.form.submit":"إرسال الطلب","dashboard.welcome":"مرحباً بك في بوابة المعلم","dashboard.curriculum":"استعراض المناهج","dashboard.resources":"موارد التدريس","dashboard.feedback":"إرسال التقييم","stats.students.reached":"الطلاب الذين تم الوصول إليهم","stats.trained.teachers":"المعلمين المدربين","stats.lessons":"الدروس","stats.schools.reached":"المدارس التي تم الوصول إليها","stats.satisfaction":"معدل الرضا","skills.problem.solving":"مهارات حل المشكلات","skills.creative.thinking":"التفكير الإبداعي","skills.collaboration":"التعاون","skills.technical":"المهارات التقنية","curriculum.grades":"الصفوف","curriculum.lessons":"درس","curriculum.viewDetails":"عرض التفاصيل","skills.outcomes.progress":"تقدم نتائج التعلم",loading:"جاري التحميل...","vision.title":"رؤيتنا","vision.content":"إحداث ثورة في تعليم STEAM في الأردن من خلال جعل التعلم العملي متاحاً لكل طالب، وتعزيز مهارات الابتكار والإبداع والتفكير النقدي التي تعدهم لتحديات المستقبل.","mission.title":"مهمتنا","mission.content":"نحن نقدم حلول تعليمية شاملة ثنائية اللغة للعلوم والتكنولوجيا والهندسة والفنون والرياضيات من خلال مجموعات المناهج المبتكرة وتدريب المعلمين والدعم المستمر، بالشراكة مع المدارس لتحويل التعلم التقليدي إلى تجارب عملية جذابة تلهم الجيل القادم من المبتكرين وحلول المشكلات.","lego.title":"التعلم بقطع البناء","lego.subtitle":"نستخدم قطع بناء شبيهة بالليجو لجعل مفاهيم STEAM ملموسة وممتعة. يتعلم الطلاب من خلال البناء والتجريب والاكتشاف.","lego.blocks.title":"قطع البناء الملونة","lego.blocks.description":"قطع مضيئة ومترابطة تساعد الطلاب على فهم الهياكل والأنماط والمبادئ الهندسية من خلال البناء العملي.","lego.mechanics.title":"الأجزاء المتحركة والتروس","lego.mechanics.description":"عجلات وتروس وعناصر ميكانيكية تجعل الإبداعات تنبض بالحياة وتوضح مفاهيم الفيزياء عملياً.","lego.smart.title":"التكنولوجيا الذكية","lego.smart.description":"محركات وأجهزة استشعار بسيطة تعرف الطلاب على البرمجة والروبوتات بطريقة مفهومة ومتوافقة مع الليجو.","lego.badge.creative":"البناء الإبداعي","lego.badge.learning":"التعلم بالممارسة","interactive.learning.title":"التعلم بقطع البناء التفاعلية","interactive.learning.subtitle":"نستخدم قطع بناء شبيهة بالليجو لجعل المفاهيم الهندسية والعلمية ملموسة وممتعة. يتعلم الطلاب من خلال البناء والتجريب والاكتشاف.","interactive.building.title":"البناء والتصميم","interactive.building.description":"قطع البناء الملونة تساعد الطلاب على فهم الهياكل والآليات","interactive.testing.title":"التجريب والاختبار","interactive.testing.description":"يختبر الطلاب أفكارهم ويطورونها من خلال التجريب المباشر","interactive.solutions.title":"الحلول الإبداعية","interactive.solutions.description":"كل طالب يجد طريقته الخاصة لحل المشاكل والتحديات","levels.title":"مستويات المجموعات والمناهج","levels.subtitle":"تعليم STEAM التدريجي المصمم وفقاً للمعايير التعليمية الأردنية، من المفاهيم الأساسية إلى مبادئ الهندسة المتقدمة. كل مستوى يتماشى مع متطلبات منهاج وزارة التربية والتعليم.","teacher.dashboard":"لوحة المعلم","teacher.lessons":"خطط الدروس","teacher.announcements":"الإعلانات","teacher.resources":"الموارد","teacher.welcome":"مرحباً","teacher.logout":"تسجيل الخروج","teacher.login":"دخول المعلمين","teacher.totalLessons":"إجمالي الدروس","teacher.completedLessons":"الدروس المكتملة","teacher.activeStudents":"الطلاب النشطون","teacher.averageProgress":"متوسط التقدم","teacher.startLesson":"بدء الدرس","teacher.lessonPlan":"الخطة","teacher.teacherGuide":"دليل المعلم","teacher.lessonMaterials":"مواد الدرس","teacher.curriculumPlanner":"مخطط المنهج","teacher.downloadPDF":"تحميل PDF","teacher.accessMaterials":"الوصول للمواد","teacher.viewPlanner":"عرض المخطط","teacher.newKitsAvailable":"مجموعات جديدة متاحة","teacher.trainingSession":"جلسة تدريب","teacher.searchLessons":"البحث عن الدروس...","teacher.allLevels":"كل المستويات","teacher.allSubjects":"كل المواضيع","teacher.level":"المستوى","teacher.subject":"الموضوع","teacher.difficulty":"الصعوبة","teacher.learningObjectives":"الأهداف التعليمية","teacher.assessment":"التقييم","teacher.activities":"الأنشطة","teacher.materials":"المواد","teacher.overview":"نظرة عامة","teacher.requiredMaterials":"المواد المطلوبة","teacher.preview":"معاينة","teacher.downloadMaterials":"تحميل المواد","teacher.noLessonsFound":"لم يتم العثور على دروس","teacher.adjustFilters":"جرب تغيير معايير البحث أو الفلتر","teacher.dashboard.title":"لوحة التحكم","teacher.minute":"دقيقة","teacher.completed":"مكتمل","teacher.inProgress":"قيد التنفيذ","teacher.notStarted":"لم يبدأ","teacher.complete":"مكتمل","teacher.high":"عاجل","teacher.medium":"متوسط","teacher.low":"منخفض"}};function cx({children:s}){const[e,t]=b.useState("en");b.useEffect(()=>{const i=localStorage.getItem("language");i&&["en","ar"].includes(i)&&t(i)},[]),b.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr",e==="ar"?(document.body.classList.add("font-cairo"),document.body.classList.remove("font-inter")):(document.body.classList.add("font-inter"),document.body.classList.remove("font-cairo"))},[e]);const r=i=>{var a;return((a=lx[e])==null?void 0:a[i])||i};return n.jsx(Qp.Provider,{value:{language:e,setLanguage:t,t:r},children:s})}function De(){const s=b.useContext(Qp);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s}function kr(){var o;const[s,e]=b.useState(!1),{data:t,isLoading:r,error:i}=at({queryKey:["/api/auth/user"],retry:!1,staleTime:1e3*60*5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1,enabled:!s});b.useEffect(()=>{(i||t||!r&&!t)&&e(!0)},[i,t,r]);const a=i&&((o=i.message)==null?void 0:o.includes("401"));return{user:t,isLoading:r&&!s,isAuthenticated:!!t&&!a}}const dx=Yn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:s,variant:e,size:t,asChild:r=!1,...i},a)=>{const o=r?wh:"button";return n.jsx(o,{className:me(dx({variant:e,size:t,className:s})),ref:a,...i})});X.displayName="Button";function ux(){const{language:s,setLanguage:e,t}=De(),r=()=>{e(s==="en"?"ar":"en")};return n.jsx(X,{variant:"ghost",size:"sm",onClick:r,className:"px-3 py-1 text-sm bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:n.jsxs("span",{className:"font-medium",children:[s==="en"?"EN":"AR"," | ",s==="en"?"AR":"EN"]})})}function ea(){const{t:s}=De(),{isAuthenticated:e,user:t}=kr(),[r]=N0(),[i,a]=b.useState(!1),[o,l]=b.useState(!1);b.useEffect(()=>{const d=()=>{l(window.scrollY>100)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const c=[{href:"#home",label:s("nav.home")},{href:"#curriculum",label:s("nav.curriculum")},{href:"#impact",label:s("nav.impact")},{href:"#contact",label:s("nav.contact")}],u=d=>{const h=document.querySelector(d);h&&h.scrollIntoView({behavior:"smooth"}),a(!1)};return n.jsx("nav",{className:me("fixed top-0 w-full z-50 transition-all duration-300","backdrop-blur-lg border-b border-white/10",o?"bg-ocean-900/90":"bg-transparent"),children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx(ht,{href:"/",children:n.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-white font-bold text-sm leading-tight text-center",children:[n.jsx("div",{className:"text-xs",children:"آفاق"}),n.jsx("div",{className:"text-xs",children:"العلم"})]})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:s("app.title")}),n.jsx("p",{className:"text-xs text-gray-300",children:s("app.tagline")})]})]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r==="/"&&c.map(d=>n.jsx("button",{onClick:()=>u(d.href),className:"text-gray-300 hover:text-blue-400 transition-colors text-sm font-medium",children:d.label},d.href)),e&&n.jsxs(n.Fragment,{children:[n.jsx(ht,{href:"/dashboard",children:n.jsx("span",{className:"text-gray-300 hover:text-blue-400 transition-colors text-sm font-medium cursor-pointer",children:"Dashboard"})}),n.jsx(ht,{href:"/curriculum",children:n.jsx("span",{className:"text-gray-300 hover:text-blue-400 transition-colors text-sm font-medium cursor-pointer",children:"Curriculum"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ux,{}),e?n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:(t==null?void 0:t.firstName)||(t==null?void 0:t.email)}),n.jsx(X,{onClick:()=>window.location.href="/api/logout",variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:s("button.logout")})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(X,{onClick:()=>window.location.href="/api/login",variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:s("nav.login")}),n.jsx(X,{onClick:()=>u("#contact"),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold transition-all duration-300 hover:scale-105",size:"sm",children:s("nav.demo")})]}),n.jsx(X,{variant:"ghost",size:"sm",className:"md:hidden text-white",onClick:()=>a(!i),children:i?n.jsx(sc,{className:"w-5 h-5"}):n.jsx(Xb,{className:"w-5 h-5"})})]})]}),i&&n.jsxs("div",{className:"md:hidden bg-ocean-800/95 backdrop-blur-lg rounded-lg mt-2 p-4 space-y-3",children:[r==="/"&&c.map(d=>n.jsx("button",{onClick:()=>u(d.href),className:"block w-full text-left text-gray-300 hover:text-blue-400 transition-colors py-2",children:d.label},d.href)),e&&n.jsxs(n.Fragment,{children:[n.jsx(ht,{href:"/dashboard",children:n.jsx("span",{className:"block text-gray-300 hover:text-teal-400 transition-colors py-2 cursor-pointer",children:"Dashboard"})}),n.jsx(ht,{href:"/curriculum",children:n.jsx("span",{className:"block text-gray-300 hover:text-teal-400 transition-colors py-2 cursor-pointer",children:"Curriculum"})})]})]})]})})}function ta(){const{t:s}=De(),e=[{href:"#curriculum",label:s("nav.curriculum")},{href:"#impact",label:s("nav.impact")},{href:"#partners",label:s("nav.partners")},{href:"#contact",label:s("nav.contact")}],t=[{href:"/curriculum",label:s("footer.teacherPortal")},{href:"#",label:s("footer.sampleLessons")},{href:"#",label:s("footer.trainingMaterials")},{href:"#",label:s("footer.supportCenter")}],r=[{icon:Hb,href:"#",label:"Facebook"},{icon:iy,href:"#",label:"Twitter"},{icon:Gb,href:"#",label:"LinkedIn"},{icon:Wb,href:"#",label:"Instagram"},{icon:ny,href:"#",label:"YouTube"}],i=a=>{if(a.startsWith("#")){const o=document.querySelector(a);o&&o.scrollIntoView({behavior:"smooth"})}};return n.jsx("footer",{className:"bg-ocean-900/50 backdrop-blur-lg border-t border-white/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:n.jsx(_p,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-white",children:s("app.title")}),n.jsx("p",{className:"text-gray-400",children:s("app.tagline")})]})]}),n.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:s("footer.description")}),n.jsx("div",{className:"flex space-x-4",children:r.map((a,o)=>{const l=a.icon;return n.jsx("a",{href:a.href,className:"text-gray-400 hover:text-blue-400 transition-colors","aria-label":a.label,children:n.jsx(l,{className:"w-5 h-5"})},o)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:s("footer.quickLinks")}),n.jsx("ul",{className:"space-y-2",children:e.map((a,o)=>n.jsx("li",{children:n.jsx("button",{onClick:()=>i(a.href),className:"text-gray-400 hover:text-blue-400 transition-colors text-left",children:a.label})},o))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:s("footer.resources")}),n.jsx("ul",{className:"space-y-2",children:t.map((a,o)=>n.jsx("li",{children:a.href.startsWith("/")?n.jsx(ht,{href:a.href,children:n.jsx("span",{className:"text-gray-400 hover:text-blue-400 transition-colors cursor-pointer",children:a.label})}):n.jsx("a",{href:a.href,className:"text-gray-400 hover:text-blue-400 transition-colors",children:a.label})},o))})]})]}),n.jsxs("div",{className:"border-t border-white/10 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:s("footer.copyright").replace("{title}",s("app.title"))}),n.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[n.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 text-sm transition-colors",children:s("footer.privacyPolicy")}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 text-sm transition-colors",children:s("footer.termsOfService")}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 text-sm transition-colors",children:s("footer.accessibility")})]})]})]})})}const ac="/assets/3d6eda70-9a41-439f-b7c5-d303f49416f8_1754863007760-CB9UXZ4S.png";function hx(){const{t:s}=De(),{data:e}=at({queryKey:["/api/public/stats"]}),t=r=>{const i=document.querySelector(r);i&&i.scrollIntoView({behavior:"smooth"})};return n.jsxs("section",{id:"home",className:"min-h-screen relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.9)), url('https://images.unsplash.com/photo-1581726690015-c9861fa5057f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080')"}}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"animate-float absolute top-20 left-10 w-4 h-4 bg-blue-500 rounded-full opacity-60"}),n.jsx("div",{className:"animate-float absolute top-40 right-20 w-6 h-6 bg-blue-600 rounded-full opacity-40 animation-delay-1000"}),n.jsx("div",{className:"animate-float absolute bottom-32 left-1/4 w-3 h-3 bg-blue-400 rounded-full opacity-50 animation-delay-2000"}),n.jsx("div",{className:"animate-float absolute top-60 right-1/3 w-5 h-5 bg-blue-700 rounded-full opacity-30 animation-delay-500"})]}),n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-screen flex items-center",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center w-full",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6 leading-tight",children:[n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:s("hero.title.revolutionizing")}),n.jsx("br",{}),n.jsx("span",{className:"text-white",children:s("hero.title.steam")}),n.jsx("br",{}),n.jsx("span",{className:"text-2xl lg:text-3xl font-normal text-gray-300",children:s("hero.subtitle")})]}),n.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed max-w-2xl",children:s("hero.description")}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[n.jsxs(X,{onClick:()=>t("#contact"),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 px-8 py-4 text-lg font-semibold transition-all duration-300 hover:scale-105",size:"lg",children:[n.jsx(Rr,{className:"w-5 h-5 mr-2"}),s("hero.cta.primary")]}),n.jsxs(X,{onClick:()=>t("#curriculum"),variant:"ghost",className:"glassmorphism hover:bg-white/20 px-8 py-4 text-lg font-semibold transition-all duration-300 text-white border border-white/20",size:"lg",children:[n.jsx(Ds,{className:"w-5 h-5 mr-2"}),s("hero.cta.secondary")]})]})]}),n.jsx("div",{className:"relative animate-fade-in",children:n.jsxs("div",{className:"glassmorphism rounded-3xl p-8 transform hover:scale-105 transition-all duration-500",children:[n.jsx("img",{src:ac,alt:"STEAM Kit Preview",className:"rounded-2xl w-full h-auto shadow-2xl"}),n.jsx("div",{className:"absolute -top-4 -right-4 glassmorphism rounded-xl p-4 animate-float",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"Live Building"})]})}),n.jsx("div",{className:"absolute -bottom-4 -left-4 glassmorphism rounded-xl p-4 animate-float animation-delay-1000",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"4 Students"})]})})]})})]})}),n.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:n.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:n.jsx("div",{className:"w-1 h-3 bg-white/50 rounded-full mt-2 animate-pulse"})})})]})}const B=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",s),...e}));B.displayName="Card";const ie=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("flex flex-col space-y-1.5 p-6",s),...e}));ie.displayName="CardHeader";const ae=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("text-2xl font-semibold leading-none tracking-tight",s),...e}));ae.displayName="CardTitle";const Mr=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("text-sm text-muted-foreground",s),...e}));Mr.displayName="CardDescription";const V=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("p-6 pt-0",s),...e}));V.displayName="CardContent";const px=b.forwardRef(({className:s,...e},t)=>n.jsx("div",{ref:t,className:me("flex items-center p-6 pt-0",s),...e}));px.displayName="CardFooter";function fx(){const{t:s}=De();return n.jsxs("section",{className:"py-20 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-stretch",children:[n.jsx(B,{className:"glassmorphism bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-400/20 hover:scale-105 transition-all duration-500 h-full",children:n.jsxs(V,{className:"p-8 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4",children:n.jsx(cs,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:s("vision.title")})]}),n.jsx("p",{className:"text-gray-300 text-lg leading-relaxed flex-grow",children:s("vision.content")}),n.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 bg-blue-500/10 rounded-full blur-xl"}),n.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 bg-blue-400/10 rounded-full blur-lg"})]})}),n.jsx(B,{className:"glassmorphism bg-gradient-to-br from-blue-600/10 to-blue-700/5 border-blue-500/20 hover:scale-105 transition-all duration-500 h-full",children:n.jsxs(V,{className:"p-8 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center mr-4",children:n.jsx(Vb,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:s("mission.title")})]}),n.jsx("p",{className:"text-gray-300 text-lg leading-relaxed flex-grow",children:s("mission.content")}),n.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 bg-blue-600/10 rounded-full blur-xl"}),n.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 bg-blue-500/10 rounded-full blur-lg"})]})})]}),n.jsxs("div",{className:"mt-20",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:s("steam.what.title")}),n.jsx("p",{className:"text-blue-200 text-lg max-w-4xl mx-auto mb-8",children:s("steam.description")})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",dir:"ltr",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-blue-300 mb-2",children:"S"}),n.jsx("div",{className:"text-blue-200 font-medium",children:s("steam.science")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:"T"}),n.jsx("div",{className:"text-blue-200 font-medium",children:s("steam.technology")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-blue-500 mb-2",children:"E"}),n.jsx("div",{className:"text-blue-200 font-medium",children:s("steam.engineering")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"A"}),n.jsx("div",{className:"text-blue-200 font-medium",children:s("steam.arts")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-blue-700 mb-2",children:"M"}),n.jsx("div",{className:"text-blue-200 font-medium",children:s("steam.mathematics")})]})]})]}),n.jsx("div",{className:"hidden lg:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-0.5 bg-gradient-to-r from-blue-400 to-blue-600"}),n.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-blue-400 rounded-full animate-float opacity-60"}),n.jsx("div",{className:"absolute top-40 right-32 w-3 h-3 bg-blue-500 rounded-full animate-float animation-delay-1000 opacity-40"}),n.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-blue-600 rounded-full animate-float animation-delay-2000 opacity-50"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-2.5 h-2.5 bg-blue-400 rounded-full animate-float animation-delay-500 opacity-30"})]})]})}const mx=[sy,qi,Ap];function gx(){const{t:s,language:e}=De(),[t,r]=b.useState(0),{data:i,isLoading:a}=at({queryKey:["/api/public/levels"]});if(a)return n.jsx("section",{id:"curriculum",className:"py-20 relative",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-300",children:s("loading")})]})})});const o=[{en:"Introduction to basic mechanical concepts through colorful, large building blocks and simple machines.",ar:"مقدمة في المفاهيم الميكانيكية الأساسية من خلال قطع البناء الملونة والكبيرة والآلات البسيطة."},{en:"Advanced mechanical concepts with complex builds, introducing programming and sensor integration.",ar:"المفاهيم الميكانيكية المتقدمة مع البناءات المعقدة، وإدخال البرمجة وتكامل أجهزة الاستشعار."},{en:"Real-world engineering challenges with autonomous robots, sensors, and competitive robotics elements.",ar:"تحديات هندسية من العالم الحقيقي مع الروبوتات المستقلة وأجهزة الاستشعار وعناصر الروبوتات التنافسية."}],l=[[{en:"24 Interactive Lessons",ar:"24 درسًا تفاعليًا"},{en:"Basic Gears & Pulleys",ar:"التروس والبكرات الأساسية"},{en:"Storytelling Elements",ar:"عناصر سرد القصص"}],[{en:"24 Complex Projects",ar:"24 مشروعًا معقدًا"},{en:"Motorized Builds",ar:"البناءات المحركة"},{en:"Basic Programming",ar:"البرمجة الأساسية"}],[{en:"24 Engineering Challenges",ar:"24 تحديًا هندسيًا"},{en:"Autonomous Robots",ar:"الروبوتات المستقلة"},{en:"Competition Prep",ar:"إعداد المسابقات"}]];return n.jsx("section",{id:"curriculum",className:"py-20 relative",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:s("curriculum.title")})}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s("curriculum.subtitle")})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:i==null?void 0:i.map((c,u)=>{var v,y,_;const d=mx[u]||Ap,h=u===0?"border-accent-500":u===1?"border-orange-500":"border-red-500",f=u===0?"from-accent-500 to-blue-600":u===1?"from-orange-500 to-amber-600":"from-red-500 to-pink-600",m=u===0?"text-accent-400":u===1?"text-orange-400":"text-red-400",x=u===0?"bg-accent-500/20 hover:bg-accent-500/30 text-accent-400":u===1?"bg-orange-500/20 hover:bg-orange-500/30 text-orange-400":"bg-red-500/20 hover:bg-red-500/30 text-red-400";return n.jsx(B,{className:`glassmorphism hover:scale-105 transition-all duration-500 border-l-4 ${h} bg-transparent`,children:n.jsxs(V,{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:`bg-gradient-to-br ${f} w-16 h-16 rounded-2xl flex items-center justify-center`,children:n.jsx(d,{className:"w-8 h-8 text-white"})}),n.jsxs("span",{className:`${x} px-3 py-1 rounded-full text-sm font-medium`,children:["Grades ",c.gradesMin,"-",c.gradesMax]})]}),n.jsx("h3",{className:`text-2xl font-bold mb-4 ${m}`,children:e==="ar"?c.nameAr:c.name}),n.jsx("p",{className:"text-gray-300 mb-6",children:e==="ar"?(v=o[u])==null?void 0:v.ar:(y=o[u])==null?void 0:y.en}),n.jsx("ul",{className:"space-y-3 mb-6",children:(_=l[u])==null?void 0:_.map((N,j)=>n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Xi,{className:`w-4 h-4 ${m}`}),n.jsx("span",{className:"text-gray-300",children:e==="ar"?N.ar:N.en})]},j))}),n.jsxs(X,{className:`w-full ${x} transition-colors`,children:["Explore Level ",u+1]})]})},c.id)})}),n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsx(V,{className:"p-8 lg:p-12",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-3xl font-bold mb-6 text-white",children:e==="ar"?"التعلم بقطع البناء التفاعلية":"Hands-on Learning with Building Blocks"}),n.jsx("p",{className:"text-gray-300 mb-8 text-lg",children:e==="ar"?"نستخدم قطع بناء شبيهة بالليجو لجعل المفاهيم الهندسية والعلمية ملموسة وممتعة. يتعلم الطلاب من خلال البناء والتجريب والاكتشاف.":"We use LEGO-style building blocks to make engineering and scientific concepts tangible and fun. Students learn through building, experimenting, and discovering."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:e==="ar"?"البناء والتصميم":"Build & Design"}),n.jsx("p",{className:"text-gray-300",children:e==="ar"?"قطع البناء الملونة تساعد الطلاب على فهم الهياكل والآليات":"Colorful building blocks help students understand structures and mechanisms"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:e==="ar"?"التجريب والاختبار":"Experiment & Test"}),n.jsx("p",{className:"text-gray-300",children:e==="ar"?"يختبر الطلاب أفكارهم ويطورونها من خلال التجريب المباشر":"Students test their ideas and iterate through hands-on experimentation"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:e==="ar"?"الحلول الإبداعية":"Creative Solutions"}),n.jsx("p",{className:"text-gray-300",children:e==="ar"?"كل طالب يجد طريقته الخاصة لحل المشاكل والتحديات":"Each student finds their own way to solve problems and challenges"})]})]})]})]}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"glassmorphism rounded-3xl p-8 transform hover:scale-105 transition-all duration-500",children:[n.jsx("img",{src:ac,alt:"STEAM Robot Kit",className:"rounded-2xl w-full h-auto shadow-2xl"}),n.jsx("div",{className:"absolute -top-4 -right-4 glassmorphism rounded-xl p-4 animate-float",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-white",children:e==="ar"?"روبوت تفاعلي":"Interactive Robot"})]})}),n.jsx("div",{className:"absolute -bottom-4 -left-4 glassmorphism rounded-xl p-4 animate-float animation-delay-1000",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-white",children:e==="ar"?"تعلم عملي":"Hands-on Learning"})]})})]})})]})})})]})})}const bx="/assets/d37ff72f-56a2-47f8-903d-307b68a55a01_1754862431996-BWwycfns.png";function yx(){const{t:s}=De();return n.jsxs("section",{className:"py-24 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent"}),n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"}),n.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 border border-blue-400/30 rounded-full mb-6",children:n.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"مستويات التعلم التدريجي"})}),n.jsx("h2",{className:"text-5xl lg:text-6xl font-bold bg-gradient-to-r from-white via-blue-100 to-indigo-200 bg-clip-text text-transparent mb-8",children:s("levels.title")}),n.jsx("p",{className:"text-xl text-blue-200/80 max-w-4xl mx-auto leading-relaxed",children:s("levels.subtitle")})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-20",children:[n.jsxs(B,{className:"group relative bg-gradient-to-br from-slate-800/50 via-blue-900/30 to-indigo-900/50 border border-blue-500/20 hover:border-blue-400/40 backdrop-blur-sm transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsxs(V,{className:"p-8 relative z-10",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl",children:n.jsx(cs,{className:"w-8 h-8 text-white"})})]})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center group-hover:text-blue-200 transition-colors",children:s("curriculum.level1.title")}),n.jsx("p",{className:"text-slate-300 text-center leading-relaxed",children:s("curriculum.level1.description")})]})]}),n.jsxs(B,{className:"group relative bg-gradient-to-br from-slate-800/50 via-blue-900/30 to-indigo-900/50 border border-blue-500/20 hover:border-blue-400/40 backdrop-blur-sm transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsxs(V,{className:"p-8 relative z-10",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl",children:n.jsx(ud,{className:"w-8 h-8 text-white"})})]})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center group-hover:text-blue-200 transition-colors",children:s("curriculum.level2.title")}),n.jsx("p",{className:"text-slate-300 text-center leading-relaxed",children:s("curriculum.level2.description")})]})]}),n.jsxs(B,{className:"group relative bg-gradient-to-br from-slate-800/50 via-blue-900/30 to-indigo-900/50 border border-blue-500/20 hover:border-blue-400/40 backdrop-blur-sm transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsxs(V,{className:"p-8 relative z-10",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl",children:n.jsx(Yi,{className:"w-8 h-8 text-white"})})]})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center group-hover:text-blue-200 transition-colors",children:s("curriculum.level3.title")}),n.jsx("p",{className:"text-slate-300 text-center leading-relaxed",children:s("curriculum.level3.description")})]})]})]}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/30 via-blue-900/20 to-indigo-900/30 backdrop-blur-sm border border-blue-500/20 rounded-3xl p-8 lg:p-16 mb-20 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-5",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center relative z-10",children:[n.jsxs("div",{className:`space-y-10 ${s("interactive.learning.title").includes("التعلم")?"lg:order-2":""}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 border border-emerald-400/30 rounded-full mb-6",children:n.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"التعلم التفاعلي"})}),n.jsx("h3",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-white via-blue-100 to-emerald-200 bg-clip-text text-transparent mb-6",children:s("interactive.learning.title")}),n.jsx("p",{className:"text-slate-300 text-lg leading-relaxed",children:s("interactive.learning.subtitle")})]}),n.jsxs("div",{className:"grid gap-8",children:[n.jsxs("div",{className:"group flex items-start space-x-5 rtl:space-x-reverse p-4 rounded-2xl hover:bg-blue-900/20 transition-all duration-300",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-xl flex items-center justify-center",children:n.jsx(Db,{className:"w-7 h-7 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold text-white mb-3 group-hover:text-blue-200 transition-colors",children:s("interactive.building.title")}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:s("interactive.building.description")})]})]}),n.jsxs("div",{className:"group flex items-start space-x-5 rtl:space-x-reverse p-4 rounded-2xl hover:bg-blue-900/20 transition-all duration-300",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:n.jsx(ud,{className:"w-7 h-7 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold text-white mb-3 group-hover:text-blue-200 transition-colors",children:s("interactive.testing.title")}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:s("interactive.testing.description")})]})]}),n.jsxs("div",{className:"group flex items-start space-x-5 rtl:space-x-reverse p-4 rounded-2xl hover:bg-blue-900/20 transition-all duration-300",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:n.jsx(Yi,{className:"w-7 h-7 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold text-white mb-3 group-hover:text-blue-200 transition-colors",children:s("interactive.solutions.title")}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:s("interactive.solutions.description")})]})]})]})]}),n.jsx("div",{className:`${s("interactive.learning.title").includes("التعلم")?"lg:order-1":""}`,children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/30 via-purple-600/20 to-transparent rounded-3xl transform rotate-3 group-hover:rotate-6 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-emerald-600/20 via-transparent to-blue-600/30 rounded-3xl transform -rotate-2 group-hover:-rotate-4 transition-transform duration-500"}),n.jsx("img",{src:bx,alt:s("interactive.learning.title"),className:"relative w-full h-auto rounded-3xl shadow-2xl transform group-hover:scale-105 transition-transform duration-500"})]})})]})]}),n.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-800/30 via-blue-800/30 to-slate-800/30 backdrop-blur-sm border border-indigo-500/30 rounded-2xl p-10 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-indigo-500/20 to-transparent rounded-full transform translate-x-16 -translate-y-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-500/20 to-transparent rounded-full transform -translate-x-12 translate-y-12"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-center mb-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400 to-blue-500 rounded-2xl blur opacity-75"}),n.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-r from-indigo-400 to-blue-500 rounded-2xl flex items-center justify-center mr-6",children:n.jsx(pt,{className:"w-8 h-8 text-white"})})]}),n.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-indigo-200 bg-clip-text text-transparent",children:"Jordan Curriculum Alignment"})]}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-slate-300 text-lg leading-relaxed max-w-3xl mx-auto",children:s("curriculum.alignment")})})]})]})]})]})}function xx(){const{t:s}=De(),{data:e}=at({queryKey:["/api/public/stats"]});e&&(e.studentCount>0||e.teacherCount>0);const t=[{labelKey:"skills.problem.solving",percentage:92,color:"from-blue-500 to-blue-400"},{labelKey:"skills.creative.thinking",percentage:88,color:"from-accent-500 to-blue-400"},{labelKey:"skills.collaboration",percentage:95,color:"from-purple-500 to-pink-400"},{labelKey:"skills.technical",percentage:85,color:"from-orange-500 to-amber-400"}];return n.jsxs("section",{id:"impact",className:"py-20 relative",children:[n.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080')"}}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:s("impact.title")})}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s("impact.subtitle")})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mb-16 max-w-4xl mx-auto",children:[n.jsx(B,{className:"glassmorphism bg-transparent hover:scale-105 transition-all duration-300",children:n.jsxs(V,{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-accent-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Sp,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"text-4xl font-bold text-accent-500 mb-2",children:"150"}),n.jsx("div",{className:"text-gray-300 font-medium",children:s("stats.students.reached")})]})}),n.jsx(B,{className:"glassmorphism bg-transparent hover:scale-105 transition-all duration-300",children:n.jsxs(V,{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx(us,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:"10"}),n.jsx("div",{className:"text-gray-300 font-medium",children:s("stats.trained.teachers")})]})}),n.jsx(B,{className:"glassmorphism bg-transparent hover:scale-105 transition-all duration-300",children:n.jsxs(V,{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Pp,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"text-4xl font-bold text-orange-400 mb-2",children:"95"}),n.jsx("div",{className:"text-gray-300 font-medium",children:s("stats.satisfaction")})]})})]}),n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8 lg:p-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-8 text-center",children:s("skills.outcomes.progress")||"Learning Outcomes Progress"}),n.jsx("div",{className:"space-y-8",children:t.map((r,i)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300 font-medium",children:s(r.labelKey)}),n.jsxs("span",{className:"text-blue-400 font-bold",children:[r.percentage,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:n.jsx("div",{className:`bg-gradient-to-r ${r.color} h-3 rounded-full transition-all duration-1000 animate-pulse`,style:{width:`${r.percentage}%`}})})]},i))})]})})]})]})}const xd=[{id:"1",name:"Sara Al-Khatib",nameAr:"سارة الخطيب",role:"Science Teacher",roleAr:"معلمة علوم",school:"Amman International School",schoolAr:"مدرسة عمان الدولية",testimonial:"Afaq Al-ʿIlm has revolutionized how my students engage with science. The hands-on activities make complex concepts accessible and exciting.",testimonialAr:"لقد أحدثت آفاق العلم ثورة في طريقة تفاعل طلابي مع العلوم. الأنشطة العملية تجعل المفاهيم المعقدة سهلة ومثيرة.",image:"https://images.unsplash.com/photo-1494790108755-2616b612b550?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150",rating:5},{id:"2",name:"Ahmed Mansour",nameAr:"أحمد منصور",role:"Principal",roleAr:"مدير",school:"Jordan Academy",schoolAr:"أكاديمية الأردن",testimonial:"The bilingual support and alignment with Jordan's curriculum makes this platform invaluable for our diverse student body.",testimonialAr:"الدعم ثنائي اللغة والتوافق مع المنهج الأردني يجعل هذه المنصة لا تقدر بثمن لطلابنا المتنوعين.",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150",rating:5},{id:"4",name:"Omar Zaid",nameAr:"عمر زيد",role:"Technology Teacher",roleAr:"معلم تكنولوجيا",school:"Innovation Academy",schoolAr:"أكاديمية الابتكار",testimonial:"The progression from basic concepts to advanced robotics is perfectly structured. Students build confidence with each level.",testimonialAr:"التقدم من المفاهيم الأساسية إلى الروبوتات المتقدمة منظم بشكل مثالي. الطلاب يبنون الثقة مع كل مستوى.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150",rating:5}];function vx(){const{t:s,language:e}=De(),[t,r]=b.useState(0),i=2,a=Math.ceil(xd.length/i)-1;b.useEffect(()=>{const d=setInterval(()=>{r(h=>h>=a?0:h+1)},5e3);return()=>clearInterval(d)},[a]);const o=d=>{r(Math.max(0,Math.min(d,a)))},l=()=>{r(d=>d>=a?0:d+1)},c=()=>{r(d=>d<=0?a:d-1)},u=xd.slice(t*i,(t+1)*i);return n.jsx("section",{className:"py-20",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:s("testimonials.title")})}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s("testimonials.subtitle")})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:u.map(d=>n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:d.image,alt:e==="ar"?d.nameAr:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:`${e==="ar"?"mr-4":"ml-4"}`,children:[n.jsx("h4",{className:"text-xl font-bold text-white",children:e==="ar"?d.nameAr:d.name}),n.jsxs("p",{className:"text-gray-400",children:[e==="ar"?d.roleAr:d.role,", "," ",e==="ar"?d.schoolAr:d.school]})]})]}),n.jsxs("p",{className:`text-gray-300 text-lg italic mb-6 ${e==="ar"?"text-right":"text-left"}`,children:['"',e==="ar"?d.testimonialAr:d.testimonial,'"']}),n.jsx("div",{className:"flex text-yellow-400",children:Array.from({length:d.rating},(h,f)=>n.jsx(Ji,{className:"w-5 h-5 fill-current"},f))})]})},d.id))}),n.jsxs("div",{className:`flex justify-center items-center mt-8 gap-4 ${e==="ar"?"flex-row-reverse":""}`,children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:e==="ar"?l:c,className:"text-white hover:text-blue-400 hover:bg-white/10",children:e==="ar"?n.jsx(dd,{className:"w-5 h-5"}):n.jsx(dd,{className:"w-5 h-5"})}),n.jsx("div",{className:`flex ${e==="ar"?"space-x-reverse space-x-2":"space-x-2"}`,children:Array.from({length:a+1},(d,h)=>n.jsx("button",{onClick:()=>o(h),className:`w-3 h-3 rounded-full transition-colors ${h===t?"bg-blue-500":"bg-gray-500"}`},h))}),n.jsx(X,{variant:"ghost",size:"sm",onClick:e==="ar"?c:l,className:"text-white hover:text-blue-400 hover:bg-white/10",children:e==="ar"?n.jsx(Xi,{className:"w-5 h-5"}):n.jsx(Xi,{className:"w-5 h-5"})})]})]})]})})}var Da=s=>s.type==="checkbox",Ys=s=>s instanceof Date,Xe=s=>s==null;const Xp=s=>typeof s=="object";var Ae=s=>!Xe(s)&&!Array.isArray(s)&&Xp(s)&&!Ys(s),Yp=s=>Ae(s)&&s.target?Da(s.target)?s.target.checked:s.target.value:s,wx=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Jp=(s,e)=>s.has(wx(e)),_x=s=>{const e=s.constructor&&s.constructor.prototype;return Ae(e)&&e.hasOwnProperty("isPrototypeOf")},nc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Oe(s){let e;const t=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(nc&&(s instanceof Blob||r))&&(t||Ae(s)))if(e=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!_x(s))e=s;else for(const i in s)s.hasOwnProperty(i)&&(e[i]=Oe(s[i]));else return s;return e}var to=s=>/^\w*$/.test(s),Te=s=>s===void 0,oc=s=>Array.isArray(s)?s.filter(Boolean):[],lc=s=>oc(s.replace(/["|']|\]/g,"").split(/\.|\[/)),$=(s,e,t)=>{if(!e||!Ae(s))return t;const r=(to(e)?[e]:lc(e)).reduce((i,a)=>Xe(i)?i:i[a],s);return Te(r)||r===s?Te(s[e])?t:s[e]:r},it=s=>typeof s=="boolean",xe=(s,e,t)=>{let r=-1;const i=to(e)?[e]:lc(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=t;if(r!==o){const u=s[l];c=Ae(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;s[l]=c,s=s[l]}};const vn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cc=de.createContext(null);cc.displayName="HookFormContext";const so=()=>de.useContext(cc),jx=s=>{const{children:e,...t}=s;return de.createElement(cc.Provider,{value:t},e)};var ef=(s,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in s)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Pt.all&&(e._proxyFormState[o]=!r||Pt.all),t&&(t[o]=!0),s[o]}});return i};const dc=typeof window<"u"?de.useLayoutEffect:de.useEffect;function Nx(s){const e=so(),{control:t=e.control,disabled:r,name:i,exact:a}=s||{},[o,l]=de.useState(t._formState),c=de.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return dc(()=>t._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!r&&l({...t._formState,...u})}}),[i,r,a]),de.useEffect(()=>{c.current.isValid&&t._setValid(!0)},[t]),de.useMemo(()=>ef(o,t,c.current,!1),[o,t])}var Wt=s=>typeof s=="string",tf=(s,e,t,r,i)=>Wt(s)?(r&&e.watch.add(s),$(t,s,i)):Array.isArray(s)?s.map(a=>(r&&e.watch.add(a),$(t,a))):(r&&(e.watchAll=!0),t),cl=s=>Xe(s)||!Xp(s);function ls(s,e,t=new WeakSet){if(cl(s)||cl(e))return s===e;if(Ys(s)&&Ys(e))return s.getTime()===e.getTime();const r=Object.keys(s),i=Object.keys(e);if(r.length!==i.length)return!1;if(t.has(s)||t.has(e))return!0;t.add(s),t.add(e);for(const a of r){const o=s[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(Ys(o)&&Ys(l)||Ae(o)&&Ae(l)||Array.isArray(o)&&Array.isArray(l)?!ls(o,l,t):o!==l)return!1}}return!0}function kx(s){const e=so(),{control:t=e.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=s||{},c=de.useRef(i),u=de.useRef(l),d=de.useRef(void 0);u.current=l;const h=de.useMemo(()=>t._getWatch(r,c.current),[t,r]),[f,m]=de.useState(u.current?u.current(h):h);return dc(()=>t._subscribe({name:r,formState:{values:!0},exact:o,callback:x=>{if(!a){const v=tf(r,t._names,x.values||t._formValues,!1,c.current);if(u.current){const y=u.current(v);ls(y,d.current)||(m(y),d.current=y)}else m(v)}}}),[t,a,r,o]),de.useEffect(()=>t._removeUnmounted()),f}function Sx(s){const e=so(),{name:t,disabled:r,control:i=e.control,shouldUnregister:a,defaultValue:o}=s,l=Jp(i._names.array,t),c=de.useMemo(()=>$(i._formValues,t,$(i._defaultValues,t,o)),[i,t,o]),u=kx({control:i,name:t,defaultValue:c,exact:!0}),d=Nx({control:i,name:t,exact:!0}),h=de.useRef(s),f=de.useRef(i.register(t,{...s.rules,value:u,...it(s.disabled)?{disabled:s.disabled}:{}}));h.current=s;const m=de.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!$(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!$(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!$(d.validatingFields,t)},error:{enumerable:!0,get:()=>$(d.errors,t)}}),[d,t]),x=de.useCallback(N=>f.current.onChange({target:{value:Yp(N),name:t},type:vn.CHANGE}),[t]),v=de.useCallback(()=>f.current.onBlur({target:{value:$(i._formValues,t),name:t},type:vn.BLUR}),[t,i._formValues]),y=de.useCallback(N=>{const j=$(i._fields,t);j&&N&&(j._f.ref={focus:()=>N.focus&&N.focus(),select:()=>N.select&&N.select(),setCustomValidity:k=>N.setCustomValidity(k),reportValidity:()=>N.reportValidity()})},[i._fields,t]),_=de.useMemo(()=>({name:t,value:u,...it(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:x,onBlur:v,ref:y}),[t,r,d.disabled,x,v,y,u]);return de.useEffect(()=>{const N=i._options.shouldUnregister||a;i.register(t,{...h.current.rules,...it(h.current.disabled)?{disabled:h.current.disabled}:{}});const j=(k,F)=>{const R=$(i._fields,k);R&&R._f&&(R._f.mount=F)};if(j(t,!0),N){const k=Oe($(i._options.defaultValues,t));xe(i._defaultValues,t,k),Te($(i._formValues,t))&&xe(i._formValues,t,k)}return!l&&i.register(t),()=>{(l?N&&!i._state.action:N)?i.unregister(t):j(t,!1)}},[t,i,l,a]),de.useEffect(()=>{i._setDisabledField({disabled:r,name:t})},[r,t,i]),de.useMemo(()=>({field:_,formState:d,fieldState:m}),[_,d,m])}const Cx=s=>s.render(Sx(s));var sf=(s,e,t,r,i)=>e?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:i||!0}}:{},Hi=s=>Array.isArray(s)?s:[s],vd=()=>{let s=[];return{get observers(){return s},next:i=>{for(const a of s)a.next&&a.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(a=>a!==i)}}),unsubscribe:()=>{s=[]}}},et=s=>Ae(s)&&!Object.keys(s).length,uc=s=>s.type==="file",Ft=s=>typeof s=="function",wn=s=>{if(!nc)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rf=s=>s.type==="select-multiple",hc=s=>s.type==="radio",Tx=s=>hc(s)||Da(s),jo=s=>wn(s)&&s.isConnected;function Ex(s,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)s=Te(s)?r++:s[e[r++]];return s}function Ax(s){for(const e in s)if(s.hasOwnProperty(e)&&!Te(s[e]))return!1;return!0}function Pe(s,e){const t=Array.isArray(e)?e:to(e)?[e]:lc(e),r=t.length===1?s:Ex(s,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(Ae(r)&&et(r)||Array.isArray(r)&&Ax(r))&&Pe(s,t.slice(0,-1)),s}var af=s=>{for(const e in s)if(Ft(s[e]))return!0;return!1};function _n(s,e={}){const t=Array.isArray(s);if(Ae(s)||t)for(const r in s)Array.isArray(s[r])||Ae(s[r])&&!af(s[r])?(e[r]=Array.isArray(s[r])?[]:{},_n(s[r],e[r])):Xe(s[r])||(e[r]=!0);return e}function nf(s,e,t){const r=Array.isArray(s);if(Ae(s)||r)for(const i in s)Array.isArray(s[i])||Ae(s[i])&&!af(s[i])?Te(e)||cl(t[i])?t[i]=Array.isArray(s[i])?_n(s[i],[]):{..._n(s[i])}:nf(s[i],Xe(e)?{}:e[i],t[i]):t[i]=!ls(s[i],e[i]);return t}var Ti=(s,e)=>nf(s,e,_n(e));const wd={value:!1,isValid:!1},_d={value:!0,isValid:!0};var of=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Te(s[0].attributes.value)?Te(s[0].value)||s[0].value===""?_d:{value:s[0].value,isValid:!0}:_d:wd}return wd},lf=(s,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Te(s)?s:e?s===""?NaN:s&&+s:t&&Wt(s)?new Date(s):r?r(s):s;const jd={isValid:!1,value:null};var cf=s=>Array.isArray(s)?s.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,jd):jd;function Nd(s){const e=s.ref;return uc(e)?e.files:hc(e)?cf(s.refs).value:rf(e)?[...e.selectedOptions].map(({value:t})=>t):Da(e)?of(s.refs).value:lf(Te(e.value)?s.ref.value:e.value,s)}var Px=(s,e,t,r)=>{const i={};for(const a of s){const o=$(e,a);o&&xe(i,a,o._f)}return{criteriaMode:t,names:[...s],fields:i,shouldUseNativeValidation:r}},jn=s=>s instanceof RegExp,Ei=s=>Te(s)?s:jn(s)?s.source:Ae(s)?jn(s.value)?s.value.source:s.value:s,kd=s=>({isOnSubmit:!s||s===Pt.onSubmit,isOnBlur:s===Pt.onBlur,isOnChange:s===Pt.onChange,isOnAll:s===Pt.all,isOnTouch:s===Pt.onTouched});const Sd="AsyncFunction";var Fx=s=>!!s&&!!s.validate&&!!(Ft(s.validate)&&s.validate.constructor.name===Sd||Ae(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===Sd)),Rx=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Cd=(s,e,t)=>!t&&(e.watchAll||e.watch.has(s)||[...e.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const Wi=(s,e,t,r)=>{for(const i of t||Object.keys(s)){const a=$(s,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Wi(l,e))break}else if(Ae(l)&&Wi(l,e))break}}};function Td(s,e,t){const r=$(s,t);if(r||to(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),o=$(e,a),l=$(s,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:t}}var Ox=(s,e,t,r)=>{t(s);const{name:i,...a}=s;return et(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Pt.all))},Mx=(s,e,t)=>!s||!e||s===e||Hi(s).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),Ix=(s,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||s):(t?r.isOnBlur:i.isOnBlur)?!s:(t?r.isOnChange:i.isOnChange)?s:!0,Lx=(s,e)=>!oc($(s,e)).length&&Pe(s,e),Dx=(s,e,t)=>{const r=Hi($(s,t));return xe(r,"root",e[t]),xe(s,t,r),s},un=s=>Wt(s);function Ed(s,e,t="validate"){if(un(s)||Array.isArray(s)&&s.every(un)||it(s)&&!s)return{type:t,message:un(s)?s:"",ref:e}}var Sr=s=>Ae(s)&&!jn(s)?s:{value:s,message:""},Ad=async(s,e,t,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:x,name:v,valueAsNumber:y,mount:_}=s._f,N=$(t,v);if(!_||e.has(v))return{};const j=l?l[0]:o,k=I=>{i&&j.reportValidity&&(j.setCustomValidity(it(I)?"":I||""),j.reportValidity())},F={},R=hc(o),O=Da(o),W=R||O,L=(y||uc(o))&&Te(o.value)&&Te(N)||wn(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,G=sf.bind(null,v,r,F),Q=(I,te,H,ce=Jt.maxLength,ue=Jt.minLength)=>{const we=I?te:H;F[v]={type:I?ce:ue,message:we,ref:o,...G(I?ce:ue,we)}};if(a?!Array.isArray(N)||!N.length:c&&(!W&&(L||Xe(N))||it(N)&&!N||O&&!of(l).isValid||R&&!cf(l).isValid)){const{value:I,message:te}=un(c)?{value:!!c,message:c}:Sr(c);if(I&&(F[v]={type:Jt.required,message:te,ref:j,...G(Jt.required,te)},!r))return k(te),F}if(!L&&(!Xe(h)||!Xe(f))){let I,te;const H=Sr(f),ce=Sr(h);if(!Xe(N)&&!isNaN(N)){const ue=o.valueAsNumber||N&&+N;Xe(H.value)||(I=ue>H.value),Xe(ce.value)||(te=ue<ce.value)}else{const ue=o.valueAsDate||new Date(N),we=ot=>new Date(new Date().toDateString()+" "+ot),je=o.type=="time",Ne=o.type=="week";Wt(H.value)&&N&&(I=je?we(N)>we(H.value):Ne?N>H.value:ue>new Date(H.value)),Wt(ce.value)&&N&&(te=je?we(N)<we(ce.value):Ne?N<ce.value:ue<new Date(ce.value))}if((I||te)&&(Q(!!I,H.message,ce.message,Jt.max,Jt.min),!r))return k(F[v].message),F}if((u||d)&&!L&&(Wt(N)||a&&Array.isArray(N))){const I=Sr(u),te=Sr(d),H=!Xe(I.value)&&N.length>+I.value,ce=!Xe(te.value)&&N.length<+te.value;if((H||ce)&&(Q(H,I.message,te.message),!r))return k(F[v].message),F}if(m&&!L&&Wt(N)){const{value:I,message:te}=Sr(m);if(jn(I)&&!N.match(I)&&(F[v]={type:Jt.pattern,message:te,ref:o,...G(Jt.pattern,te)},!r))return k(te),F}if(x){if(Ft(x)){const I=await x(N,t),te=Ed(I,j);if(te&&(F[v]={...te,...G(Jt.validate,te.message)},!r))return k(te.message),F}else if(Ae(x)){let I={};for(const te in x){if(!et(I)&&!r)break;const H=Ed(await x[te](N,t),j,te);H&&(I={...H,...G(te,H.message)},k(H.message),r&&(F[v]=I))}if(!et(I)&&(F[v]={ref:j,...I},!r))return F}}return k(!0),F};const Ux={mode:Pt.onSubmit,reValidateMode:Pt.onChange,shouldFocusError:!0};function $x(s={}){let e={...Ux,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ft(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ae(e.defaultValues)||Ae(e.values)?Oe(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Oe(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:vd(),state:vd()},m=e.criteriaMode===Pt.all,x=w=>S=>{clearTimeout(u),u=setTimeout(w,S)},v=async w=>{if(!e.disabled&&(d.isValid||h.isValid||w)){const S=e.resolver?et((await O()).errors):await L(r,!0);S!==t.isValid&&f.state.next({isValid:S})}},y=(w,S)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((w||Array.from(l.mount)).forEach(P=>{P&&(S?xe(t.validatingFields,P,S):Pe(t.validatingFields,P))}),f.state.next({validatingFields:t.validatingFields,isValidating:!et(t.validatingFields)}))},_=(w,S=[],P,q,U=!0,D=!0)=>{if(q&&P&&!e.disabled){if(o.action=!0,D&&Array.isArray($(r,w))){const J=P($(r,w),q.argA,q.argB);U&&xe(r,w,J)}if(D&&Array.isArray($(t.errors,w))){const J=P($(t.errors,w),q.argA,q.argB);U&&xe(t.errors,w,J),Lx(t.errors,w)}if((d.touchedFields||h.touchedFields)&&D&&Array.isArray($(t.touchedFields,w))){const J=P($(t.touchedFields,w),q.argA,q.argB);U&&xe(t.touchedFields,w,J)}(d.dirtyFields||h.dirtyFields)&&(t.dirtyFields=Ti(i,a)),f.state.next({name:w,isDirty:Q(w,S),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else xe(a,w,S)},N=(w,S)=>{xe(t.errors,w,S),f.state.next({errors:t.errors})},j=w=>{t.errors=w,f.state.next({errors:t.errors,isValid:!1})},k=(w,S,P,q)=>{const U=$(r,w);if(U){const D=$(a,w,Te(P)?$(i,w):P);Te(D)||q&&q.defaultChecked||S?xe(a,w,S?D:Nd(U._f)):H(w,D),o.mount&&v()}},F=(w,S,P,q,U)=>{let D=!1,J=!1;const ye={name:w};if(!e.disabled){if(!P||q){(d.isDirty||h.isDirty)&&(J=t.isDirty,t.isDirty=ye.isDirty=Q(),D=J!==ye.isDirty);const _e=ls($(i,w),S);J=!!$(t.dirtyFields,w),_e?Pe(t.dirtyFields,w):xe(t.dirtyFields,w,!0),ye.dirtyFields=t.dirtyFields,D=D||(d.dirtyFields||h.dirtyFields)&&J!==!_e}if(P){const _e=$(t.touchedFields,w);_e||(xe(t.touchedFields,w,P),ye.touchedFields=t.touchedFields,D=D||(d.touchedFields||h.touchedFields)&&_e!==P)}D&&U&&f.state.next(ye)}return D?ye:{}},R=(w,S,P,q)=>{const U=$(t.errors,w),D=(d.isValid||h.isValid)&&it(S)&&t.isValid!==S;if(e.delayError&&P?(c=x(()=>N(w,P)),c(e.delayError)):(clearTimeout(u),c=null,P?xe(t.errors,w,P):Pe(t.errors,w)),(P?!ls(U,P):U)||!et(q)||D){const J={...q,...D&&it(S)?{isValid:S}:{},errors:t.errors,name:w};t={...t,...J},f.state.next(J)}},O=async w=>{y(w,!0);const S=await e.resolver(a,e.context,Px(w||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(w),S},W=async w=>{const{errors:S}=await O(w);if(w)for(const P of w){const q=$(S,P);q?xe(t.errors,P,q):Pe(t.errors,P)}else t.errors=S;return S},L=async(w,S,P={valid:!0})=>{for(const q in w){const U=w[q];if(U){const{_f:D,...J}=U;if(D){const ye=l.array.has(D.name),_e=U._f&&Fx(U._f);_e&&d.validatingFields&&y([q],!0);const lt=await Ad(U,l.disabled,a,m,e.shouldUseNativeValidation&&!S,ye);if(_e&&d.validatingFields&&y([q]),lt[D.name]&&(P.valid=!1,S))break;!S&&($(lt,D.name)?ye?Dx(t.errors,lt,D.name):xe(t.errors,D.name,lt[D.name]):Pe(t.errors,D.name))}!et(J)&&await L(J,S,P)}}return P.valid},G=()=>{for(const w of l.unMount){const S=$(r,w);S&&(S._f.refs?S._f.refs.every(P=>!jo(P)):!jo(S._f.ref))&&qa(w)}l.unMount=new Set},Q=(w,S)=>!e.disabled&&(w&&S&&xe(a,w,S),!ls(ot(),i)),I=(w,S,P)=>tf(w,l,{...o.mount?a:Te(S)?i:Wt(w)?{[w]:S}:S},P,S),te=w=>oc($(o.mount?a:i,w,e.shouldUnregister?$(i,w,[]):[])),H=(w,S,P={})=>{const q=$(r,w);let U=S;if(q){const D=q._f;D&&(!D.disabled&&xe(a,w,lf(S,D)),U=wn(D.ref)&&Xe(S)?"":S,rf(D.ref)?[...D.ref.options].forEach(J=>J.selected=U.includes(J.value)):D.refs?Da(D.ref)?D.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(U)?J.checked=!!U.find(ye=>ye===J.value):J.checked=U===J.value||!!U)}):D.refs.forEach(J=>J.checked=J.value===U):uc(D.ref)?D.ref.value="":(D.ref.value=U,D.ref.type||f.state.next({name:w,values:Oe(a)})))}(P.shouldDirty||P.shouldTouch)&&F(w,U,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&Ne(w)},ce=(w,S,P)=>{for(const q in S){if(!S.hasOwnProperty(q))return;const U=S[q],D=w+"."+q,J=$(r,D);(l.array.has(w)||Ae(U)||J&&!J._f)&&!Ys(U)?ce(D,U,P):H(D,U,P)}},ue=(w,S,P={})=>{const q=$(r,w),U=l.array.has(w),D=Oe(S);xe(a,w,D),U?(f.array.next({name:w,values:Oe(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&P.shouldDirty&&f.state.next({name:w,dirtyFields:Ti(i,a),isDirty:Q(w,D)})):q&&!q._f&&!Xe(D)?ce(w,D,P):H(w,D,P),Cd(w,l)&&f.state.next({...t,name:w}),f.state.next({name:o.mount?w:void 0,values:Oe(a)})},we=async w=>{o.mount=!0;const S=w.target;let P=S.name,q=!0;const U=$(r,P),D=_e=>{q=Number.isNaN(_e)||Ys(_e)&&isNaN(_e.getTime())||ls(_e,$(a,P,_e))},J=kd(e.mode),ye=kd(e.reValidateMode);if(U){let _e,lt;const Ha=S.type?Nd(U._f):Yp(w),ps=w.type===vn.BLUR||w.type===vn.FOCUS_OUT,Fg=!Rx(U._f)&&!e.resolver&&!$(t.errors,P)&&!U._f.deps||Ix(ps,$(t.touchedFields,P),t.isSubmitted,ye,J),po=Cd(P,l,ps);xe(a,P,Ha),ps?(!S||!S.readOnly)&&(U._f.onBlur&&U._f.onBlur(w),c&&c(0)):U._f.onChange&&U._f.onChange(w);const fo=F(P,Ha,ps),Rg=!et(fo)||po;if(!ps&&f.state.next({name:P,type:w.type,values:Oe(a)}),Fg)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?ps&&v():ps||v()),Rg&&f.state.next({name:P,...po?{}:fo});if(!ps&&po&&f.state.next({...t}),e.resolver){const{errors:zc}=await O([P]);if(D(Ha),q){const Og=Td(t.errors,r,P),Vc=Td(zc,r,Og.name||P);_e=Vc.error,P=Vc.name,lt=et(zc)}}else y([P],!0),_e=(await Ad(U,l.disabled,a,m,e.shouldUseNativeValidation))[P],y([P]),D(Ha),q&&(_e?lt=!1:(d.isValid||h.isValid)&&(lt=await L(r,!0)));q&&(U._f.deps&&Ne(U._f.deps),R(P,lt,_e,fo))}},je=(w,S)=>{if($(t.errors,S)&&w.focus)return w.focus(),1},Ne=async(w,S={})=>{let P,q;const U=Hi(w);if(e.resolver){const D=await W(Te(w)?w:U);P=et(D),q=w?!U.some(J=>$(D,J)):P}else w?(q=(await Promise.all(U.map(async D=>{const J=$(r,D);return await L(J&&J._f?{[D]:J}:J)}))).every(Boolean),!(!q&&!t.isValid)&&v()):q=P=await L(r);return f.state.next({...!Wt(w)||(d.isValid||h.isValid)&&P!==t.isValid?{}:{name:w},...e.resolver||!w?{isValid:P}:{},errors:t.errors}),S.shouldFocus&&!q&&Wi(r,je,w?U:l.mount),q},ot=w=>{const S={...o.mount?a:i};return Te(w)?S:Wt(w)?$(S,w):w.map(P=>$(S,P))},Ve=(w,S)=>({invalid:!!$((S||t).errors,w),isDirty:!!$((S||t).dirtyFields,w),error:$((S||t).errors,w),isValidating:!!$(t.validatingFields,w),isTouched:!!$((S||t).touchedFields,w)}),qs=w=>{w&&Hi(w).forEach(S=>Pe(t.errors,S)),f.state.next({errors:w?t.errors:{}})},Xt=(w,S,P)=>{const q=($(r,w,{_f:{}})._f||{}).ref,U=$(t.errors,w)||{},{ref:D,message:J,type:ye,..._e}=U;xe(t.errors,w,{..._e,...S,ref:q}),f.state.next({name:w,errors:t.errors,isValid:!1}),P&&P.shouldFocus&&q&&q.focus&&q.focus()},Hs=(w,S)=>Ft(w)?f.state.subscribe({next:P=>"values"in P&&w(I(void 0,S),P)}):I(w,S,!0),co=w=>f.state.subscribe({next:S=>{Mx(w.name,S.name,w.exact)&&Ox(S,w.formState||d,Pg,w.reRenderRoot)&&w.callback({values:{...a},...t,...S,defaultValues:i})}}).unsubscribe,Lc=w=>(o.mount=!0,h={...h,...w.formState},co({...w,formState:h})),qa=(w,S={})=>{for(const P of w?Hi(w):l.mount)l.mount.delete(P),l.array.delete(P),S.keepValue||(Pe(r,P),Pe(a,P)),!S.keepError&&Pe(t.errors,P),!S.keepDirty&&Pe(t.dirtyFields,P),!S.keepTouched&&Pe(t.touchedFields,P),!S.keepIsValidating&&Pe(t.validatingFields,P),!e.shouldUnregister&&!S.keepDefaultValue&&Pe(i,P);f.state.next({values:Oe(a)}),f.state.next({...t,...S.keepDirty?{isDirty:Q()}:{}}),!S.keepIsValid&&v()},Ws=({disabled:w,name:S})=>{(it(w)&&o.mount||w||l.disabled.has(S))&&(w?l.disabled.add(S):l.disabled.delete(S))},uo=(w,S={})=>{let P=$(r,w);const q=it(S.disabled)||it(e.disabled);return xe(r,w,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:w}},name:w,mount:!0,...S}}),l.mount.add(w),P?Ws({disabled:it(S.disabled)?S.disabled:e.disabled,name:w}):k(w,!0,S.value),{...q?{disabled:S.disabled||e.disabled}:{},...e.progressive?{required:!!S.required,min:Ei(S.min),max:Ei(S.max),minLength:Ei(S.minLength),maxLength:Ei(S.maxLength),pattern:Ei(S.pattern)}:{},name:w,onChange:we,onBlur:we,ref:U=>{if(U){uo(w,S),P=$(r,w);const D=Te(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,J=Tx(D),ye=P._f.refs||[];if(J?ye.find(_e=>_e===D):D===P._f.ref)return;xe(r,w,{_f:{...P._f,...J?{refs:[...ye.filter(jo),D,...Array.isArray($(i,w))?[{}]:[]],ref:{type:D.type,name:w}}:{ref:D}}}),k(w,!1,void 0,D)}else P=$(r,w,{}),P._f&&(P._f.mount=!1),(e.shouldUnregister||S.shouldUnregister)&&!(Jp(l.array,w)&&o.action)&&l.unMount.add(w)}}},ho=()=>e.shouldFocusError&&Wi(r,je,l.mount),Tg=w=>{it(w)&&(f.state.next({disabled:w}),Wi(r,(S,P)=>{const q=$(r,P);q&&(S.disabled=q._f.disabled||w,Array.isArray(q._f.refs)&&q._f.refs.forEach(U=>{U.disabled=q._f.disabled||w}))},0,!1))},Dc=(w,S)=>async P=>{let q;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let U=Oe(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:D,values:J}=await O();t.errors=D,U=Oe(J)}else await L(r);if(l.disabled.size)for(const D of l.disabled)Pe(U,D);if(Pe(t.errors,"root"),et(t.errors)){f.state.next({errors:{}});try{await w(U,P)}catch(D){q=D}}else S&&await S({...t.errors},P),ho(),setTimeout(ho);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:et(t.errors)&&!q,submitCount:t.submitCount+1,errors:t.errors}),q)throw q},Eg=(w,S={})=>{$(r,w)&&(Te(S.defaultValue)?ue(w,Oe($(i,w))):(ue(w,S.defaultValue),xe(i,w,Oe(S.defaultValue))),S.keepTouched||Pe(t.touchedFields,w),S.keepDirty||(Pe(t.dirtyFields,w),t.isDirty=S.defaultValue?Q(w,Oe($(i,w))):Q()),S.keepError||(Pe(t.errors,w),d.isValid&&v()),f.state.next({...t}))},Uc=(w,S={})=>{const P=w?Oe(w):i,q=Oe(P),U=et(w),D=U?i:q;if(S.keepDefaultValues||(i=P),!S.keepValues){if(S.keepDirtyValues){const J=new Set([...l.mount,...Object.keys(Ti(i,a))]);for(const ye of Array.from(J))$(t.dirtyFields,ye)?xe(D,ye,$(a,ye)):ue(ye,$(D,ye))}else{if(nc&&Te(w))for(const J of l.mount){const ye=$(r,J);if(ye&&ye._f){const _e=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(wn(_e)){const lt=_e.closest("form");if(lt){lt.reset();break}}}}if(S.keepFieldsRef)for(const J of l.mount)ue(J,$(D,J));else r={}}a=e.shouldUnregister?S.keepDefaultValues?Oe(i):{}:Oe(D),f.array.next({values:{...D}}),f.state.next({values:{...D}})}l={mount:S.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!S.keepIsValid||!!S.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:S.keepSubmitCount?t.submitCount:0,isDirty:U?!1:S.keepDirty?t.isDirty:!!(S.keepDefaultValues&&!ls(w,i)),isSubmitted:S.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:U?{}:S.keepDirtyValues?S.keepDefaultValues&&a?Ti(i,a):t.dirtyFields:S.keepDefaultValues&&w?Ti(i,w):S.keepDirty?t.dirtyFields:{},touchedFields:S.keepTouched?t.touchedFields:{},errors:S.keepErrors?t.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},$c=(w,S)=>Uc(Ft(w)?w(a):w,S),Ag=(w,S={})=>{const P=$(r,w),q=P&&P._f;if(q){const U=q.refs?q.refs[0]:q.ref;U.focus&&(U.focus(),S.shouldSelect&&Ft(U.select)&&U.select())}},Pg=w=>{t={...t,...w}},Bc={control:{register:uo,unregister:qa,getFieldState:Ve,handleSubmit:Dc,setError:Xt,_subscribe:co,_runSchema:O,_focusError:ho,_getWatch:I,_getDirty:Q,_setValid:v,_setFieldArray:_,_setDisabledField:Ws,_setErrors:j,_getFieldArray:te,_reset:Uc,_resetDefaultValues:()=>Ft(e.defaultValues)&&e.defaultValues().then(w=>{$c(w,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:Tg,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(w){o=w},get _defaultValues(){return i},get _names(){return l},set _names(w){l=w},get _formState(){return t},get _options(){return e},set _options(w){e={...e,...w}}},subscribe:Lc,trigger:Ne,register:uo,handleSubmit:Dc,watch:Hs,setValue:ue,getValues:ot,reset:$c,resetField:Eg,clearErrors:qs,unregister:qa,setError:Xt,setFocus:Ag,getFieldState:Ve};return{...Bc,formControl:Bc}}function Bx(s={}){const e=de.useRef(void 0),t=de.useRef(void 0),[r,i]=de.useState({isDirty:!1,isValidating:!1,isLoading:Ft(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:Ft(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:r},s.defaultValues&&!Ft(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...l}=$x(s);e.current={...l,formState:r}}const a=e.current.control;return a._options=s,dc(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),de.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),de.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),de.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),de.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),de.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),de.useEffect(()=>{s.values&&!ls(s.values,t.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=s.values,i(o=>({...o}))):a._resetDefaultValues()},[a,s.values]),de.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=ef(r,a),e.current}const Pd=(s,e,t)=>{if(s&&"reportValidity"in s){const r=$(t,e);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},df=(s,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Pd(r.ref,t,s):r.refs&&r.refs.forEach(i=>Pd(i,t,s))}},zx=(s,e)=>{e.shouldUseNativeValidation&&df(s,e);const t={};for(const r in s){const i=$(e.fields,r),a=Object.assign(s[r]||{},{ref:i&&i.ref});if(Vx(e.names||Object.keys(s),r)){const o=Object.assign({},$(t,r));xe(o,"root",a),xe(t,r,o)}else xe(t,r,a)}return t},Vx=(s,e)=>s.some(t=>t.startsWith(e+"."));var qx=function(s,e){for(var t={};s.length;){var r=s[0],i=r.code,a=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];t[o]={message:l.message,type:l.code}}else t[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return s.push(h)})}),e){var c=t[o].types,u=c&&c[r.code];t[o]=sf(o,e,t,i,u?[].concat(u,r.message):r.message)}s.shift()}return t},Hx=function(s,e,t){return t===void 0&&(t={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(s[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return a.shouldUseNativeValidation&&df({},a),{errors:{},values:t.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:zx(qx(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},fe;(function(s){s.assertEqual=i=>{};function e(i){}s.assertIs=e;function t(i){throw new Error}s.assertNever=t,s.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},s.getValidEnumValues=i=>{const a=s.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return s.objectValues(o)},s.objectValues=i=>s.objectKeys(i).map(function(a){return i[a]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},s.find=(i,a)=>{for(const o of i)if(a(o))return o},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}s.joinValues=r,s.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(fe||(fe={}));var Fd;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(Fd||(Fd={}));const K=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=s=>{switch(typeof s){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(s)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(s)?K.array:s===null?K.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?K.promise:typeof Map<"u"&&s instanceof Map?K.map:typeof Set<"u"&&s instanceof Set?K.set:typeof Date<"u"&&s instanceof Date?K.date:K.object;default:return K.unknown}},M=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];t[a]=t[a]||[],t[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}hs.create=s=>new hs(s);const dl=(s,e)=>{let t;switch(s.code){case M.invalid_type:s.received===K.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case M.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,fe.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:t=`Unrecognized key(s) in object: ${fe.joinValues(s.keys,", ")}`;break;case M.invalid_union:t="Invalid input";break;case M.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${fe.joinValues(s.options)}`;break;case M.invalid_enum_value:t=`Invalid enum value. Expected ${fe.joinValues(s.options)}, received '${s.received}'`;break;case M.invalid_arguments:t="Invalid function arguments";break;case M.invalid_return_type:t="Invalid function return type";break;case M.invalid_date:t="Invalid date";break;case M.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:fe.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case M.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case M.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case M.custom:t="Invalid input";break;case M.invalid_intersection_types:t="Intersection results could not be merged";break;case M.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case M.not_finite:t="Number must be finite";break;default:t=e.defaultError,fe.assertNever(s)}return{message:t}};let Wx=dl;function Gx(){return Wx}const Kx=s=>{const{data:e,path:t,errorMaps:r,issueData:i}=s,a=[...t,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function z(s,e){const t=Gx(),r=Kx({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===dl?void 0:dl].filter(i=>!!i)});s.common.issues.push(r)}class nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return se;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return nt.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return se;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const se=Object.freeze({status:"aborted"}),Ii=s=>({status:"dirty",value:s}),gt=s=>({status:"valid",value:s}),Rd=s=>s.status==="aborted",Od=s=>s.status==="dirty",bi=s=>s.status==="valid",Nn=s=>typeof Promise<"u"&&s instanceof Promise;var Z;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Z||(Z={}));class Us{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Md=(s,e)=>{if(bi(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new hs(s.common.issues);return this._error=t,this._error}}};function le(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=s;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??t??l.defaultError}},description:i}}class pe{get description(){return this._def.description}_getType(e){return ys(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nt,ctx:{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Nn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Md(r,i)}"~validate"(e){var r,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return bi(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>bi(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Nn(i)?i:Promise.resolve(i));return Md(r,a)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:M.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new xi({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Is.create(this,this._def)}nullable(){return vi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zt.create(this)}promise(){return Tn.create(this,this._def)}or(e){return Sn.create([this,e],this._def)}and(e){return Cn.create(this,e,this._def)}transform(e){return new xi({...le(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new hl({...le(this._def),innerType:this,defaultValue:t,typeName:re.ZodDefault})}brand(){return new bv({typeName:re.ZodBranded,type:this,...le(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new pl({...le(this._def),innerType:this,catchValue:t,typeName:re.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return pc.create(this,e)}readonly(){return fl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zx=/^c[^\s-]{8,}$/i,Qx=/^[0-9a-z]+$/,Xx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jx=/^[a-z0-9_-]{21}$/i,ev=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let No;const iv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,av=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ov=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dv=new RegExp(`^${uf}$`);function hf(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function uv(s){return new RegExp(`^${hf(s)}$`)}function hv(s){let e=`${uf}T${hf(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function pv(s,e){return!!((e==="v4"||!e)&&iv.test(s)||(e==="v6"||!e)&&nv.test(s))}function fv(s,e){if(!ev.test(s))return!1;try{const[t]=s.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mv(s,e){return!!((e==="v4"||!e)&&av.test(s)||(e==="v6"||!e)&&ov.test(s))}class Fs extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const a=this._getOrReturnCtx(e);return z(a,{code:M.invalid_type,expected:K.string,received:a.parsedType}),se}const r=new nt;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),z(i,{code:M.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),z(i,{code:M.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?z(i,{code:M.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&z(i,{code:M.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")sv.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"email",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")No||(No=new RegExp(rv,"u")),No.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"emoji",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Yx.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"uuid",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Jx.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"nanoid",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Zx.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"cuid",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Qx.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"cuid2",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Xx.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"ulid",code:M.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),z(i,{validation:"url",code:M.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"regex",code:M.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?hv(a).test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?dv.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?uv(a).test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{code:M.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?tv.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"duration",code:M.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?pv(e.data,a.version)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"ip",code:M.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?fv(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"jwt",code:M.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?mv(e.data,a.version)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"cidr",code:M.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?lv.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"base64",code:M.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?cv.test(e.data)||(i=this._getOrReturnCtx(e,i),z(i,{validation:"base64url",code:M.invalid_string,message:a.message}),r.dirty()):fe.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:M.invalid_string,...Z.errToObj(r)})}_addCheck(e){return new Fs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Z.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Z.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Z.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Z.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Z.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Z.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Z.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Z.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Z.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Z.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Z.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Z.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Z.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Z.errToObj(t)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Fs.create=s=>new Fs({checks:[],typeName:re.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...le(s)});function gv(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,a=Number.parseInt(s.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class sa extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const a=this._getOrReturnCtx(e);return z(a,{code:M.invalid_type,expected:K.number,received:a.parsedType}),se}let r;const i=new nt;for(const a of this._def.checks)a.kind==="int"?fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:M.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?gv(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:M.not_finite,message:a.message}),i.dirty()):fe.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Z.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Z.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Z.toString(t))}setLimit(e,t,r,i){return new sa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Z.toString(i)}]})}_addCheck(e){return new sa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}sa.create=s=>new sa({checks:[],typeName:re.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...le(s)});class ra extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let r;const i=new nt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),z(r,{code:M.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):fe.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return z(t,{code:M.invalid_type,expected:K.bigint,received:t.parsedType}),se}gte(e,t){return this.setLimit("min",e,!0,Z.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Z.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Z.toString(t))}setLimit(e,t,r,i){return new ra({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Z.toString(i)}]})}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ra.create=s=>new ra({checks:[],typeName:re.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...le(s)});class Id extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.boolean,received:r.parsedType}),se}return gt(e.data)}}Id.create=s=>new Id({typeName:re.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...le(s)});class kn extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const a=this._getOrReturnCtx(e);return z(a,{code:M.invalid_type,expected:K.date,received:a.parsedType}),se}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return z(a,{code:M.invalid_date}),se}const r=new nt;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),z(i,{code:M.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),z(i,{code:M.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):fe.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Z.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Z.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}kn.create=s=>new kn({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:re.ZodDate,...le(s)});class Ld extends pe{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.symbol,received:r.parsedType}),se}return gt(e.data)}}Ld.create=s=>new Ld({typeName:re.ZodSymbol,...le(s)});class Dd extends pe{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.undefined,received:r.parsedType}),se}return gt(e.data)}}Dd.create=s=>new Dd({typeName:re.ZodUndefined,...le(s)});class Ud extends pe{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.null,received:r.parsedType}),se}return gt(e.data)}}Ud.create=s=>new Ud({typeName:re.ZodNull,...le(s)});class $d extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return gt(e.data)}}$d.create=s=>new $d({typeName:re.ZodAny,...le(s)});class Bd extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gt(e.data)}}Bd.create=s=>new Bd({typeName:re.ZodUnknown,...le(s)});class $s extends pe{_parse(e){const t=this._getOrReturnCtx(e);return z(t,{code:M.invalid_type,expected:K.never,received:t.parsedType}),se}}$s.create=s=>new $s({typeName:re.ZodNever,...le(s)});class zd extends pe{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.void,received:r.parsedType}),se}return gt(e.data)}}zd.create=s=>new zd({typeName:re.ZodVoid,...le(s)});class Zt extends pe{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==K.array)return z(t,{code:M.invalid_type,expected:K.array,received:t.parsedType}),se;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(o||l)&&(z(t,{code:o?M.too_big:M.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(z(t,{code:M.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(z(t,{code:M.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>i.type._parseAsync(new Us(t,o,t.path,l)))).then(o=>nt.mergeArray(r,o));const a=[...t.data].map((o,l)=>i.type._parseSync(new Us(t,o,t.path,l)));return nt.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Zt({...this._def,minLength:{value:e,message:Z.toString(t)}})}max(e,t){return new Zt({...this._def,maxLength:{value:e,message:Z.toString(t)}})}length(e,t){return new Zt({...this._def,exactLength:{value:e,message:Z.toString(t)}})}nonempty(e){return this.min(1,e)}}Zt.create=(s,e)=>new Zt({type:s,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...le(e)});function Er(s){if(s instanceof Fe){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=Is.create(Er(r))}return new Fe({...s._def,shape:()=>e})}else return s instanceof Zt?new Zt({...s._def,type:Er(s.element)}):s instanceof Is?Is.create(Er(s.unwrap())):s instanceof vi?vi.create(Er(s.unwrap())):s instanceof _r?_r.create(s.items.map(e=>Er(e))):s}class Fe extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=fe.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return z(u,{code:M.invalid_type,expected:K.object,received:u.parsedType}),se}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Us(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof $s){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(z(i,{code:M.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Us(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>nt.mergeObjectSync(r,u)):nt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Z.errToObj,new Fe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:Z.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Fe({...this._def,unknownKeys:"strip"})}passthrough(){return new Fe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Fe({...this._def,catchall:e})}pick(e){const t={};for(const r of fe.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Fe({...this._def,shape:()=>t})}omit(e){const t={};for(const r of fe.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Fe({...this._def,shape:()=>t})}deepPartial(){return Er(this)}partial(e){const t={};for(const r of fe.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new Fe({...this._def,shape:()=>t})}required(e){const t={};for(const r of fe.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Is;)a=a._def.innerType;t[r]=a}return new Fe({...this._def,shape:()=>t})}keyof(){return pf(fe.objectKeys(this.shape))}}Fe.create=(s,e)=>new Fe({shape:()=>s,unknownKeys:"strip",catchall:$s.create(),typeName:re.ZodObject,...le(e)});Fe.strictCreate=(s,e)=>new Fe({shape:()=>s,unknownKeys:"strict",catchall:$s.create(),typeName:re.ZodObject,...le(e)});Fe.lazycreate=(s,e)=>new Fe({shape:s,unknownKeys:"strip",catchall:$s.create(),typeName:re.ZodObject,...le(e)});class Sn extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new hs(l.ctx.common.issues));return z(t,{code:M.invalid_union,unionErrors:o}),se}if(t.common.async)return Promise.all(r.map(async a=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const u={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new hs(c));return z(t,{code:M.invalid_union,unionErrors:l}),se}}get options(){return this._def.options}}Sn.create=(s,e)=>new Sn({options:s,typeName:re.ZodUnion,...le(e)});function ul(s,e){const t=ys(s),r=ys(e);if(s===e)return{valid:!0,data:s};if(t===K.object&&r===K.object){const i=fe.objectKeys(e),a=fe.objectKeys(s).filter(l=>i.indexOf(l)!==-1),o={...s,...e};for(const l of a){const c=ul(s[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(t===K.array&&r===K.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<s.length;a++){const o=s[a],l=e[a],c=ul(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===K.date&&r===K.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Cn extends pe{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(Rd(a)||Rd(o))return se;const l=ul(a.value,o.value);return l.valid?((Od(a)||Od(o))&&t.dirty(),{status:t.value,value:l.data}):(z(r,{code:M.invalid_intersection_types}),se)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cn.create=(s,e,t)=>new Cn({left:s,right:e,typeName:re.ZodIntersection,...le(t)});class _r extends pe{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return z(r,{code:M.invalid_type,expected:K.array,received:r.parsedType}),se;if(r.data.length<this._def.items.length)return z(r,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&r.data.length>this._def.items.length&&(z(r,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Us(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>nt.mergeArray(t,o)):nt.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new _r({...this._def,rest:e})}}_r.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _r({items:s,typeName:re.ZodTuple,rest:null,...le(e)})};class Vd extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return z(r,{code:M.invalid_type,expected:K.map,received:r.parsedType}),se;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new Us(r,l,r.path,[u,"key"])),value:a._parse(new Us(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return se;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),l.set(u.value,d.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return se;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),l.set(u.value,d.value)}return{status:t.value,value:l}}}}Vd.create=(s,e,t)=>new Vd({valueType:e,keyType:s,typeName:re.ZodMap,...le(t)});class ia extends pe{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return z(r,{code:M.invalid_type,expected:K.set,received:r.parsedType}),se;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(z(r,{code:M.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(z(r,{code:M.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return se;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Us(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,t){return new ia({...this._def,minSize:{value:e,message:Z.toString(t)}})}max(e,t){return new ia({...this._def,maxSize:{value:e,message:Z.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ia.create=(s,e)=>new ia({valueType:s,minSize:null,maxSize:null,typeName:re.ZodSet,...le(e)});class qd extends pe{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qd.create=(s,e)=>new qd({getter:s,typeName:re.ZodLazy,...le(e)});class Hd extends pe{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return z(t,{received:t.data,code:M.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hd.create=(s,e)=>new Hd({value:s,typeName:re.ZodLiteral,...le(e)});function pf(s,e){return new yi({values:s,typeName:re.ZodEnum,...le(e)})}class yi extends pe{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return z(t,{expected:fe.joinValues(r),received:t.parsedType,code:M.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return z(t,{received:t.data,code:M.invalid_enum_value,options:r}),se}return gt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return yi.create(e,{...this._def,...t})}exclude(e,t=this._def){return yi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}yi.create=pf;class Wd extends pe{_parse(e){const t=fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=fe.objectValues(t);return z(r,{expected:fe.joinValues(i),received:r.parsedType,code:M.invalid_type}),se}if(this._cache||(this._cache=new Set(fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=fe.objectValues(t);return z(r,{received:r.data,code:M.invalid_enum_value,options:i}),se}return gt(e.data)}get enum(){return this._def.values}}Wd.create=(s,e)=>new Wd({values:s,typeName:re.ZodNativeEnum,...le(e)});class Tn extends pe{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&t.common.async===!1)return z(t,{code:M.invalid_type,expected:K.promise,received:t.parsedType}),se;const r=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return gt(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Tn.create=(s,e)=>new Tn({type:s,typeName:re.ZodPromise,...le(e)});class xi extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{z(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(t.value==="aborted")return se;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?se:c.status==="dirty"||t.value==="dirty"?Ii(c.value):c});{if(t.value==="aborted")return se;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?se:l.status==="dirty"||t.value==="dirty"?Ii(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?se:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?se:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bi(o))return se;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bi(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:t.value,value:l})):se);fe.assertNever(i)}}xi.create=(s,e,t)=>new xi({schema:s,typeName:re.ZodEffects,effect:e,...le(t)});xi.createWithPreprocess=(s,e,t)=>new xi({schema:e,effect:{type:"preprocess",transform:s},typeName:re.ZodEffects,...le(t)});class Is extends pe{_parse(e){return this._getType(e)===K.undefined?gt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Is.create=(s,e)=>new Is({innerType:s,typeName:re.ZodOptional,...le(e)});class vi extends pe{_parse(e){return this._getType(e)===K.null?gt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vi.create=(s,e)=>new vi({innerType:s,typeName:re.ZodNullable,...le(e)});class hl extends pe{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hl.create=(s,e)=>new hl({innerType:s,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...le(e)});class pl extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Nn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pl.create=(s,e)=>new pl({innerType:s,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...le(e)});class Gd extends pe{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return z(r,{code:M.invalid_type,expected:K.nan,received:r.parsedType}),se}return{status:"valid",value:e.data}}}Gd.create=s=>new Gd({typeName:re.ZodNaN,...le(s)});class bv extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class pc extends pe{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?se:a.status==="dirty"?(t.dirty(),Ii(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?se:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new pc({in:e,out:t,typeName:re.ZodPipeline})}}class fl extends pe{_parse(e){const t=this._def.innerType._parse(e),r=i=>(bi(i)&&(i.value=Object.freeze(i.value)),i);return Nn(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}fl.create=(s,e)=>new fl({innerType:s,typeName:re.ZodReadonly,...le(e)});var re;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(re||(re={}));const Gs=Fs.create;$s.create;const yv=Zt.create,xv=Fe.create;Sn.create;Cn.create;_r.create;yi.create;Tn.create;Is.create;vi.create;const Gt=b.forwardRef(({className:s,type:e,...t},r)=>n.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t}));Gt.displayName="Input";const ff=b.forwardRef(({className:s,...e},t)=>n.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...e}));ff.displayName="Textarea";function vv(s){const e=b.useRef({value:s,previous:s});return b.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var ro="Checkbox",[wv,_N]=Ma(ro),[_v,fc]=wv(ro);function jv(s){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=s,[f,m]=Wl({prop:t,defaultProp:i??!1,onChange:c,caller:ro}),[x,v]=b.useState(null),[y,_]=b.useState(null),N=b.useRef(!1),j=x?!!o||!!x.closest("form"):!0,k={checked:f,disabled:a,setChecked:m,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:Ls(i)?!1:i,isFormControl:j,bubbleInput:y,setBubbleInput:_};return n.jsx(_v,{scope:e,...k,children:Nv(h)?h(k):r})}var mf="CheckboxTrigger",gf=b.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:t,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=fc(mf,s),v=mt(i,d),y=b.useRef(c);return b.useEffect(()=>{const _=a==null?void 0:a.form;if(_){const N=()=>h(y.current);return _.addEventListener("reset",N),()=>_.removeEventListener("reset",N)}},[a,h]),n.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Ls(c)?"mixed":c,"aria-required":u,"data-state":wf(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:ve(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ve(t,_=>{h(N=>Ls(N)?!0:!N),x&&m&&(f.current=_.isPropagationStopped(),f.current||_.stopPropagation())})})});gf.displayName=mf;var mc=b.forwardRef((s,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=s;return n.jsx(jv,{__scopeCheckbox:t,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(gf,{...h,ref:e,__scopeCheckbox:t}),f&&n.jsx(vf,{__scopeCheckbox:t})]})})});mc.displayName=ro;var bf="CheckboxIndicator",yf=b.forwardRef((s,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=s,a=fc(bf,t);return n.jsx(zs,{present:r||Ls(a.checked)||a.checked===!0,children:n.jsx(Ce.span,{"data-state":wf(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...s.style}})})});yf.displayName=bf;var xf="CheckboxBubbleInput",vf=b.forwardRef(({__scopeCheckbox:s,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=fc(xf,s),x=mt(t,m),v=vv(a),y=Gg(r);b.useEffect(()=>{const N=f;if(!N)return;const j=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(j,"checked").set,R=!i.current;if(v!==a&&F){const O=new Event("click",{bubbles:R});N.indeterminate=Ls(a),F.call(N,Ls(a)?!1:a),N.dispatchEvent(O)}},[f,v,a,i]);const _=b.useRef(Ls(a)?!1:a);return n.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:x,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});vf.displayName=xf;function Nv(s){return typeof s=="function"}function Ls(s){return s==="indeterminate"}function wf(s){return Ls(s)?"indeterminate":s?"checked":"unchecked"}const _f=b.forwardRef(({className:s,...e},t)=>n.jsx(mc,{ref:t,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...e,children:n.jsx(yf,{className:me("flex items-center justify-center text-current"),children:n.jsx($b,{className:"h-4 w-4"})})}));_f.displayName=mc.displayName;var kv="Label",jf=b.forwardRef((s,e)=>n.jsx(Ce.label,{...s,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=s.onMouseDown)==null||i.call(s,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jf.displayName=kv;var Nf=jf;const Sv=Yn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),En=b.forwardRef(({className:s,...e},t)=>n.jsx(Nf,{ref:t,className:me(Sv(),s),...e}));En.displayName=Nf.displayName;const Cv=jx,kf=b.createContext({}),Ai=({...s})=>n.jsx(kf.Provider,{value:{name:s.name},children:n.jsx(Cx,{...s})}),io=()=>{const s=b.useContext(kf),e=b.useContext(Sf),{getFieldState:t,formState:r}=so(),i=t(s.name,r);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:s.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Sf=b.createContext({}),Ks=b.forwardRef(({className:s,...e},t)=>{const r=b.useId();return n.jsx(Sf.Provider,{value:{id:r},children:n.jsx("div",{ref:t,className:me("space-y-2",s),...e})})});Ks.displayName="FormItem";const Zs=b.forwardRef(({className:s,...e},t)=>{const{error:r,formItemId:i}=io();return n.jsx(En,{ref:t,className:me(r&&"text-destructive",s),htmlFor:i,...e})});Zs.displayName="FormLabel";const Ar=b.forwardRef(({...s},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:a}=io();return n.jsx(wh,{ref:e,id:r,"aria-describedby":t?`${i} ${a}`:`${i}`,"aria-invalid":!!t,...s})});Ar.displayName="FormControl";const Tv=b.forwardRef(({className:s,...e},t)=>{const{formDescriptionId:r}=io();return n.jsx("p",{ref:t,id:r,className:me("text-sm text-muted-foreground",s),...e})});Tv.displayName="FormDescription";const Pr=b.forwardRef(({className:s,children:e,...t},r)=>{const{error:i,formMessageId:a}=io(),o=i?String((i==null?void 0:i.message)??""):e;return o?n.jsx("p",{ref:r,id:a,className:me("text-sm font-medium text-destructive",s),...t,children:o}):null});Pr.displayName="FormMessage";const Ev=xv({schoolName:Gs().min(1,"School name is required"),contactName:Gs().min(1,"Contact name is required"),email:Gs().email("Valid email is required"),phone:Gs().optional(),city:Gs().optional(),gradeLevels:yv(Gs()).optional(),message:Gs().optional()});function Av(){const{t:s,language:e}=De(),{toast:t}=Vs(),[r,i]=b.useState([]),a=Bx({resolver:Hx(Ev),defaultValues:{schoolName:"",contactName:"",email:"",phone:"",city:"",gradeLevels:[],message:""}}),o=Yh({mutationFn:async d=>tl("POST","/api/public/contact",{...d,gradeLevels:r}),onSuccess:()=>{t({title:"Success!",description:"Your inquiry has been submitted successfully. We'll contact you soon!",duration:5e3}),a.reset(),i([])},onError:d=>{t({title:"Error",description:"Failed to submit inquiry. Please try again.",variant:"destructive"}),console.error("Contact form error:",d)}}),l=d=>{o.mutate(d)},c=[{value:"1-3",label:"Grades 1-3",labelAr:"الصفوف 1-3"},{value:"4-6",label:"Grades 4-6",labelAr:"الصفوف 4-6"},{value:"7-9",label:"Grades 7-9",labelAr:"الصفوف 7-9"}],u=(d,h)=>{i(f=>h?[...f,d]:f.filter(m=>m!==d))};return n.jsx("section",{id:"contact",className:"py-20",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:s("contact.title")})}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s("contact.subtitle")})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Request a Demo"}),n.jsx(Cv,{...a,children:n.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(Ai,{control:a.control,name:"schoolName",render:({field:d})=>n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.school")}),n.jsx(Ar,{children:n.jsx(Gt,{...d,className:"bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Enter school name"})}),n.jsx(Pr,{})]})}),n.jsx(Ai,{control:a.control,name:"contactName",render:({field:d})=>n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.contact")}),n.jsx(Ar,{children:n.jsx(Gt,{...d,className:"bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Your name"})}),n.jsx(Pr,{})]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(Ai,{control:a.control,name:"email",render:({field:d})=>n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.email")}),n.jsx(Ar,{children:n.jsx(Gt,{...d,type:"email",className:"bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"contact@school.edu.jo"})}),n.jsx(Pr,{})]})}),n.jsx(Ai,{control:a.control,name:"phone",render:({field:d})=>n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.phone")}),n.jsx(Ar,{children:n.jsx(Gt,{...d,type:"tel",className:"bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-teal-500",placeholder:"+962 X XXXX XXXX"})}),n.jsx(Pr,{})]})})]}),n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.levels")}),n.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:c.map(d=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_f,{checked:r.includes(d.value),onCheckedChange:h=>u(d.value,h===!0),className:"border-white/20 data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),n.jsx("span",{className:"text-gray-300 text-sm",children:e==="ar"?d.labelAr:d.label})]},d.value))})]}),n.jsx(Ai,{control:a.control,name:"message",render:({field:d})=>n.jsxs(Ks,{children:[n.jsx(Zs,{className:"text-gray-300 font-medium",children:s("contact.form.message")}),n.jsx(Ar,{children:n.jsx(ff,{...d,rows:4,className:"bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Tell us about your school's STEM education goals..."})}),n.jsx(Pr,{})]})}),n.jsxs(X,{type:"submit",disabled:o.isPending,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-4 transition-all duration-300 hover:scale-105",children:[n.jsx(Ep,{className:"w-5 h-5 mr-2"}),o.isPending?"Sending...":s("contact.form.submit")]})]})})]})}),n.jsxs("div",{className:"space-y-8",children:[n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Contact Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Jb,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Phone"}),n.jsx("p",{className:"text-gray-300",dir:"ltr",children:"+962 6 535 5000"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(Qb,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Email"}),n.jsx("p",{className:"text-gray-300",dir:"ltr",children:"info@afaq-alilm.edu.jo"})]})]})]})]})}),n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Teacher Portal"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Already a partner school? Access your teacher resources and curriculum materials."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(X,{onClick:()=>window.location.href="/api/login",className:"w-full bg-white/10 hover:bg-white/20 text-white transition-colors",variant:"ghost",children:[n.jsx(Zb,{className:"w-5 h-5 mr-2"}),"Teacher Login"]}),n.jsxs(X,{onClick:()=>{const d=document.querySelector("#curriculum");d&&d.scrollIntoView({behavior:"smooth"})},className:"w-full bg-white/10 hover:bg-white/20 text-white transition-colors",variant:"ghost",children:[n.jsx(Ms,{className:"w-5 h-5 mr-2"}),"Sample Lessons"]})]})]})}),n.jsx(B,{className:"glassmorphism bg-transparent",children:n.jsxs(V,{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Follow Our Journey"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"w-12 h-12 bg-blue-600 hover:bg-blue-700 rounded-xl flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-white font-bold",children:"f"})}),n.jsx("a",{href:"#",className:"w-12 h-12 bg-blue-400 hover:bg-blue-500 rounded-xl flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-white font-bold",children:"t"})}),n.jsx("a",{href:"#",className:"w-12 h-12 bg-blue-700 hover:bg-blue-800 rounded-xl flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-white font-bold",children:"in"})}),n.jsx("a",{href:"#",className:"w-12 h-12 bg-pink-600 hover:bg-pink-700 rounded-xl flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-white font-bold",children:"ig"})}),n.jsx("a",{href:"#",className:"w-12 h-12 bg-red-600 hover:bg-red-700 rounded-xl flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-white font-bold",children:"yt"})})]})]})})]})]})]})})}function Kd(){return b.useEffect(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]),n.jsxs("div",{className:"min-h-screen bg-ocean-900 text-white overflow-x-hidden",children:[n.jsx(ea,{}),n.jsxs("main",{children:[n.jsx(hx,{}),n.jsx(fx,{}),n.jsx(gx,{}),n.jsx(yx,{}),n.jsx(xx,{}),n.jsx(vx,{}),n.jsx(Av,{})]}),n.jsx(ta,{})]})}function Ua(s){return/^401: .*Unauthorized/.test(s.message)}function Zd(){const{t:s,language:e}=De(),{user:t,isAuthenticated:r,isLoading:i}=kr(),{toast:a}=Vs(),{data:o,isLoading:l,error:c}=at({queryKey:["/api/dashboard"],enabled:r});if(b.useEffect(()=>{if(!i&&!r){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[r,i,a]),b.useEffect(()=>{if(c&&Ua(c)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[c,a]),i||l)return n.jsx("div",{className:"min-h-screen bg-ocean-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-white",children:s("loading")})]})});const u=[{title:s("dashboard.curriculum"),titleAr:"استعراض المناهج",description:"Browse and access lesson plans",descriptionAr:"استعرض واحصل على خطط الدروس",icon:pt,href:"/curriculum",color:"from-teal-500 to-cyan-600"},{title:s("dashboard.resources"),titleAr:"موارد التدريس",description:"Download teaching materials",descriptionAr:"تحميل مواد التدريس",icon:Ds,href:"#",color:"from-accent-500 to-green-600"},{title:s("dashboard.feedback"),titleAr:"إرسال التقييم",description:"Submit lesson feedback",descriptionAr:"إرسال تقييم الدروس",icon:Cp,href:"#",color:"from-purple-500 to-pink-600"}];return n.jsxs("div",{className:"min-h-screen bg-ocean-900 text-white",children:[n.jsx(ea,{}),n.jsx("main",{className:"pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"mb-12",children:n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-accent-500 rounded-2xl flex items-center justify-center",children:n.jsx(_p,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:s("dashboard.welcome")}),n.jsxs("p",{className:"text-xl text-gray-300",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.email)||"Teacher","!"]})]})]})}),(o==null?void 0:o.stats)&&n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(ey,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"text-3xl font-bold text-teal-400 mb-1",children:o.stats.schoolCount.toLocaleString()}),n.jsx("div",{className:"text-gray-300 text-sm",children:s("stats.partner.schools")})]})}),n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Sp,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"text-3xl font-bold text-accent-500 mb-1",children:o.stats.studentCount.toLocaleString()}),n.jsx("div",{className:"text-gray-300 text-sm",children:s("stats.students.reached")})]})}),n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(us,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:o.stats.teacherCount.toLocaleString()}),n.jsx("div",{className:"text-gray-300 text-sm",children:s("stats.trained.teachers")})]})}),n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-amber-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Pp,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-1",children:"95"}),n.jsx("div",{className:"text-gray-300 text-sm",children:s("stats.satisfaction")})]})})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:u.map((d,h)=>{const f=d.icon;return n.jsx(B,{className:"glassmorphism bg-transparent border-white/20 hover:scale-105 transition-all duration-300 group",children:n.jsxs(V,{className:"p-8",children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${d.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:n.jsx(f,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:e==="ar"?d.titleAr:d.title}),n.jsx("p",{className:"text-gray-300 mb-6",children:e==="ar"?d.descriptionAr:d.description}),n.jsx(ht,{href:d.href,children:n.jsxs(X,{className:"w-full bg-white/10 hover:bg-white/20 text-white border border-white/20 group-hover:border-white/40 transition-all duration-300",children:["Get Started",n.jsx(Xi,{className:"w-4 h-4 ml-2"})]})})]})},h)})}),(o==null?void 0:o.levels)&&n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx(pt,{className:"w-6 h-6 mr-3 text-teal-400"}),"Curriculum Levels"]})}),n.jsx(V,{children:n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.levels.map((d,h)=>{const f=[{bg:"from-accent-500 to-green-600",text:"text-accent-400",border:"border-accent-500/30"},{bg:"from-orange-500 to-amber-600",text:"text-orange-400",border:"border-orange-500/30"},{bg:"from-red-500 to-pink-600",text:"text-red-400",border:"border-red-500/30"}],m=f[h]||f[0];return n.jsxs("div",{className:`bg-white/5 rounded-xl p-6 border ${m.border} hover:bg-white/10 transition-colors`,children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${m.bg} rounded-xl flex items-center justify-center mb-4`,children:n.jsx("span",{className:"text-white font-bold",children:h+1})}),n.jsx("h4",{className:`text-lg font-bold ${m.text} mb-2`,children:e==="ar"?d.nameAr:d.name}),n.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Grades ",d.gradesMin,"-",d.gradesMax]}),n.jsx(ht,{href:"/curriculum",children:n.jsxs(X,{size:"sm",variant:"ghost",className:`${m.text} hover:bg-white/10`,children:["View Lessons",n.jsx(Xi,{className:"w-4 h-4 ml-1"})]})})]},d.id)})})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mt-12",children:[n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"text-xl font-bold text-white flex items-center",children:[n.jsx(wr,{className:"w-5 h-5 mr-3 text-teal-400"}),"Recent Updates"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/5 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:"New lesson materials added"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Level 2 - Week 8: Advanced Gears"}),n.jsx("p",{className:"text-gray-500 text-xs",children:"2 hours ago"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/5 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-accent-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:"Curriculum updates available"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Jordan MOE alignment improvements"}),n.jsx("p",{className:"text-gray-500 text-xs",children:"1 day ago"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/5 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:"Training webinar scheduled"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Advanced robotics techniques"}),n.jsx("p",{className:"text-gray-500 text-xs",children:"3 days ago"})]})]})]})})]}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"text-xl font-bold text-white flex items-center",children:[n.jsx(Ji,{className:"w-5 h-5 mr-3 text-teal-400"}),"Featured Resources"]})}),n.jsx(V,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Building Techniques Guide"}),n.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Comprehensive manual for LEGO Technic construction"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"Download PDF"})]}),n.jsxs("div",{className:"p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Assessment Rubrics"}),n.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Standardized evaluation criteria for all levels"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"View Templates"})]}),n.jsxs("div",{className:"p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Video Tutorials"}),n.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Step-by-step building instructions"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"Watch Now"})]})]})})]})]})]})}),n.jsx(ta,{})]})}const Pv=Yn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:s,variant:e,...t}){return n.jsx("div",{className:me(Pv({variant:e}),s),...t})}var ao="Tabs",[Fv,jN]=Ma(ao,[_h]),Cf=_h(),[Rv,gc]=Fv(ao),Tf=b.forwardRef((s,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=s,d=jh(l),[h,f]=Wl({prop:r,onChange:i,defaultProp:a??"",caller:ao});return n.jsx(Rv,{scope:t,baseId:Qg(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:n.jsx(Ce.div,{dir:d,"data-orientation":o,...u,ref:e})})});Tf.displayName=ao;var Ef="TabsList",Af=b.forwardRef((s,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=s,a=gc(Ef,t),o=Cf(t);return n.jsx(Kg,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Ce.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Af.displayName=Ef;var Pf="TabsTrigger",Ff=b.forwardRef((s,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=s,o=gc(Pf,t),l=Cf(t),c=Mf(o.baseId,r),u=If(o.baseId,r),d=r===o.value;return n.jsx(Zg,{asChild:!0,...l,focusable:!i,active:d,children:n.jsx(Ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:ve(s.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ve(s.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ve(s.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});Ff.displayName=Pf;var Rf="TabsContent",Of=b.forwardRef((s,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...o}=s,l=gc(Rf,t),c=Mf(l.baseId,r),u=If(l.baseId,r),d=r===l.value,h=b.useRef(d);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(zs,{present:i||d,children:({present:f})=>n.jsx(Ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...s.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});Of.displayName=Rf;function Mf(s,e){return`${s}-trigger-${e}`}function If(s,e){return`${s}-content-${e}`}var Ov=Tf,Lf=Af,Df=Ff,Uf=Of;const no=Ov,$a=b.forwardRef(({className:s,...e},t)=>n.jsx(Lf,{ref:t,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...e}));$a.displayName=Lf.displayName;const tt=b.forwardRef(({className:s,...e},t)=>n.jsx(Df,{ref:t,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...e}));tt.displayName=Df.displayName;const st=b.forwardRef(({className:s,...e},t)=>n.jsx(Uf,{ref:t,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...e}));st.displayName=Uf.displayName;function Gi(s,e){return s.replace(/\{(\w+)\}/g,(t,r)=>{var i;return((i=e[r])==null?void 0:i.toString())||t})}function Mv(){const{t:s,language:e}=De(),{isAuthenticated:t,isLoading:r}=kr(),{toast:i}=Vs(),[a,o]=b.useState(""),[l,c]=b.useState(""),{data:u,isLoading:d}=at({queryKey:["/api/public/levels"]}),{data:h,isLoading:f,error:m}=at({queryKey:["/api/lessons",a],enabled:t});b.useEffect(()=>{if(!r&&!t){i({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,i]),b.useEffect(()=>{if(m&&Ua(m)){i({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[m,i]),b.useEffect(()=>{u&&u.length>0&&!a&&o(u[0].id)},[u,a]);const x=h==null?void 0:h.filter(y=>{var k;if(!l)return!0;const _=l.toLowerCase(),N=e==="ar"?y.titleAr:y.title,j=e==="ar"?y.objectiveAr:y.objective;return(N==null?void 0:N.toLowerCase().includes(_))||(j==null?void 0:j.toLowerCase().includes(_))||((k=y.buildType)==null?void 0:k.toLowerCase().includes(_))});if(r)return n.jsx("div",{className:"min-h-screen bg-ocean-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-white",children:s("loading")})]})});const v=[{bg:"from-accent-500 to-green-600",text:"text-accent-400",badge:"bg-accent-500/20 text-accent-400"},{bg:"from-orange-500 to-amber-600",text:"text-orange-400",badge:"bg-orange-500/20 text-orange-400"},{bg:"from-red-500 to-pink-600",text:"text-red-400",badge:"bg-red-500/20 text-red-400"}];return n.jsxs("div",{className:"min-h-screen bg-ocean-900 text-white",children:[n.jsx(ea,{}),n.jsx("main",{className:"pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Curriculum Library"}),n.jsx("p",{className:"text-xl text-gray-300",children:"Access comprehensive lesson plans and teaching resources"})]}),n.jsxs(X,{className:"bg-gradient-to-r from-teal-500 to-accent-500 hover:from-teal-600 hover:to-accent-600",children:[n.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Download All"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(Gt,{placeholder:"Search lessons, objectives, or build types...",value:l,onChange:y=>c(y.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-teal-500"})]}),n.jsxs(X,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[n.jsx(kp,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),u&&n.jsxs(no,{value:a,onValueChange:o,className:"mb-8",children:[n.jsx($a,{className:"glassmorphism bg-white/10 border border-white/20 p-1",children:u.map((y,_)=>{const N=v[_]||v[0];return n.jsx(tt,{value:y.id,className:`data-[state=active]:bg-white/20 data-[state=active]:${N.text} text-gray-300 hover:text-white`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 bg-gradient-to-br ${N.bg} rounded-full`}),n.jsx("span",{className:"font-medium",children:e==="ar"?y.nameAr:y.name}),n.jsx(Le,{variant:"secondary",className:`${N.badge} text-xs`,children:Gi(s("curriculum.grades"),{min:y.gradesMin.toString(),max:y.gradesMax.toString()})})]})},y.id)})}),u.map((y,_)=>{var N;return n.jsxs(st,{value:y.id,className:"mt-8",children:[n.jsx(B,{className:"glassmorphism bg-transparent border-white/20 mb-6",children:n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${((N=v[_])==null?void 0:N.bg)||v[0].bg} rounded-xl flex items-center justify-center`,children:n.jsx("span",{className:"text-white font-bold text-lg",children:_+1})}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-2xl text-white",children:e==="ar"?y.nameAr:y.name}),n.jsxs("p",{className:"text-gray-300",children:[Gi(s("curriculum.grades"),{min:y.gradesMin.toString(),max:y.gradesMax.toString()})," • 24 Lessons"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-teal-400",children:(x==null?void 0:x.length)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Available Lessons"})]})]})})}),f?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-300",children:s("loading")})]}):x&&x.length>0?n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(j=>{var k;return n.jsx(B,{className:"glassmorphism bg-transparent border-white/20 hover:scale-105 transition-all duration-300 group",children:n.jsxs(V,{className:"p-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:j.thumbnailUrl||"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=250",alt:e==="ar"?j.titleAr:j.title,className:"w-full h-48 object-cover rounded-t-lg"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx(Le,{className:`${((k=v[_])==null?void 0:k.badge)||v[0].badge}`,children:Gi(s("lesson.week"),{number:j.weekNumber.toString()})})}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("div",{className:"flex space-x-2",children:n.jsxs(Le,{variant:"secondary",className:"bg-black/50 text-white",children:[n.jsx(wr,{className:"w-3 h-3 mr-1"}),"60 min"]})})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2",children:e==="ar"?j.titleAr:j.title}),n.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:e==="ar"?j.objectiveAr:j.objective}),j.buildType&&n.jsx("div",{className:"flex items-center space-x-2 mb-4",children:n.jsx(Le,{variant:"outline",className:"border-white/20 text-gray-300",children:j.buildType})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(us,{className:"w-4 h-4"}),n.jsx("span",{children:"2-4 students"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ji,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{children:"4.8"})]})]}),n.jsx(ht,{href:`/curriculum/lesson/${j.id}`,children:n.jsxs(X,{size:"sm",className:"bg-white/10 hover:bg-white/20 text-white group-hover:bg-teal-500 group-hover:text-white transition-all duration-300",children:[n.jsx(Np,{className:"w-4 h-4 mr-1"}),"View"]})})]})]})]})},j.id)})}):n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-12 text-center",children:[n.jsx(pt,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Lessons Found"}),n.jsx("p",{className:"text-gray-400 mb-6",children:l?`No lessons match your search "${l}"`:"No lessons available for this level yet."}),l&&n.jsx(X,{onClick:()=>c(""),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Clear Search"})]})})]},y.id)})]}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20 mt-12",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-xl font-bold text-white",children:"Additional Resources"})}),n.jsx(V,{children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-6 bg-white/5 rounded-xl hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4",children:n.jsx(Ds,{className:"w-6 h-6 text-white"})}),n.jsx("h4",{className:"text-white font-medium mb-2",children:"Teacher Guide"}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Complete implementation guide for all levels"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"Download PDF"})]}),n.jsxs("div",{className:"p-6 bg-white/5 rounded-xl hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-500 to-green-600 rounded-xl flex items-center justify-center mb-4",children:n.jsx(pt,{className:"w-6 h-6 text-white"})}),n.jsx("h4",{className:"text-white font-medium mb-2",children:"Assessment Tools"}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Rubrics and evaluation criteria"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"View Tools"})]}),n.jsxs("div",{className:"p-6 bg-white/5 rounded-xl hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mb-4",children:n.jsx(us,{className:"w-6 h-6 text-white"})}),n.jsx("h4",{className:"text-white font-medium mb-2",children:"Training Videos"}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Professional development resources"}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-teal-400 hover:bg-white/10 p-0",children:"Watch Now"})]})]})})]})]})}),n.jsx(ta,{})]})}var Iv="Separator",Qd="horizontal",Lv=["horizontal","vertical"],$f=b.forwardRef((s,e)=>{const{decorative:t,orientation:r=Qd,...i}=s,a=Dv(r)?r:Qd,l=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Ce.div,{"data-orientation":a,...l,...i,ref:e})});$f.displayName=Iv;function Dv(s){return Lv.includes(s)}var Bf=$f;const hn=b.forwardRef(({className:s,orientation:e="horizontal",decorative:t=!0,...r},i)=>n.jsx(Bf,{ref:i,decorative:t,orientation:e,className:me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));hn.displayName=Bf.displayName;function Uv(){const{id:s}=Mh(),{t:e,language:t}=De(),{isAuthenticated:r,isLoading:i}=kr(),{toast:a}=Vs(),{data:o,isLoading:l,error:c}=at({queryKey:[`/api/lessons/${s}`],enabled:r&&!!s});if(b.useEffect(()=>{if(!i&&!r){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[r,i,a]),b.useEffect(()=>{if(c&&Ua(c)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[c,a]),i||l)return n.jsx("div",{className:"min-h-screen bg-ocean-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-white",children:e("loading")})]})});if(!o)return n.jsxs("div",{className:"min-h-screen bg-ocean-900 text-white",children:[n.jsx(ea,{}),n.jsx("main",{className:"pt-20 pb-12",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(B,{className:"glassmorphism bg-transparent border-white/20",children:n.jsxs(V,{className:"p-12 text-center",children:[n.jsx(Ms,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Lesson Not Found"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"The lesson you're looking for doesn't exist or has been removed."}),n.jsx(ht,{href:"/curriculum",children:n.jsxs(X,{className:"bg-gradient-to-r from-teal-500 to-accent-500 hover:from-teal-600 hover:to-accent-600",children:[n.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back to Curriculum"]})})]})})})}),n.jsx(ta,{})]});const u=[{title:"Introduction & Setup",titleAr:"المقدمة والإعداد",duration:"10 min",description:"Introduce the lesson objectives and prepare materials",descriptionAr:"تقديم أهداف الدرس وإعداد المواد"},{title:"Building Phase",titleAr:"مرحلة البناء",duration:"30 min",description:"Students work in teams to construct the model",descriptionAr:"يعمل الطلاب في فرق لبناء النموذج"},{title:"Testing & Iteration",titleAr:"الاختبار والتطوير",duration:"15 min",description:"Test the model and make improvements",descriptionAr:"اختبار النموذج وإجراء التحسينات"},{title:"Reflection & Discussion",titleAr:"التفكير والمناقشة",duration:"5 min",description:"Share discoveries and discuss learning outcomes",descriptionAr:"مشاركة الاكتشافات ومناقشة نتائج التعلم"}],d=[{type:"PDF",title:"Teacher Guide",titleAr:"دليل المعلم",size:"2.4 MB",icon:Ms,color:"from-red-500 to-pink-600"},{type:"PDF",title:"Student Worksheet",titleAr:"ورقة عمل الطالب",size:"1.8 MB",icon:Ms,color:"from-blue-500 to-cyan-600"},{type:"VIDEO",title:"Building Demo",titleAr:"عرض البناء",size:"45 MB",icon:nl,color:"from-accent-500 to-green-600"}];return n.jsxs("div",{className:"min-h-screen bg-ocean-900 text-white",children:[n.jsx(ea,{}),n.jsx("main",{className:"pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400 mb-8",children:[n.jsx(ht,{href:"/curriculum",className:"hover:text-teal-400 transition-colors",children:"Curriculum"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-white",children:Gi(e("lesson.week"),{number:o.weekNumber.toString()})})]}),n.jsxs("div",{className:"flex items-start justify-between mb-8",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx(ht,{href:"/curriculum",children:n.jsxs(X,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-white/10",children:[n.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back to Curriculum"]})}),n.jsx(Le,{className:"bg-teal-500/20 text-teal-400",children:Gi(e("lesson.week"),{number:o.weekNumber.toString()})})]}),n.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:t==="ar"?o.titleAr:o.title}),n.jsxs("div",{className:"flex items-center space-x-6 text-gray-300",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(wr,{className:"w-4 h-4"}),n.jsx("span",{children:"60 minutes"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(us,{className:"w-4 h-4"}),n.jsx("span",{children:"2-4 students"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ji,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{children:"4.8 rating"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[n.jsxs(X,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[n.jsx(Ub,{className:"w-4 h-4 mr-2"}),"Save"]}),n.jsxs(X,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[n.jsx(ty,{className:"w-4 h-4 mr-2"}),"Share"]}),n.jsxs(X,{className:"bg-gradient-to-r from-teal-500 to-accent-500 hover:from-teal-600 hover:to-accent-600",children:[n.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsx(B,{className:"glassmorphism bg-transparent border-white/20 overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:o.thumbnailUrl||ac,alt:t==="ar"?o.titleAr:o.title,className:"w-full h-64 lg:h-80 object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsxs(X,{size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30",children:[n.jsx(nl,{className:"w-6 h-6 mr-2"}),"Watch Demo"]})})]})}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center text-white",children:[n.jsx(cs,{className:"w-5 h-5 mr-3 text-teal-400"}),"Learning Objective"]})}),n.jsx(V,{children:n.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:t==="ar"?o.objectiveAr:o.objective})})]}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center text-white",children:[n.jsx(jp,{className:"w-5 h-5 mr-3 text-teal-400"}),"Lesson Structure"]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:u.map((h,f)=>n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-white/5 rounded-xl",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-500 to-accent-500 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold text-sm",children:f+1})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-white",children:t==="ar"?h.titleAr:h.title}),n.jsx(Le,{variant:"secondary",className:"bg-white/10 text-gray-300",children:h.duration})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:t==="ar"?h.descriptionAr:h.description})]})]},f))})})]}),o.teacherNotes&&n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center text-white",children:[n.jsx(Yi,{className:"w-5 h-5 mr-3 text-teal-400"}),"Teacher Notes"]})}),n.jsx(V,{children:n.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-4",children:n.jsx("p",{className:"text-gray-300 leading-relaxed",children:t==="ar"?o.teacherNotesAr:o.teacherNotes})})})]}),o.challenge&&n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center text-white",children:[n.jsx(cs,{className:"w-5 h-5 mr-3 text-teal-400"}),"Extension Challenge"]})}),n.jsx(V,{children:n.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:n.jsx("p",{className:"text-gray-300 leading-relaxed",children:t==="ar"?o.challengeAr:o.challenge})})})]}),o.reflections&&n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center text-white",children:[n.jsx(Cp,{className:"w-5 h-5 mr-3 text-teal-400"}),"Reflection Questions"]})}),n.jsx(V,{children:n.jsx("div",{className:"bg-teal-500/10 border border-teal-500/20 rounded-lg p-4",children:n.jsx("p",{className:"text-gray-300 leading-relaxed",children:t==="ar"?o.reflectionsAr:o.reflections})})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-white",children:"Lesson Details"})}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Duration"}),n.jsx("span",{className:"text-white",children:"60 minutes"})]}),n.jsx(hn,{className:"bg-white/20"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Group Size"}),n.jsx("span",{className:"text-white",children:"2-4 students"})]}),n.jsx(hn,{className:"bg-white/20"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Build Type"}),n.jsx(Le,{variant:"outline",className:"border-white/20 text-gray-300",children:o.buildType})]}),n.jsx(hn,{className:"bg-white/20"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Difficulty"}),n.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4].map(h=>n.jsx(Ji,{className:`w-4 h-4 ${h<=3?"text-yellow-400 fill-current":"text-gray-500"}`},h))})]})]})]}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-white",children:"Resources"})}),n.jsx(V,{className:"space-y-3",children:d.map((h,f)=>{const m=h.icon;return n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${h.color} rounded-lg flex items-center justify-center`,children:n.jsx(m,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-white font-medium text-sm",children:t==="ar"?h.titleAr:h.title}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[h.type," • ",h.size]})]}),n.jsx(Ds,{className:"w-4 h-4 text-gray-400"})]},f)})})]}),n.jsxs(B,{className:"glassmorphism bg-transparent border-white/20",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-white",children:"Related Lessons"})}),n.jsx(V,{className:"space-y-3",children:[{week:o.weekNumber-1,title:"Simple Machines"},{week:o.weekNumber+1,title:"Advanced Gears"}].filter(h=>h.week>0&&h.week<=24).map((h,f)=>n.jsx("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium text-sm",children:h.title}),n.jsxs("p",{className:"text-gray-400 text-xs",children:["Week ",h.week]})]}),n.jsx(Vi,{className:"w-4 h-4 text-gray-400 rotate-180"})]})},f))})]})]})]})]})}),n.jsx(ta,{})]})}function $v(){const{toast:s}=Vs(),{isAuthenticated:e,isLoading:t,user:r}=kr(),{language:i,t:a}=De();b.useEffect(()=>{if(!t&&!e){s({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[e,t,s]);const{data:o,isLoading:l,error:c}=at({queryKey:["/api/dashboard"],retry:!1,enabled:e}),{data:u}=at({queryKey:["/api/teacher/lessons"],retry:!1,enabled:e}),{data:d}=at({queryKey:["/api/teacher/announcements"],retry:!1,enabled:e});if(b.useEffect(()=>{if(c&&Ua(c)){s({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[c,s]),t||l)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!e)return null;const h=(u==null?void 0:u.lessons)||[{id:"1",title:"Introduction to Robotics",description:"Basic concepts of robotics and automation",duration:45,level:"Starter",progress:100,status:"completed"},{id:"2",title:"Building Simple Machines",description:"Levers, pulleys, and mechanical advantage",duration:60,level:"Builder",progress:75,status:"in_progress"},{id:"3",title:"Electronics Fundamentals",description:"Circuits, voltage, and current basics",duration:50,level:"Engineer",progress:0,status:"not_started"}],f=(d==null?void 0:d.announcements)||[{id:"1",title:"New STEM Kits Available",message:"Advanced robotics kits are now available for Engineer level classes.",date:"2025-08-10",priority:"high"},{id:"2",title:"Teacher Training Session",message:"Join us for a professional development session on August 15th.",date:"2025-08-08",priority:"medium"}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`flex items-center justify-between h-16 ${i==="ar"?"flex-row-reverse":""}`,children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-blue-900 dark:text-white",children:a("teacher.dashboard")})}),n.jsxs("div",{className:`flex items-center ${i==="ar"?"space-x-reverse space-x-4":"space-x-4"}`,children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a("teacher.welcome"),", ",(r==null?void 0:r.firstName)||"Teacher"]}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.location.href="/api/logout",children:a("teacher.logout")})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs(no,{defaultValue:"lessons",className:"space-y-6",children:[n.jsxs($a,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm",children:[n.jsx(tt,{value:"lessons",children:a("teacher.lessons")}),n.jsx(tt,{value:"resources",children:a("teacher.resources")}),n.jsx(tt,{value:"announcements",children:a("teacher.announcements")})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/teacher/lessons",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx(pt,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),n.jsx("h3",{className:"font-semibold",children:i==="ar"?"المناهج":"Lessons"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:i==="ar"?"الوصول إلى جميع الدروس":"Access all lessons"})]})}),n.jsx(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/teacher/resources",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx(Settings,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),n.jsx("h3",{className:"font-semibold",children:i==="ar"?"الموارد":"Resources"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:i==="ar"?"أدوات التدريس والمواد":"Teaching tools & materials"})]})}),n.jsx(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/files",children:n.jsxs(V,{className:"p-6 text-center",children:[n.jsx(Upload,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),n.jsx("h3",{className:"font-semibold",children:i==="ar"?"إدارة الملفات":"File Manager"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:i==="ar"?"رفع وإدارة الملفات للاستضافة":"Upload & manage hosting files"})]})})]}),n.jsx(st,{value:"lessons",children:n.jsx("div",{className:"grid gap-6",children:h.map(m=>n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700",children:[n.jsxs(ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ae,{className:"text-lg",children:m.title}),n.jsxs("div",{className:`flex items-center ${i==="ar"?"space-x-reverse space-x-2":"space-x-2"}`,children:[n.jsx(Le,{variant:m.level==="Engineer"?"default":m.level==="Builder"?"secondary":"outline",children:m.level}),n.jsx(Le,{variant:m.status==="completed"?"default":m.status==="in_progress"?"secondary":"outline",children:m.status==="completed"?a("teacher.completed"):m.status==="in_progress"?a("teacher.inProgress"):a("teacher.notStarted")})]})]}),n.jsx(Mr,{children:m.description})]}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center ${i==="ar"?"space-x-reverse space-x-4":"space-x-4"} text-sm text-gray-600 dark:text-gray-400`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(wr,{className:`h-4 w-4 ${i==="ar"?"ml-1":"mr-1"}`}),m.duration," ",a("teacher.minute")]}),m.progress!==void 0&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ry,{className:`h-4 w-4 ${i==="ar"?"ml-1":"mr-1"}`}),m.progress,"% ",a("teacher.complete")]})]}),n.jsxs("div",{className:`${i==="ar"?"space-x-reverse space-x-2":"space-x-2"}`,children:[n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(nl,{className:`h-4 w-4 ${i==="ar"?"ml-1":"mr-1"}`}),a("teacher.startLesson")]}),n.jsxs(X,{variant:"ghost",size:"sm",children:[n.jsx(Ms,{className:`h-4 w-4 ${i==="ar"?"ml-1":"mr-1"}`}),a("teacher.lessonPlan")]})]})]})})]},m.id))})}),n.jsx(st,{value:"resources",children:n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700",children:[n.jsxs(ie,{className:"text-center",children:[n.jsxs(ae,{className:"flex items-center justify-center gap-2",children:[n.jsx(us,{className:"h-6 w-6 text-blue-600"}),i==="ar"?"موارد المعلم الشاملة":"Comprehensive Teacher Resources"]}),n.jsx(Mr,{children:i==="ar"?"اكتشف جميع الموارد التعليمية، أدلة التدريب، جداول الاجتماعات، وحلول المشاكل":"Access all teaching materials, training guides, meeting schedules, and troubleshooting solutions"})]}),n.jsxs(V,{className:"text-center",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[n.jsx(al,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-sm",children:i==="ar"?"جداول التدريب":"Training Schedule"})]}),n.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:[n.jsx(pt,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-sm",children:i==="ar"?"أدلة المجموعات":"Kit Guides"})]}),n.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[n.jsx(qi,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-sm",children:i==="ar"?"حل المشاكل":"Troubleshooting"})]})]}),n.jsxs(X,{className:"w-full md:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold px-8 py-3",onClick:()=>window.location.href="/teacher/resources",children:[n.jsx(us,{className:"h-5 w-5 mr-2"}),i==="ar"?"عرض جميع الموارد":"View All Resources"]})]})]})}),n.jsx(st,{value:"announcements",children:n.jsx("div",{className:"space-y-4",children:f.map(m=>n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ae,{className:"flex items-center",children:[n.jsx(Lb,{className:"h-5 w-5 mr-2 text-blue-600"}),m.title]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Le,{variant:m.priority==="high"?"destructive":m.priority==="medium"?"default":"outline",children:m.priority==="high"?i==="ar"?"عاجل":"High":m.priority==="medium"?i==="ar"?"متوسط":"Medium":i==="ar"?"منخفض":"Low"}),n.jsx("span",{className:"text-sm text-gray-500",children:m.date})]})]})}),n.jsx(V,{children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:m.message})})]},m.id))})})]})})]})}function Bv(){const{isAuthenticated:s,isLoading:e,error:t}=kr(),{language:r,t:i}=De(),{toast:a}=Vs(),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,h]=b.useState(null),{data:f}=at({queryKey:["/api/public/levels"],retry:!1}),{data:m}=at({queryKey:["/api/lessons"],retry:!1,enabled:s});if(b.useEffect(()=>{if(t&&Ua(t)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,a]),e)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!s)return null;const x=(f==null?void 0:f.levels)||[{id:"1",nameEn:"Starter Kit",nameAr:"مجموعة المبتدئين",descriptionEn:"Focus: Problem-solving and engineering thinking.",descriptionAr:"التركيز: حل المشكلات والتفكير الهندسي.",grades:"Grades 1–3",gradesAr:"الصفوف 1-3",gradesMin:1,gradesMax:3,lessonsCount:30},{id:"2",nameEn:"Builder Kit",nameAr:"مجموعة البناة",descriptionEn:"Focus: Mechanics, systems, and structured problem-solving.",descriptionAr:"التركيز: الميكانيكا والأنظمة وحل المشكلات المنظم.",grades:"Grades 4–6",gradesAr:"الصفوف 4-6",gradesMin:4,gradesMax:6,lessonsCount:30},{id:"3",nameEn:"Engineer Kit",nameAr:"مجموعة المهندسين",descriptionEn:"Focus: Real-world mechanisms, robotics, and innovation.",descriptionAr:"التركيز: الآليات الواقعية والروبوتات والابتكار.",grades:"Grades 7–9",gradesAr:"الصفوف 7-9",gradesMin:7,gradesMax:9,lessonsCount:30}],y=((m==null?void 0:m.lessons)||[]).filter(j=>{const k=r==="ar"?j.titleAr.toLowerCase().includes(o.toLowerCase())||j.descriptionAr.toLowerCase().includes(o.toLowerCase()):j.title.toLowerCase().includes(o.toLowerCase())||j.description.toLowerCase().includes(o.toLowerCase()),F=c==="all"||j.levelId===c;return k&&F}),_=j=>{const k=x.find(F=>F.id===j);return k?r==="ar"?k.nameAr:k.nameEn:"Unknown Level"},N=j=>{switch(j){case"1":return"bg-green-100 text-green-800 border-green-200";case"2":return"bg-blue-100 text-blue-800 border-blue-200";case"3":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return d?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`flex items-center justify-between h-16 ${r==="ar"?"flex-row-reverse":""}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>h(null),className:"flex items-center gap-2",children:[n.jsx(Vi,{className:"h-4 w-4"}),r==="ar"?"العودة للدروس":"Back to Lessons"]}),n.jsx("h1",{className:"text-2xl font-bold text-blue-900 dark:text-white",children:r==="ar"?d.titleAr:d.title})]}),n.jsx(Le,{className:N(d.levelId),children:_(d.levelId)})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsxs(ie,{children:[n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(pt,{className:"h-5 w-5"}),r==="ar"?"نظرة عامة على الدرس":"Lesson Overview"]}),n.jsx(Mr,{children:r==="ar"?d.descriptionAr:d.description})]}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"}),d.duration," ",r==="ar"?"دقيقة":"minutes"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cs,{className:"h-4 w-4"}),r==="ar"?"الدرس رقم":"Lesson"," ",d.order]})]})})]}),n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(cs,{className:"h-5 w-5"}),r==="ar"?"أهداف التعلم":"Learning Objectives"]})}),n.jsx(V,{children:n.jsx("ul",{className:"space-y-2",children:(r==="ar"?d.objectivesAr:d.objectives).map((j,k)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(jp,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:j})]},k))})})]}),n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(hd,{className:"h-5 w-5"}),r==="ar"?"المواد المطلوبة":"Required Materials"]})}),n.jsx(V,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:(r==="ar"?d.materialsAr:d.materials).map((j,k)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[n.jsx(zb,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:j})]},k))})})]}),n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(Ms,{className:"h-5 w-5"}),r==="ar"?"تعليمات الدرس":"Lesson Instructions"]})}),n.jsx(V,{children:n.jsx("div",{className:"prose dark:prose-invert max-w-none",children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:r==="ar"?d.instructionsAr:d.instructions})})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(X,{className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),r==="ar"?"بدء الدرس":"Start Lesson"]}),n.jsxs(X,{variant:"outline",className:"flex-1",children:[n.jsx(Ms,{className:"h-4 w-4 mr-2"}),r==="ar"?"تحميل خطة الدرس":"Download Lesson Plan"]})]})]})})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`flex items-center justify-between h-16 ${r==="ar"?"flex-row-reverse":""}`,children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-blue-900 dark:text-white",children:r==="ar"?"مكتبة الدروس":"Lesson Library"})}),n.jsxs("div",{className:`flex items-center ${r==="ar"?"space-x-reverse space-x-4":"space-x-4"}`,children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:r==="ar"?`${y.length} درس متاح`:`${y.length} lessons available`}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.location.href="/teacher/dashboard",children:r==="ar"?"العودة للوحة":"Back to Dashboard"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8 space-y-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(Gt,{placeholder:r==="ar"?"البحث في الدروس...":"Search lessons...",value:o,onChange:j=>l(j.target.value),className:`${r==="ar"?"pr-10 text-right":"pl-10"} bg-white/70 dark:bg-gray-800/70`})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kp,{className:"h-4 w-4 text-gray-600"}),n.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-3 py-2 bg-white/70 dark:bg-gray-800/70 border border-gray-200 dark:border-gray-700 rounded-md",children:[n.jsx("option",{value:"all",children:r==="ar"?"جميع المستويات":"All Levels"}),x.map(j=>n.jsx("option",{value:j.id,children:r==="ar"?j.nameAr:j.nameEn},j.id))]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:x.map(j=>n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70 border-blue-200 dark:border-gray-700",children:[n.jsxs(ie,{children:[n.jsx(ae,{className:"text-lg text-blue-900 dark:text-white",children:r==="ar"?j.nameAr:j.nameEn}),n.jsx(Mr,{children:r==="ar"?j.gradesAr:j.grades})]}),n.jsxs(V,{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:r==="ar"?j.descriptionAr:j.descriptionEn}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:j.lessonsCount}),n.jsx("span",{className:"text-sm text-gray-500",children:r==="ar"?"درس":"lessons"})]})]})]},j.id))}),n.jsx("div",{className:"grid gap-6",children:y.map(j=>n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70 border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>h(j),children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ae,{className:"text-lg text-blue-900 dark:text-white mb-2",children:r==="ar"?j.titleAr:j.title}),n.jsx(Mr,{children:r==="ar"?j.descriptionAr:j.description})]}),n.jsx(Le,{className:N(j.levelId),children:_(j.levelId)})]})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center ${r==="ar"?"space-x-reverse space-x-4":"space-x-4"} text-sm text-gray-600 dark:text-gray-400`,children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"}),j.duration," ",r==="ar"?"دقيقة":"min"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cs,{className:"h-4 w-4"}),r==="ar"?"الدرس":"Lesson"," ",j.order]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(hd,{className:"h-4 w-4"}),j.materials.length," ",r==="ar"?"مادة":"materials"]})]}),n.jsxs(X,{variant:"outline",size:"sm",children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),r==="ar"?"عرض":"View"]})]})})]},j.id))}),y.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:r==="ar"?"لا توجد دروس":"No lessons found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r==="ar"?"جرب تغيير مصطلح البحث أو المرشح":"Try adjusting your search term or filter"})]})]})]})}function zv(){const{t:s,language:e}=De(),t=[{date:"2025-08-15",time:"9:00 AM - 11:00 AM",topic:"Introduction to Afaq Al-ʿIlm Platform",topicAr:"مقدمة لمنصة آفاق العلم",type:"orientation",materials:["Teacher Guide","Platform Overview","Access Credentials"]},{date:"2025-08-22",time:"9:00 AM - 12:00 PM",topic:"Starter Kit Training (Grades 1-3)",topicAr:"تدريب مجموعة المبتدئين (الصفوف 1-3)",type:"hands-on",materials:["Starter Kit","Building Instructions","Assessment Rubrics"]},{date:"2025-08-29",time:"9:00 AM - 12:00 PM",topic:"Builder Kit Training (Grades 4-6)",topicAr:"تدريب مجموعة البناة (الصفوف 4-6)",type:"hands-on",materials:["Builder Kit","Advanced Techniques","Project Templates"]},{date:"2025-09-05",time:"9:00 AM - 12:00 PM",topic:"Engineer Kit Training (Grades 7-9)",topicAr:"تدريب مجموعة المهندسين (الصفوف 7-9)",type:"hands-on",materials:["Engineer Kit","Problem-Solving Strategies","Innovation Projects"]},{date:"2025-09-12",time:"10:00 AM - 11:00 AM",topic:"Assessment & Progress Tracking",topicAr:"التقييم وتتبع التقدم",type:"workshop",materials:["Assessment Tools","Progress Sheets","Digital Portfolio"]}],r=[{name:"Basic Bricks",nameAr:"القطع الأساسية",description:"2x2, 2x4, 2x6, 2x8 building blocks in various colors",descriptionAr:"قطع البناء الأساسية بأحجام مختلفة وألوان متنوعة",uses:["Foundation building","Structural support","Color coding"],usesAr:["بناء الأساسات","الدعم الهيكلي","الترميز بالألوان"]},{name:"Technic Beams",nameAr:"العوارض التقنية",description:"Structural beams with connection holes for complex builds",descriptionAr:"عوارض هيكلية مع فتحات الاتصال للبناء المعقد",uses:["Framework construction","Mechanical connections","Moving parts"],usesAr:["بناء الإطار","الاتصالات الميكانيكية","الأجزاء المتحركة"]},{name:"Gears & Wheels",nameAr:"التروس والعجلات",description:"Various sized gears, wheels, and axles for movement",descriptionAr:"تروس وعجلات ومحاور بأحجام مختلفة للحركة",uses:["Power transmission","Speed control","Directional change"],usesAr:["نقل القوة","التحكم في السرعة","تغيير الاتجاه"]},{name:"Connectors",nameAr:"الموصلات",description:"Pins, bushings, and connectors for joint assembly",descriptionAr:"دبابيس وحلقات وموصلات لتجميع المفاصل",uses:["Flexible joints","Rotating connections","Pivot points"],usesAr:["المفاصل المرنة","الاتصالات الدوارة","نقاط المحورة"]}],i=[{problem:"Build falls apart easily",problemAr:"البناء ينهار بسهولة",solutions:["Check all connections are properly secured","Use overlapping brick patterns for stability","Add cross-bracing with technic beams"],solutionsAr:["تحقق من أن جميع الاتصالات محكمة","استخدم أنماط متداخلة للاستقرار","أضف دعامات متقاطعة بالعوارض التقنية"]},{problem:"Gears not meshing properly",problemAr:"التروس لا تتشابك بشكل صحيح",solutions:["Ensure proper spacing between gear centers","Check that gears are on the same plane","Verify axle alignment is straight"],solutionsAr:["تأكد من المسافة الصحيحة بين مراكز التروس","تحقق أن التروس في نفس المستوى","تأكد من استقامة محاذاة المحور"]},{problem:"Model moves too slowly",problemAr:"النموذج يتحرك ببطء شديد",solutions:["Check for friction in moving parts","Adjust gear ratios for more speed","Ensure axles rotate freely"],solutionsAr:["تحقق من الاحتكاك في الأجزاء المتحركة","اضبط نسب التروس لمزيد من السرعة","تأكد أن المحاور تدور بحرية"]}],a=[{title:"Design Challenge",titleAr:"تحدي التصميم",description:"Create your own unique build using available pieces",descriptionAr:"أنشئ بناءً فريداً باستخدام القطع المتاحة",time:"15-20 minutes",skills:["Creativity","Problem-solving","Engineering"]},{title:"Speed Race",titleAr:"سباق السرعة",description:"Modify builds to make them faster and race against classmates",descriptionAr:"عدّل البناء لجعله أسرع وتسابق مع زملاء الصف",time:"10-15 minutes",skills:["Optimization","Competition","Physics"]},{title:"Story Building",titleAr:"بناء القصة",description:"Create characters and scenes, then tell a story",descriptionAr:"أنشئ شخصيات ومشاهد، ثم احك قصة",time:"20-25 minutes",skills:["Storytelling","Imagination","Communication"]},{title:"Real-World Connections",titleAr:"الروابط مع العالم الحقيقي",description:"Discuss how the built mechanisms relate to everyday objects",descriptionAr:"ناقش كيف ترتبط الآليات المبنية بالأشياء اليومية",time:"5-10 minutes",skills:["Critical thinking","Real-world application","Discussion"]}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`flex items-center justify-between h-16 ${e==="ar"?"flex-row-reverse":""}`,children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-blue-900 dark:text-white",children:e==="ar"?"موارد المعلم":"Teacher Resources"})}),n.jsx("div",{className:`flex items-center ${e==="ar"?"space-x-reverse space-x-4":"space-x-4"}`,children:n.jsx(X,{variant:"outline",onClick:()=>window.location.href="/teacher/dashboard",children:e==="ar"?"لوحة التحكم":"Dashboard"})})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-blue-900 dark:text-white mb-8 text-center",children:e==="ar"?"القيم الأساسية":"Core Values"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs(ie,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 flex items-center justify-center",children:n.jsx(qi,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),n.jsx(ae,{className:"text-lg",children:e==="ar"?"أساسيات البناء":"Building Basics"})]}),n.jsxs(V,{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e==="ar"?"المفاهيم الأساسية للبناء والتركيب":"Fundamental concepts of construction and assembly"}),n.jsx(X,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"عرض جميع المحتويات":"See All Content"})]})]}),n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-green-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs(ie,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 bg-green-100 dark:bg-green-900 rounded-full w-16 h-16 flex items-center justify-center",children:n.jsx(pt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),n.jsx(ae,{className:"text-lg",children:e==="ar"?"التحضير":"Preparation"})]}),n.jsxs(V,{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e==="ar"?"إرشادات التحضير والتخطيط للدروس":"Lesson preparation and planning guidelines"}),n.jsx(X,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"عرض جميع المحتويات":"See All Content"})]})]}),n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-purple-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs(ie,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 bg-purple-100 dark:bg-purple-900 rounded-full w-16 h-16 flex items-center justify-center",children:n.jsx(us,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),n.jsx(ae,{className:"text-lg",children:e==="ar"?"برامج آفاق العلم":"Afaq Programs"})]}),n.jsxs(V,{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e==="ar"?"البرامج التعليمية المتخصصة والأنشطة":"Specialized educational programs and activities"}),n.jsx(X,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"عرض جميع المحتويات":"See All Content"})]})]}),n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-orange-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs(ie,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 bg-orange-100 dark:bg-orange-900 rounded-full w-16 h-16 flex items-center justify-center",children:n.jsx(Ds,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),n.jsx(ae,{className:"text-lg",children:e==="ar"?"موارد المنهج":"Curriculum Resources"})]}),n.jsxs(V,{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e==="ar"?"موارد المنهج الدراسي والمواد التعليمية":"Curriculum resources and educational materials"}),n.jsx(X,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"عرض جميع المحتويات":"See All Content"})]})]})]})]}),n.jsxs(no,{defaultValue:"mission",className:"space-y-6",children:[n.jsxs($a,{className:`grid w-full grid-cols-7 ${e==="ar"?"flex-row-reverse":""}`,children:[n.jsxs(tt,{value:"mission",className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-4 w-4"}),e==="ar"?"الرؤية والرسالة":"Mission & Vision"]}),n.jsxs(tt,{value:"meetings",className:"flex items-center gap-2",children:[n.jsx(al,{className:"h-4 w-4"}),e==="ar"?"الاجتماعات":"Meetings"]}),n.jsxs(tt,{value:"kits",className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-4 w-4"}),e==="ar"?"المجموعات":"Kits"]}),n.jsxs(tt,{value:"bricks",className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-4 w-4"}),e==="ar"?"القطع":"Bricks"]}),n.jsxs(tt,{value:"troubleshooting",className:"flex items-center gap-2",children:[n.jsx(fd,{className:"h-4 w-4"}),e==="ar"?"حل المشاكل":"Troubleshooting"]}),n.jsxs(tt,{value:"instructions",className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-4 w-4"}),e==="ar"?"تعليمات البناء":"Build Instructions"]}),n.jsxs(tt,{value:"extensions",className:"flex items-center gap-2",children:[n.jsx(Yi,{className:"h-4 w-4"}),e==="ar"?"أنشطة إضافية":"Extensions"]})]}),n.jsxs(st,{value:"mission",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(cs,{className:"h-5 w-5"}),e==="ar"?"رؤيتنا":"Our Vision"]})}),n.jsx(V,{children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e==="ar"?"ثورة في تعليم العلوم والتكنولوجيا والهندسة والفنون والرياضيات في الأردن من خلال جعل التعلم التطبيقي متاحاً لكل طالب، وتعزيز الابتكار والإبداع ومهارات التفكير النقدي التي تعدهم لتحديات الغد.":"To revolutionize STEAM education in Jordan by making hands-on learning accessible to every student, fostering innovation, creativity, and critical thinking skills that prepare them for the challenges of tomorrow."})})]}),n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(us,{className:"h-5 w-5"}),e==="ar"?"رسالتنا":"Our Mission"]})}),n.jsx(V,{children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e==="ar"?"نوفر حلول تعليمية شاملة ثنائية اللغة في العلوم والتكنولوجيا من خلال مجموعات المناهج المبتكرة وتدريب المعلمين والدعم المستمر، شراكة مع المدارس لتحويل التعلم التقليدي إلى تجارب عملية مثيرة تلهم الجيل القادم من المبتكرين وحلال المشاكل.":"We provide comprehensive, bilingual STEAM education solutions through innovative curriculum kits, teacher training, and continuous support, partnering with schools to transform traditional learning into engaging, practical experiences that inspire the next generation of innovators and problem-solvers."})})]})]}),n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-blue-900 dark:text-white",children:e==="ar"?"أهداف البرنامج":"Program Goals"})}),n.jsx(V,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{title:e==="ar"?"تطوير مهارات حل المشكلات":"Develop Problem-Solving Skills",description:e==="ar"?"تعليم الطلاب التفكير النقدي والتحليلي":"Teach students critical and analytical thinking"},{title:e==="ar"?"تعزيز الإبداع":"Foster Creativity",description:e==="ar"?"تشجيع التفكير الإبداعي والابتكار":"Encourage creative thinking and innovation"},{title:e==="ar"?"بناء مهارات التعاون":"Build Collaboration Skills",description:e==="ar"?"تطوير العمل الجماعي والتواصل":"Develop teamwork and communication"},{title:e==="ar"?"ربط التعلم بالواقع":"Connect Learning to Reality",description:e==="ar"?"إظهار التطبيقات العملية للمفاهيم":"Show practical applications of concepts"},{title:e==="ar"?"تطوير المهارات التقنية":"Develop Technical Skills",description:e==="ar"?"بناء الفهم الهندسي والتقني":"Build engineering and technical understanding"},{title:e==="ar"?"إعداد للمستقبل":"Prepare for the Future",description:e==="ar"?"تأهيل الطلاب لوظائف المستقبل":"Prepare students for future careers"}].map((o,l)=>n.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:o.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description})]},l))})})]})]}),n.jsx(st,{value:"meetings",className:"space-y-6",children:n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(al,{className:"h-5 w-5"}),e==="ar"?"جدول اجتماعات التدريب":"Training Meeting Schedule"]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-4",children:t.map((o,l)=>n.jsx("div",{className:"border border-blue-200 dark:border-gray-600 rounded-lg p-4 bg-blue-50/50 dark:bg-blue-900/20",children:n.jsxs("div",{className:`flex items-start justify-between ${e==="ar"?"flex-row-reverse":""}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:`flex items-center gap-3 mb-2 ${e==="ar"?"flex-row-reverse":""}`,children:[n.jsx(Le,{variant:o.type==="hands-on"?"default":o.type==="orientation"?"secondary":"outline",children:o.type==="hands-on"?e==="ar"?"تطبيقي":"Hands-on":o.type==="orientation"?e==="ar"?"توجيهي":"Orientation":e==="ar"?"ورشة عمل":"Workshop"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.date}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.time})]}),n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:e==="ar"?o.topicAr:o.topic}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:e==="ar"?"المواد المطلوبة:":"Required Materials:"}),n.jsx("ul",{className:`text-sm text-gray-600 dark:text-gray-400 ${e==="ar"?"pr-4":"pl-4"}`,children:o.materials.map((c,u)=>n.jsx("li",{className:"list-disc",children:c},u))})]})]}),n.jsx("div",{className:`${e==="ar"?"ml-4":"mr-4"}`,children:n.jsxs(X,{size:"sm",variant:"outline",children:[n.jsx(Ds,{className:"h-4 w-4 mr-2"}),e==="ar"?"الموارد":"Resources"]})})]})},l))})})]})}),n.jsx(st,{value:"kits",className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{title:"Starter Kit",titleAr:"مجموعة المبتدئين",grades:"Grades 1-3",gradesAr:"الصفوف 1-3",focus:"Creativity, motion, shapes, simple storytelling builds",focusAr:"الإبداع والحركة والأشكال وبناء القصص البسيطة",components:["60 basic bricks","20 wheels","10 axles","Building guide"],componentsAr:["60 قطعة أساسية","20 عجلة","10 محاور","دليل البناء"],color:"from-green-500 to-green-600"},{title:"Builder Kit",titleAr:"مجموعة البناة",grades:"Grades 4-6",gradesAr:"الصفوف 4-6",focus:"Simple machines, gears, pulleys, force, ratios",focusAr:"الآلات البسيطة والتروس والبكرات والقوة والنسب",components:["80 technic beams","15 gears","5 pulleys","Activity sheets"],componentsAr:["80 عارضة تقنية","15 ترس","5 بكرات","أوراق الأنشطة"],color:"from-blue-500 to-blue-600"},{title:"Engineer Kit",titleAr:"مجموعة المهندسين",grades:"Grades 7-9",gradesAr:"الصفوف 7-9",focus:"Real-world mechanisms, problem-solving, optimization",focusAr:"الآليات الواقعية وحل المشكلات والتحسين",components:["100 advanced pieces","20 sensors","5 motors","Project challenges"],componentsAr:["100 قطعة متقدمة","20 مستشعر","5 محركات","تحديات المشاريع"],color:"from-purple-500 to-purple-600"}].map((o,l)=>n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70 hover:scale-105 transition-all duration-300",children:[n.jsxs(ie,{children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o.color} rounded-lg flex items-center justify-center mx-auto mb-4`,children:n.jsx(pt,{className:"w-6 h-6 text-white"})}),n.jsx(ae,{className:"text-center text-blue-900 dark:text-white",children:e==="ar"?o.titleAr:o.title}),n.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:e==="ar"?o.gradesAr:o.grades})]}),n.jsxs(V,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:e==="ar"?"التركيز:":"Focus:"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e==="ar"?o.focusAr:o.focus})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:e==="ar"?"المكونات:":"Components:"}),n.jsx("ul",{className:`text-sm text-gray-600 dark:text-gray-400 space-y-1 ${e==="ar"?"pr-4":"pl-4"}`,children:(e==="ar"?o.componentsAr:o.components).map((c,u)=>n.jsx("li",{className:"list-disc",children:c},u))})]}),n.jsxs(X,{className:"w-full",size:"sm",children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e==="ar"?"ابدأ التعلم":"Start Learning"]})]})]},l))})}),n.jsx(st,{value:"bricks",className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((o,l)=>n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(qi,{className:"h-5 w-5"}),e==="ar"?o.nameAr:o.name]})}),n.jsxs(V,{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e==="ar"?o.descriptionAr:o.description}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:e==="ar"?"الاستخدامات:":"Uses:"}),n.jsx("ul",{className:`text-sm text-gray-600 dark:text-gray-400 space-y-1 ${e==="ar"?"pr-4":"pl-4"}`,children:(e==="ar"?o.usesAr:o.uses).map((c,u)=>n.jsx("li",{className:"list-disc",children:c},u))})]})]})]},l))})}),n.jsx(st,{value:"troubleshooting",className:"space-y-6",children:n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(fd,{className:"h-5 w-5"}),e==="ar"?"دليل حل المشاكل":"Troubleshooting Guide"]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-6",children:i.map((o,l)=>n.jsxs("div",{className:"border border-orange-200 dark:border-orange-800 rounded-lg p-4 bg-orange-50/50 dark:bg-orange-900/20",children:[n.jsx("h4",{className:"font-semibold text-orange-900 dark:text-orange-300 mb-3",children:e==="ar"?o.problemAr:o.problem}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:e==="ar"?"الحلول:":"Solutions:"}),n.jsx("ul",{className:`space-y-1 ${e==="ar"?"pr-4":"pl-4"}`,children:(e==="ar"?o.solutionsAr:o.solutions).map((c,u)=>n.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-400 list-disc",children:c},u))})]})]},l))})})]})}),n.jsx(st,{value:"instructions",className:"space-y-6",children:n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70",children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(Rr,{className:"h-5 w-5"}),e==="ar"?"تعليمات البناء خطوة بخطوة":"Step-by-Step Building Instructions"]})}),n.jsx(V,{children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{level:"Starter Kit",levelAr:"مجموعة المبتدئين",projects:[{name:"Simple Car",nameAr:"سيارة بسيطة",steps:["Connect 4 wheels to 2 axles","Attach axles to a rectangular base","Add decorative bricks for the car body","Test rolling motion"],stepsAr:["ربط 4 عجلات بمحورين","تثبيت المحاور في قاعدة مستطيلة","إضافة قطع تزيينية لجسم السيارة","اختبار الحركة المتدحرجة"]},{name:"Spinning Top",nameAr:"الدوامة",steps:["Build a circular base with bricks","Insert a vertical axle through center","Add weights around the edge","Practice spinning technique"],stepsAr:["بناء قاعدة دائرية بالقطع","إدخال محور عمودي في المركز","إضافة أثقال حول الحافة","ممارسة تقنية الدوران"]}]},{level:"Builder Kit",levelAr:"مجموعة البناة",projects:[{name:"Gear Train",nameAr:"سلسلة التروس",steps:["Mount first gear on input axle","Position second gear to mesh properly","Add third gear for direction change","Test gear ratio and speed"],stepsAr:["تركيب الترس الأول على محور الإدخال","وضع الترس الثاني للتشابك الصحيح","إضافة ترس ثالث لتغيير الاتجاه","اختبار نسبة التروس والسرعة"]},{name:"Pulley System",nameAr:"نظام البكرات",steps:["Set up fixed pulley at top","Add movable pulley for mechanical advantage","Thread string through both pulleys","Test lifting different weights"],stepsAr:["إعداد بكرة ثابتة في الأعلى","إضافة بكرة متحركة للفائدة الميكانيكية","تمرير الخيط عبر البكرتين","اختبار رفع أوزان مختلفة"]}]},{level:"Engineer Kit",levelAr:"مجموعة المهندسين",projects:[{name:"Robotic Arm",nameAr:"ذراع آلية",steps:["Build stable base with motors","Construct articulated arm segments","Install sensors for feedback","Program movement sequences"],stepsAr:["بناء قاعدة مستقرة بالمحركات","تركيب أجزاء الذراع المفصلية","تركيب المستشعرات للتغذية المرتدة","برمجة تسلسلات الحركة"]},{name:"Automated Crane",nameAr:"رافعة آلية",steps:["Design tower structure for stability","Install horizontal boom with counterweight","Add motorized lifting mechanism","Program automated pickup and delivery"],stepsAr:["تصميم هيكل البرج للاستقرار","تركيب ذراع أفقية مع ثقل موازن","إضافة آلية رفع محركة","برمجة الالتقاط والتسليم الآلي"]}]}].map((o,l)=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 dark:text-blue-300 border-b border-blue-200 dark:border-blue-800 pb-2",children:e==="ar"?o.levelAr:o.level}),o.projects.map((c,u)=>n.jsxs(B,{className:"bg-blue-50/50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[n.jsx(ie,{children:n.jsx(ae,{className:"text-blue-800 dark:text-blue-300 text-base",children:e==="ar"?c.nameAr:c.name})}),n.jsx(V,{children:n.jsx("ol",{className:`space-y-2 ${e==="ar"?"pr-4":"pl-4"}`,children:(e==="ar"?c.stepsAr:c.steps).map((d,h)=>n.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[n.jsxs("span",{className:"font-bold text-blue-600 min-w-[1.5rem]",children:[h+1,"."]}),n.jsx("span",{children:d})]},h))})})]},u))]},l))})})]})}),n.jsx(st,{value:"extensions",className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((o,l)=>n.jsxs(B,{className:"glassmorphism bg-white/70 dark:bg-gray-800/70 hover:scale-105 transition-all duration-300",children:[n.jsxs(ie,{children:[n.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-white",children:[n.jsx(Yi,{className:"h-5 w-5"}),e==="ar"?o.titleAr:o.title]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(wr,{className:"h-4 w-4"}),o.time]})]}),n.jsxs(V,{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e==="ar"?o.descriptionAr:o.description}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:e==="ar"?"المهارات المطورة:":"Skills Developed:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((c,u)=>n.jsx(Le,{variant:"secondary",className:"text-xs",children:c},u))})]}),n.jsx(X,{className:"w-full",size:"sm",variant:"outline",children:e==="ar"?"بدء النشاط":"Start Activity"})]})]},l))})})]})]})]})}function Vv(s,e,t){const r=[];return s.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(t)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function Xd(s,e){const t=/\$/g,r="$$$$";let i=[s];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=t[Symbol.replace](o,r)),i=Vv(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const qv=s=>{throw new Error(`missing string: ${s}`)};var fa,ma,ml;class zf{constructor(e,{onMissingKey:t=qv}={}){C(this,ma);T(this,"locale");C(this,fa);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(A(this,ma,ml),this):A(this,ma,ml).call(this,e),E(this,fa,t)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){let r=this.locale.strings[e];if(r==null&&(p(this,fa).call(this,e),r=e),typeof r=="object"){if(t&&typeof t.smart_count<"u"){const a=this.locale.pluralize(t.smart_count);return Xd(r[a],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return Xd(r,t)}}fa=new WeakMap,ma=new WeakSet,ml=function(e){if(!(e!=null&&e.strings))return;const t=this.locale;Object.assign(this.locale,{strings:{...t.strings,...e.strings},pluralize:e.pluralize||t.pluralize})};class Vf{constructor(e,t){T(this,"uppy");T(this,"opts");T(this,"id");T(this,"defaultLocale");T(this,"i18n");T(this,"i18nArray");T(this,"type");T(this,"VERSION");this.uppy=e,this.opts=t??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new zf([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function ko(s){return s<10?`0${s}`:s.toString()}function pn(){const s=new Date,e=ko(s.getHours()),t=ko(s.getMinutes()),r=ko(s.getSeconds());return`${e}:${t}:${r}`}const Hv={debug:()=>{},warn:()=>{},error:(...s)=>console.error(`[Uppy] [${pn()}]`,...s)},Wv={debug:(...s)=>console.debug(`[Uppy] [${pn()}]`,...s),warn:(...s)=>console.warn(`[Uppy] [${pn()}]`,...s),error:(...s)=>console.error(`[Uppy] [${pn()}]`,...s)};function qf(s){return typeof s!="object"||s===null||!("nodeType"in s)?!1:s.nodeType===Node.ELEMENT_NODE}function Gv(s,e=document){return typeof s=="string"?e.querySelector(s):qf(s)?s:null}function Hf(s){for(;s&&!s.dir;)s=s.parentNode;return s==null?void 0:s.dir}var Ba,oe,Wf,Xs,Yd,Gf,Kf,Zf,bc,gl,bl,aa={},Qf=[],Kv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,za=Array.isArray;function Kt(s,e){for(var t in e)s[t]=e[t];return s}function yc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function na(s,e,t){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Ba.call(arguments,2):t),typeof s=="function"&&s.defaultProps!=null)for(a in s.defaultProps)o[a]===void 0&&(o[a]=s.defaultProps[a]);return Ki(s,o,r,i,null)}function Ki(s,e,t,r,i){var a={type:s,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Wf,__i:-1,__u:0};return i==null&&oe.vnode!=null&&oe.vnode(a),a}function Zv(){return{current:null}}function Ot(s){return s.children}function rt(s,e){this.props=s,this.context=e}function wi(s,e){if(e==null)return s.__?wi(s.__,s.__i+1):null;for(var t;e<s.__k.length;e++)if((t=s.__k[e])!=null&&t.__e!=null)return t.__e;return typeof s.type=="function"?wi(s):null}function Xf(s){var e,t;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,e=0;e<s.__k.length;e++)if((t=s.__k[e])!=null&&t.__e!=null){s.__e=s.__c.base=t.__e;break}return Xf(s)}}function Jd(s){(!s.__d&&(s.__d=!0)&&Xs.push(s)&&!An.__r++||Yd!=oe.debounceRendering)&&((Yd=oe.debounceRendering)||Gf)(An)}function An(){for(var s,e,t,r,i,a,o,l=1;Xs.length;)Xs.length>l&&Xs.sort(Kf),s=Xs.shift(),l=Xs.length,s.__d&&(t=void 0,i=(r=(e=s).__v).__e,a=[],o=[],e.__P&&((t=Kt({},r)).__v=r.__v+1,oe.vnode&&oe.vnode(t),xc(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??wi(r),!!(32&r.__u),o),t.__v=r.__v,t.__.__k[t.__i]=t,em(a,t,o),t.__e!=i&&Xf(t)));An.__r=0}function Yf(s,e,t,r,i,a,o,l,c,u,d){var h,f,m,x,v,y,_=r&&r.__k||Qf,N=e.length;for(c=Qv(t,e,_,c,N),h=0;h<N;h++)(m=t.__k[h])!=null&&(f=m.__i==-1?aa:_[m.__i]||aa,m.__i=h,y=xc(s,m,f,i,a,o,l,c,u,d),x=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&vc(f.ref,null,m),d.push(m.ref,m.__c||x,m)),v==null&&x!=null&&(v=x),4&m.__u||f.__k===m.__k?c=Jf(m,c,s):typeof m.type=="function"&&y!==void 0?c=y:x&&(c=x.nextSibling),m.__u&=-7);return t.__e=v,c}function Qv(s,e,t,r,i){var a,o,l,c,u,d=t.length,h=d,f=0;for(s.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+f,(o=s.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ki(null,o,null,null,null):za(o)?Ki(Ot,{children:o},null,null,null):o.constructor==null&&o.__b>0?Ki(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=s,o.__b=s.__b+1,l=null,(u=o.__i=Xv(o,t,c,h))!=-1&&(h--,(l=t[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(i>d?f--:i<d&&f++),typeof o.type!="function"&&(o.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,o.__u|=4))):s.__k[a]=null;if(h)for(a=0;a<d;a++)(l=t[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=wi(l)),sm(l,l));return r}function Jf(s,e,t){var r,i;if(typeof s.type=="function"){for(r=s.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=s,e=Jf(r[i],e,t));return e}s.__e!=e&&(e&&s.type&&!t.contains(e)&&(e=wi(s)),t.insertBefore(s.__e,e||null),e=s.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Et(s,e){return e=e||[],s==null||typeof s=="boolean"||(za(s)?s.some(function(t){Et(t,e)}):e.push(s)),e}function Xv(s,e,t,r){var i,a,o,l=s.key,c=s.type,u=e[t],d=u!=null&&(2&u.__u)==0;if(u===null&&s.key==null||d&&l==u.key&&c==u.type)return t;if(r>(d?1:0)){for(i=t-1,a=t+1;i>=0||a<e.length;)if((u=e[o=i>=0?i--:a++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return o}return-1}function eu(s,e,t){e[0]=="-"?s.setProperty(e,t??""):s[e]=t==null?"":typeof t!="number"||Kv.test(e)?t:t+"px"}function Qa(s,e,t,r,i){var a,o;e:if(e=="style")if(typeof t=="string")s.style.cssText=t;else{if(typeof r=="string"&&(s.style.cssText=r=""),r)for(e in r)t&&e in t||eu(s.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||eu(s.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(Zf,"$1")),o=e.toLowerCase(),e=o in s||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),s.l||(s.l={}),s.l[e+a]=t,t?r?t.u=r.u:(t.u=bc,s.addEventListener(e,a?bl:gl,a)):s.removeEventListener(e,a?bl:gl,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in s)try{s[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?s.removeAttribute(e):s.setAttribute(e,e=="popover"&&t==1?"":t))}}function tu(s){return function(e){if(this.l){var t=this.l[e.type+s];if(e.t==null)e.t=bc++;else if(e.t<t.u)return;return t(oe.event?oe.event(e):e)}}}function xc(s,e,t,r,i,a,o,l,c,u){var d,h,f,m,x,v,y,_,N,j,k,F,R,O,W,L,G,Q=e.type;if(e.constructor!=null)return null;128&t.__u&&(c=!!(32&t.__u),a=[l=e.__e=t.__e]),(d=oe.__b)&&d(e);e:if(typeof Q=="function")try{if(_=e.props,N="prototype"in Q&&Q.prototype.render,j=(d=Q.contextType)&&r[d.__c],k=d?j?j.props.value:d.__:r,t.__c?y=(h=e.__c=t.__c).__=h.__E:(N?e.__c=h=new Q(_,k):(e.__c=h=new rt(_,k),h.constructor=Q,h.render=Jv),j&&j.sub(h),h.props=_,h.state||(h.state={}),h.context=k,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),N&&h.__s==null&&(h.__s=h.state),N&&Q.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Kt({},h.__s)),Kt(h.__s,Q.getDerivedStateFromProps(_,h.__s))),m=h.props,x=h.state,h.__v=e,f)N&&Q.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),N&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(N&&Q.getDerivedStateFromProps==null&&_!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(_,k),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(_,h.__s,k)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(h.props=_,h.state=h.__s,h.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(I){I&&(I.__=e)}),F=0;F<h._sb.length;F++)h.__h.push(h._sb[F]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(_,h.__s,k),N&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,x,v)})}if(h.context=k,h.props=_,h.__P=s,h.__e=!1,R=oe.__r,O=0,N){for(h.state=h.__s,h.__d=!1,R&&R(e),d=h.render(h.props,h.state,h.context),W=0;W<h._sb.length;W++)h.__h.push(h._sb[W]);h._sb=[]}else do h.__d=!1,R&&R(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(r=Kt(Kt({},r),h.getChildContext())),N&&!f&&h.getSnapshotBeforeUpdate!=null&&(v=h.getSnapshotBeforeUpdate(m,x)),L=d,d!=null&&d.type===Ot&&d.key==null&&(L=tm(d.props.children)),l=Yf(s,za(L)?L:[L],e,t,r,i,a,o,l,c,u),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),y&&(h.__E=h.__=null)}catch(I){if(e.__v=null,c||a!=null)if(I.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(G=a.length;G--;)yc(a[G]);yl(e)}else e.__e=t.__e,e.__k=t.__k,I.then||yl(e);oe.__e(I,e,t)}else a==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):l=e.__e=Yv(t.__e,e,t,r,i,a,o,c,u);return(d=oe.diffed)&&d(e),128&e.__u?void 0:l}function yl(s){s&&s.__c&&(s.__c.__e=!0),s&&s.__k&&s.__k.forEach(yl)}function em(s,e,t){for(var r=0;r<t.length;r++)vc(t[r],t[++r],t[++r]);oe.__c&&oe.__c(e,s),s.some(function(i){try{s=i.__h,i.__h=[],s.some(function(a){a.call(i)})}catch(a){oe.__e(a,i.__v)}})}function tm(s){return typeof s!="object"||s==null||s.__b&&s.__b>0?s:za(s)?s.map(tm):Kt({},s)}function Yv(s,e,t,r,i,a,o,l,c){var u,d,h,f,m,x,v,y=t.props,_=e.props,N=e.type;if(N=="svg"?i="http://www.w3.org/2000/svg":N=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((m=a[u])&&"setAttribute"in m==!!N&&(N?m.localName==N:m.nodeType==3)){s=m,a[u]=null;break}}if(s==null){if(N==null)return document.createTextNode(_);s=document.createElementNS(i,N,_.is&&_),l&&(oe.__m&&oe.__m(e,a),l=!1),a=null}if(N==null)y===_||l&&s.data==_||(s.data=_);else{if(a=a&&Ba.call(s.childNodes),y=t.props||aa,!l&&a!=null)for(y={},u=0;u<s.attributes.length;u++)y[(m=s.attributes[u]).name]=m.value;for(u in y)if(m=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=m;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Qa(s,u,null,m,i)}}for(u in _)m=_[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?x=m:u=="checked"?v=m:l&&typeof m!="function"||y[u]===m||Qa(s,u,m,y[u],i);if(d)l||h&&(d.__html==h.__html||d.__html==s.innerHTML)||(s.innerHTML=d.__html),e.__k=[];else if(h&&(s.innerHTML=""),Yf(e.type=="template"?s.content:s,za(f)?f:[f],e,t,r,N=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:t.__k&&wi(t,0),l,c),a!=null)for(u=a.length;u--;)yc(a[u]);l||(u="value",N=="progress"&&x==null?s.removeAttribute("value"):x!=null&&(x!==s[u]||N=="progress"&&!x||N=="option"&&x!=y[u])&&Qa(s,u,x,y[u],i),u="checked",v!=null&&v!=s[u]&&Qa(s,u,v,y[u],i))}return s}function vc(s,e,t){try{if(typeof s=="function"){var r=typeof s.__u=="function";r&&s.__u(),r&&e==null||(s.__u=s(e))}else s.current=e}catch(i){oe.__e(i,t)}}function sm(s,e,t){var r,i;if(oe.unmount&&oe.unmount(s),(r=s.ref)&&(r.current&&r.current!=s.__e||vc(r,null,e)),(r=s.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){oe.__e(a,e)}r.base=r.__P=null}if(r=s.__k)for(i=0;i<r.length;i++)r[i]&&sm(r[i],e,t||typeof s.type!="function");t||yc(s.__e),s.__c=s.__=s.__e=void 0}function Jv(s,e,t){return this.constructor(s,t)}function e1(s,e,t){var r,i,a,o;e==document&&(e=document.documentElement),oe.__&&oe.__(s,e),i=(r=!1)?null:e.__k,a=[],o=[],xc(e,s=e.__k=na(Ot,null,[s]),i||aa,aa,e.namespaceURI,i?null:e.firstChild?Ba.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,o),em(a,s,o)}function rm(s,e,t){var r,i,a,o,l=Kt({},s.props);for(a in s.type&&s.type.defaultProps&&(o=s.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?Ba.call(arguments,2):t),Ki(s.type,l,r||s.key,i||s.ref,null)}Ba=Qf.slice,oe={__e:function(s,e,t,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(s)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(s,r||{}),o=i.__d),o)return i.__E=i}catch(l){s=l}throw s}},Wf=0,rt.prototype.setState=function(s,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Kt({},this.state),typeof s=="function"&&(s=s(Kt({},t),this.props)),s&&Kt(t,s),s!=null&&this.__v&&(e&&this._sb.push(e),Jd(this))},rt.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),Jd(this))},rt.prototype.render=Ot,Xs=[],Gf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kf=function(s,e){return s.__v.__b-e.__v.__b},An.__r=0,Zf=/(PointerCapture)$|Capture$/i,bc=0,gl=tu(!1),bl=tu(!0);var oa,Ee,So,su,la=0,im=[],Re=oe,ru=Re.__b,iu=Re.__r,au=Re.diffed,nu=Re.__c,ou=Re.unmount,lu=Re.__;function wc(s,e){Re.__h&&Re.__h(Ee,s,la||e),la=0;var t=Ee.__H||(Ee.__H={__:[],__h:[]});return s>=t.__.length&&t.__.push({}),t.__[s]}function Pn(s){return la=1,t1(nm,s)}function t1(s,e,t){var r=wc(oa++,2);if(r.t=s,!r.__c&&(r.__=[t?t(e):nm(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,l);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=Ee,!Ee.__f)){var i=function(l,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!a||a.call(this,l,c,u);var h=r.__c.props!==l;return d.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(h=!0)}}),a&&a.call(this,l,c,u)||h};Ee.__f=!0;var a=Ee.shouldComponentUpdate,o=Ee.componentWillUpdate;Ee.componentWillUpdate=function(l,c,u){if(this.__e){var d=a;a=void 0,i(l,c,u),a=d}o&&o.call(this,l,c,u)},Ee.shouldComponentUpdate=i}return r.__N||r.__}function xl(s,e){var t=wc(oa++,3);!Re.__s&&am(t.__H,e)&&(t.__=s,t.u=e,Ee.__H.__h.push(t))}function fn(s){return la=5,_c(function(){return{current:s}},[])}function _c(s,e){var t=wc(oa++,7);return am(t.__H,e)&&(t.__=s(),t.__H=e,t.__h=s),t.__}function s1(s,e){return la=8,_c(function(){return s},e)}function r1(){for(var s;s=im.shift();)if(s.__P&&s.__H)try{s.__H.__h.forEach(mn),s.__H.__h.forEach(vl),s.__H.__h=[]}catch(e){s.__H.__h=[],Re.__e(e,s.__v)}}Re.__b=function(s){Ee=null,ru&&ru(s)},Re.__=function(s,e){s&&e.__k&&e.__k.__m&&(s.__m=e.__k.__m),lu&&lu(s,e)},Re.__r=function(s){iu&&iu(s),oa=0;var e=(Ee=s.__c).__H;e&&(So===Ee?(e.__h=[],Ee.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(mn),e.__h.forEach(vl),e.__h=[],oa=0)),So=Ee},Re.diffed=function(s){au&&au(s);var e=s.__c;e&&e.__H&&(e.__H.__h.length&&(im.push(e)!==1&&su===Re.requestAnimationFrame||((su=Re.requestAnimationFrame)||i1)(r1)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),So=Ee=null},Re.__c=function(s,e){e.some(function(t){try{t.__h.forEach(mn),t.__h=t.__h.filter(function(r){return!r.__||vl(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Re.__e(r,t.__v)}}),nu&&nu(s,e)},Re.unmount=function(s){ou&&ou(s);var e,t=s.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{mn(r)}catch(i){e=i}}),t.__H=void 0,e&&Re.__e(e,t.__v))};var cu=typeof requestAnimationFrame=="function";function i1(s){var e,t=function(){clearTimeout(r),cu&&cancelAnimationFrame(e),setTimeout(s)},r=setTimeout(t,35);cu&&(e=requestAnimationFrame(t))}function mn(s){var e=Ee,t=s.__c;typeof t=="function"&&(s.__c=void 0,t()),Ee=e}function vl(s){var e=Ee;s.__c=s.__(),Ee=e}function am(s,e){return!s||s.length!==e.length||e.some(function(t,r){return t!==s[r]})}function nm(s,e){return typeof e=="function"?e(s):e}function a1(s,e){for(var t in e)s[t]=e[t];return s}function du(s,e){for(var t in s)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&s[r]!==e[r])return!0;return!1}function uu(s,e){this.props=s,this.context=e}(uu.prototype=new rt).isPureReactComponent=!0,uu.prototype.shouldComponentUpdate=function(s,e){return du(this.props,s)||du(this.state,e)};var hu=oe.__b;oe.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),hu&&hu(s)};var n1=oe.__e;oe.__e=function(s,e,t,r){if(s.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(s,e)}n1(s,e,t,r)};var pu=oe.unmount;function om(s,e,t){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),s.__c.__H=null),(s=a1({},s)).__c!=null&&(s.__c.__P===t&&(s.__c.__P=e),s.__c.__e=!0,s.__c=null),s.__k=s.__k&&s.__k.map(function(r){return om(r,e,t)})),s}function lm(s,e,t){return s&&t&&(s.__v=null,s.__k=s.__k&&s.__k.map(function(r){return lm(r,e,t)}),s.__c&&s.__c.__P===e&&(s.__e&&t.appendChild(s.__e),s.__c.__e=!0,s.__c.__P=t)),s}function Co(){this.__u=0,this.o=null,this.__b=null}function cm(s){var e=s.__.__c;return e&&e.__a&&e.__a(s)}function Xa(){this.i=null,this.l=null}oe.unmount=function(s){var e=s.__c;e&&e.__R&&e.__R(),e&&32&s.__u&&(s.type=null),pu&&pu(s)},(Co.prototype=new rt).__c=function(s,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var i=cm(r.__v),a=!1,o=function(){a||(a=!0,t.__R=null,i?i(l):l())};t.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=lm(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),s.then(o,o)},Co.prototype.componentWillUnmount=function(){this.o=[]},Co.prototype.render=function(s,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=om(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&na(Ot,null,s.fallback);return i&&(i.__u&=-33),[na(Ot,null,e.__a?null:s.children),i]};var fu=function(s,e,t){if(++t[1]===t[0]&&s.l.delete(e),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.l.size))for(t=s.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;s.i=t=t[2]}};(Xa.prototype=new rt).__a=function(s){var e=this,t=cm(e.__v),r=e.l.get(s);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),fu(e,s,r)):i()};t?t(a):a()}},Xa.prototype.render=function(s){this.i=null,this.l=new Map;var e=Et(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return s.children},Xa.prototype.componentDidUpdate=Xa.prototype.componentDidMount=function(){var s=this;this.l.forEach(function(e,t){fu(s,t,e)})};var o1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,l1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,c1=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,d1=/[A-Z0-9]/g,u1=typeof document<"u",h1=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(s)};function mu(s,e,t){return e.__k==null&&(e.textContent=""),e1(s,e),typeof t=="function"&&t(),s?s.__c:null}rt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(rt.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(e){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:e})}})});var gu=oe.event;function p1(){}function f1(){return this.cancelBubble}function m1(){return this.defaultPrevented}oe.event=function(s){return gu&&(s=gu(s)),s.persist=p1,s.isPropagationStopped=f1,s.isDefaultPrevented=m1,s.nativeEvent=s};var g1={enumerable:!1,configurable:!0,get:function(){return this.class}},bu=oe.vnode;oe.vnode=function(s){typeof s.type=="string"&&function(e){var t=e.props,r=e.type,i={},a=r.indexOf("-")===-1;for(var o in t){var l=t[o];if(!(o==="value"&&"defaultValue"in t&&l==null||u1&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||h1(t.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":c1.test(o)&&(o=c):c=o="oninput":a&&l1.test(o)?o=o.replace(d1,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Et(t.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Et(t.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",g1)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(s),s.$$typeof=o1,bu&&bu(s)};var yu=oe.__r;oe.__r=function(s){yu&&yu(s),s.__c};var xu=oe.diffed;oe.diffed=function(s){xu&&xu(s);var e=s.props,t=s.__e;t!=null&&s.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};function b1(s){let e=null,t;return(...r)=>(t=r,e||(e=Promise.resolve().then(()=>(e=null,s(...t)))),e)}var ga;const Mn=class Mn extends Vf{constructor(){super(...arguments);C(this,ga);T(this,"isTargetDOMEl");T(this,"el");T(this,"parent");T(this,"title")}getTargetPlugin(t){let r;if(typeof(t==null?void 0:t.addTarget)=="function")r=t,r instanceof Mn||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:Mn}}));else if(typeof t=="function"){const i=t;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(t,r){const i=r.id,a=Gv(t);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),E(this,ga,b1(u=>{this.uppy.getPlugin(this.id)&&(mu(this.render(u,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${t}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),mu(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||Hf(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(t);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof t=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(t,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(t){var r;this.el!=null&&((r=p(this,ga))==null||r.call(this,t))}unmount(){var t;this.isTargetDOMEl&&((t=this.el)==null||t.remove()),this.onUnmount()}onMount(){}onUnmount(){}};ga=new WeakMap;let _i=Mn;const y1="4.3.2",x1={version:y1};var Zr,In,um;class dm{constructor(){C(this,In);T(this,"state",{});C(this,Zr,new Set)}getState(){return this.state}setState(e){const t={...this.state},r={...this.state,...e};this.state=r,A(this,In,um).call(this,t,r,e)}subscribe(e){return p(this,Zr).add(e),()=>{p(this,Zr).delete(e)}}}Zr=new WeakMap,In=new WeakSet,um=function(...e){p(this,Zr).forEach(t=>{t(...e)})},T(dm,"VERSION",x1.version);function hm(s){const e=s.lastIndexOf(".");return e===-1||e===s.length-1?{name:s,extension:void 0}:{name:s.slice(0,e),extension:s.slice(e+1)}}const vu={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function pm(s){var t;if(s.type)return s.type;const e=s.name?(t=hm(s.name).extension)==null?void 0:t.toLowerCase():null;return e&&e in vu?vu[e]:"application/octet-stream"}function v1(s){return s.charCodeAt(0).toString(32)}function wu(s){let e="";return s.replace(/[^A-Z0-9]/gi,t=>(e+=`-${v1(t)}`,"/"))+e}function w1(s,e){let t=e||"uppy";return typeof s.name=="string"&&(t+=`-${wu(s.name.toLowerCase())}`),s.type!==void 0&&(t+=`-${s.type}`),s.meta&&typeof s.meta.relativePath=="string"&&(t+=`-${wu(s.meta.relativePath.toLowerCase())}`),s.data.size!==void 0&&(t+=`-${s.data.size}`),s.data.lastModified!==void 0&&(t+=`-${s.data.lastModified}`),t}function _1(s){return!s.isRemote||!s.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(s.remote.provider)}function j1(s,e){if(_1(s))return s.id;const t=pm(s);return w1({...s,type:t},e)}function N1(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var jc=N1,k1=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,S1=k1,C1=S1,T1=typeof self=="object"&&self&&self.Object===Object&&self,E1=C1||T1||Function("return this")(),fm=E1,A1=fm,P1=function(){return A1.Date.now()},F1=P1,R1=/\s/;function O1(s){for(var e=s.length;e--&&R1.test(s.charAt(e)););return e}var M1=O1,I1=M1,L1=/^\s+/;function D1(s){return s&&s.slice(0,I1(s)+1).replace(L1,"")}var U1=D1,$1=fm,B1=$1.Symbol,mm=B1,_u=mm,gm=Object.prototype,z1=gm.hasOwnProperty,V1=gm.toString,Pi=_u?_u.toStringTag:void 0;function q1(s){var e=z1.call(s,Pi),t=s[Pi];try{s[Pi]=void 0;var r=!0}catch{}var i=V1.call(s);return r&&(e?s[Pi]=t:delete s[Pi]),i}var H1=q1,W1=Object.prototype,G1=W1.toString;function K1(s){return G1.call(s)}var Z1=K1,ju=mm,Q1=H1,X1=Z1,Y1="[object Null]",J1="[object Undefined]",Nu=ju?ju.toStringTag:void 0;function ew(s){return s==null?s===void 0?J1:Y1:Nu&&Nu in Object(s)?Q1(s):X1(s)}var tw=ew;function sw(s){return s!=null&&typeof s=="object"}var rw=sw,iw=tw,aw=rw,nw="[object Symbol]";function ow(s){return typeof s=="symbol"||aw(s)&&iw(s)==nw}var lw=ow,cw=U1,ku=jc,dw=lw,Su=NaN,uw=/^[-+]0x[0-9a-f]+$/i,hw=/^0b[01]+$/i,pw=/^0o[0-7]+$/i,fw=parseInt;function mw(s){if(typeof s=="number")return s;if(dw(s))return Su;if(ku(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=ku(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=cw(s);var t=hw.test(s);return t||pw.test(s)?fw(s.slice(2),t?2:8):uw.test(s)?Su:+s}var gw=mw,bw=jc,To=F1,Cu=gw,yw="Expected a function",xw=Math.max,vw=Math.min;function ww(s,e,t){var r,i,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof s!="function")throw new TypeError(yw);e=Cu(e)||0,bw(t)&&(d=!!t.leading,h="maxWait"in t,a=h?xw(Cu(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f);function m(R){var O=r,W=i;return r=i=void 0,u=R,o=s.apply(W,O),o}function x(R){return u=R,l=setTimeout(_,e),d?m(R):o}function v(R){var O=R-c,W=R-u,L=e-O;return h?vw(L,a-W):L}function y(R){var O=R-c,W=R-u;return c===void 0||O>=e||O<0||h&&W>=a}function _(){var R=To();if(y(R))return N(R);l=setTimeout(_,v(R))}function N(R){return l=void 0,f&&r?m(R):(r=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function k(){return l===void 0?o:N(To())}function F(){var R=To(),O=y(R);if(r=arguments,i=this,c=R,O){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(_,e),m(c)}return l===void 0&&(l=setTimeout(_,e)),o}return F.cancel=j,F.flush=k,F}var bm=ww;const _w=Nr(bm);var jw=bm,Nw=jc,kw="Expected a function";function Sw(s,e,t){var r=!0,i=!0;if(typeof s!="function")throw new TypeError(kw);return Nw(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),jw(s,e,{leading:r,maxWait:e,trailing:i})}var Cw=Sw;const Tw=Nr(Cw);var Ew=function(){var e={},t=e._fns={};e.emit=function(o,l,c,u,d,h,f){var m=r(o);m.length&&i(o,m,[l,c,u,d,h,f])},e.on=function(o,l){t[o]||(t[o]=[]),t[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var u=this._fns[o],d=0,h=u?u.length:0;for(d;d<h;d++)u[d]!==l&&c.push(u[d])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=t[a]?t[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],u=Object.keys(t),d=0,h=u.length;for(d;d<h;d++){var f=u[d];if(f==="*"&&(o=o.concat(t[f])),c.length===2&&c[0]===f){o=o.concat(t[f]);break}}return o}function i(a,o,l){var c=0,u=o.length;for(c;c<u&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const Aw=Nr(Ew);let Pw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Nc=(s=21)=>{let e="",t=s|0;for(;t--;)e+=Pw[Math.random()*64|0];return e};const Fw="4.5.2",Rw={version:Fw};function Ow(s,e){return e.name?e.name:s.split("/")[0]==="image"?`${s.split("/")[0]}.${s.split("/")[1]}`:"noname"}const Mw={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Iw=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const t=e<0;let r=Math.abs(e);if(t&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Js=Nr(Iw);function ym(s,e){this.text=s=s||"",this.hasWild=~s.indexOf("*"),this.separator=e,this.parts=s.split(e)}ym.prototype.match=function(s){var e=!0,t=this.parts,r,i=t.length,a;if(typeof s=="string"||s instanceof String)if(!this.hasWild&&this.text!=s)e=!1;else{for(a=(s||"").split(this.separator),r=0;e&&r<i;r++)t[r]!=="*"&&(r<a.length?e=t[r]===a[r]:e=!1);e=e&&a}else if(typeof s.splice=="function")for(e=[],r=s.length;r--;)this.match(s[r])&&(e[e.length]=s[r]);else if(typeof s=="object"){e={};for(var o in s)this.match(o)&&(e[o]=s[o])}return e};var Lw=function(s,e,t){var r=new ym(s,t||/[\/\.]/);return typeof e<"u"?r.match(e):r},Dw=Lw,Uw=/[\/\+\.]/,$w=function(s,e){function t(r){var i=Dw(r,s,Uw);return i&&i.length>=2}return e?t(e.split(";")[0]):t};const Bw=Nr($w),zw={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Ct extends Error{constructor(t,r){super(t);T(this,"isUserFacing");T(this,"file");T(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class Vw{constructor(e,t){T(this,"getI18n");T(this,"getOpts");this.getI18n=t,this.getOpts=()=>{var i;const r=e();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,t){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+t.length>i)throw new Ct(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...e,...t].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Ct(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Js(r),size:Js(a)}))}}validateSingleFile(e){const{maxFileSize:t,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?Bw(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Ct(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(t&&e.size!=null&&e.size>t)throw new Ct(this.getI18n()("exceedsSize",{size:Js(t),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Ct(this.getI18n()("inferiorSize",{size:Js(r)}),{file:e})}validate(e,t){t.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new Ct(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new Ct(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:t}}}function qw(s){if(s==null&&typeof navigator<"u"&&(s=navigator.userAgent),!s)return!0;const e=/Edge\/(\d+\.\d+)/.exec(s);if(!e)return!0;const r=e[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const Ya={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var wt,_t,ba,lr,Qr,Xr,cr,ee,Qs,_l,xm,jl,vm,Nl,kl,Sl,Cl,Ln,Tl,dr,wm,_m,Es,ya,Li,jm,gn,Di;const Dn=class Dn{constructor(e){C(this,ee);C(this,wt,Object.create(null));C(this,_t);C(this,ba);C(this,lr,Aw());C(this,Qr,new Set);C(this,Xr,new Set);C(this,cr,new Set);T(this,"defaultLocale");T(this,"locale");T(this,"opts");T(this,"store");T(this,"i18n");T(this,"i18nArray");T(this,"scheduledAutoProceed",null);T(this,"wasOffline",!1);C(this,Ln,(e,t)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:t.bytesTotal,percentage:t.bytesTotal!=null&&Number.isFinite(t.bytesTotal)&&t.bytesTotal>0?Math.round(t.bytesUploaded/t.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...i,bytesUploaded:t.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...i}}),p(this,dr).call(this)});C(this,dr,Tw(()=>A(this,ee,Tl).call(this),500,{leading:!0,trailing:!0}));C(this,Es,this.updateOnlineStatus.bind(this));C(this,ya,new Map);this.defaultLocale=Mw;const t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:zw,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new dm,logger:Hv,infoTimeout:5e3},r={...t,...e};this.opts={...r,restrictions:{...t.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=Wv),this.log(`Using Core v${Dn.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Ya,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:qw(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),E(this,_t,new Vw(()=>this.opts,()=>this.i18n)),E(this,ba,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),A(this,ee,_m).call(this)}emit(e,...t){p(this,lr).emit(e,...t)}on(e,t){return p(this,lr).on(e,t),this}once(e,t){return p(this,lr).once(e,t),this}off(e,t){return p(this,lr).off(e,t),this}updateAll(e){this.iteratePlugins(t=>{t.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const t=this.getState().files;this.setState({files:{...t,...Object.fromEntries(Object.entries(e).map(([r,i])=>[r,{...t[r],...i}]))}})}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Can’t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:t})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),t=new zf([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(t=>{t.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},r=Object.create(null);Object.keys(t).forEach(i=>{r[i]={...t[i],progress:{...t[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...Ya})}clear(){const{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Ya,files:{}})}addPreProcessor(e){p(this,Qr).add(e)}removePreProcessor(e){return p(this,Qr).delete(e)}addPostProcessor(e){p(this,cr).add(e)}removePostProcessor(e){return p(this,cr).delete(e)}addUploader(e){p(this,Xr).add(e)}removeUploader(e){return p(this,Xr).delete(e)}setMeta(e){const t={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:r})}setFileMeta(e,t){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...r[e].meta,...t};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(t=>this.getFile(t))}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:r}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],u=[],d=[],h=[],f=[],m=[];for(const x of i){const{progress:v}=x;!v.uploadComplete&&v.uploadStarted&&(a.push(x),x.isPaused||f.push(x)),v.uploadStarted||o.push(x),(v.uploadStarted||v.preprocess||v.postprocess)&&l.push(x),v.uploadStarted&&c.push(x),x.isPaused&&u.push(x),v.uploadComplete&&d.push(x),x.error&&h.push(x),(v.preprocess||v.postprocess)&&m.push(x)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:u,completeFiles:d,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:c.length>0,isAllComplete:t===100&&d.length===i.length&&m.length===0,isAllErrored:!!r&&h.length===i.length,isAllPaused:a.length!==0&&u.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(x=>x.isGhost)}}validateRestrictions(e,t=this.getFiles()){try{p(this,_t).validate(t,[e])}catch(r){return r}return null}validateSingleFile(e){try{p(this,_t).validateSingleFile(e)}catch(t){return t.message}return null}validateAggregateRestrictions(e){const t=this.getFiles();try{p(this,_t).validateAggregateRestrictions(t,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!!(t[e]&&!t[e].isGhost)}addFile(e){A(this,ee,jl).call(this,e);const{nextFilesState:t,validFilesToAdd:r,errors:i}=A(this,ee,kl).call(this,[e]),a=i.filter(l=>l.isRestriction);if(A(this,ee,Qs).call(this,a),i.length>0)throw i[0];this.setState({files:t});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),A(this,ee,Nl).call(this),o.id}addFiles(e){A(this,ee,jl).call(this);const{nextFilesState:t,validFilesToAdd:r,errors:i}=A(this,ee,kl).call(this,e),a=i.filter(l=>l.isRestriction);A(this,ee,Qs).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:t}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&A(this,ee,Nl).call(this)}removeFiles(e){const{files:t,currentUploads:r}=this.getState(),i={...t},a={...r},o=Object.create(null);e.forEach(d=>{t[d]&&(o[d]=t[d],delete i[d])});function l(d){return o[d]===void 0}Object.keys(a).forEach(d=>{const h=r[d].fileIDs.filter(l);if(h.length===0){delete a[d];return}const{capabilities:f}=this.getState();if(h.length!==r[d].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[d]={...r[d],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),p(this,dr).call(this);const u=Object.keys(o);u.forEach(d=>{this.emit("file-removed",o[d])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const t=this.getFile(e),i=!(t.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",t,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await A(this,ee,Cl).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t),this.setState(Ya)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const t=A(this,ee,Li).call(this,[e],{forceAllowNewUpload:!0});return A(this,ee,Di).call(this,t)}logout(){this.iteratePlugins(e=>{var t,r;(r=(t=e.provider)==null?void 0:t.logout)==null||r.call(t)})}[Symbol.for("uppy test: updateTotalProgress")](){return A(this,ee,Tl).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...t){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in p(this,wt)?p(this,wt)[r.type].push(r):p(this,wt)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const t of Object.values(p(this,wt))){const r=t.find(i=>i.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return p(this,wt)[e]}iteratePlugins(e){Object.values(p(this,wt)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=p(this,wt)[e.type],r=t.findIndex(o=>o.id===e.id);r!==-1&&t.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),p(this,ba).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",p(this,Es)),window.removeEventListener("offline",p(this,Es)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t="info",r=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:t,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,t){const{logger:r}=this.opts;switch(t){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,t){p(this,ya).set(e,t)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const t=p(this,ya).get(e.remote.requestClientId);if(t==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return t}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?A(this,ee,Di).call(this,e):(A(this,ee,gn).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return A(this,ee,Li).call(this,...e)}addResultData(e,t){if(!A(this,ee,jm).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...t}};this.setState({currentUploads:{...r,[e]:i}})}async upload(){var i;(i=p(this,wt).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(A(this,ee,Sl).call(this).length>0){const a=await A(this,ee,Cl).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(e=r,this.setState({files:e})),Promise.resolve().then(()=>p(this,_t).validateMinNumberOfFiles(e)).catch(a=>{throw A(this,ee,Qs).call(this,[a]),a}).then(()=>{if(!A(this,ee,xm).call(this,e))throw new Ct(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(d=>d.fileIDs),l=[];Object.keys(e).forEach(d=>{const h=this.getFile(d);!h.progress.uploadStarted&&o.indexOf(d)===-1&&l.push(h.id)});const c=A(this,ee,Li).call(this,l),u=await A(this,ee,Di).call(this,c);return this.emit("complete",u),u}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};wt=new WeakMap,_t=new WeakMap,ba=new WeakMap,lr=new WeakMap,Qr=new WeakMap,Xr=new WeakMap,cr=new WeakMap,ee=new WeakSet,Qs=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const t=e.filter(o=>o.isUserFacing),r=4,i=t.slice(0,r),a=t.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},_l=function(e){const{missingFields:t,error:r}=p(this,_t).getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(t.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},xm=function(e){let t=!0;for(const r of Object.values(e))A(this,ee,_l).call(this,r)||(t=!1);return t},jl=function(e){const{allowNewUpload:t}=this.getState();if(t===!1){const r=new Ct(this.i18n("noMoreFilesAllowed"),{file:e});throw A(this,ee,Qs).call(this,[r]),r}},vm=function(e){const t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,r=pm(t),i=Ow(r,t),a=hm(i).extension,o=j1(t,this.getID()),l=t.meta||{};l.name=i,l.type=r;const c=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,data:t.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote,preview:t.preview}},Nl=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},kl=function(e){var o;let{files:t}=this.getState(),r={...t};const i=[],a=[];for(const l of e)try{let c=A(this,ee,vm).call(this,l);const u=(o=t[c.id])==null?void 0:o.isGhost;u&&(c={...t[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const d=this.opts.onBeforeFileAdded(c,r);if(t=this.getState().files,r={...t,...r},!d&&this.checkIfFileAlreadyExists(c.id))throw new Ct(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(d===!1&&!u)throw new Ct("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof d=="object"&&d!==null&&(c=d),p(this,_t).validateSingleFile(c),r[c.id]=c,i.push(c)}catch(c){a.push(c)}try{p(this,_t).validateAggregateRestrictions(Object.values(t),i)}catch(l){return a.push(l),{nextFilesState:t,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Sl=function(){const{files:e}=this.getState();return Object.keys(e).filter(t=>e[t].error)},Cl=async function(){const e=A(this,ee,Sl).call(this),t={...this.getState().files};if(e.forEach(i=>{t[i]={...t[i],isPaused:!1,error:null}}),this.setState({files:t,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=A(this,ee,Li).call(this,e,{forceAllowNewUpload:!0});return A(this,ee,Di).call(this,r)},Ln=new WeakMap,Tl=function(){const e=A(this,ee,wm).call(this);let t=null;e!=null&&(t=Math.round(e*100),t>100?t=100:t<0&&(t=0)),this.emit("progress",t??0),this.setState({totalProgress:t??0})},dr=new WeakMap,wm=function(){const t=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(t.length===0)return 0;if(t.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=t.filter(r),a=t.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,u)=>c+(u.progress.bytesTotal??0),0),l=i.reduce((c,u)=>c+(u.progress.bytesUploaded||0),0);return o===0?0:l/o},_m=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),A(this,ee,Qs).call(this,[l])}else A(this,ee,Qs).call(this,[a])});let t=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");t||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),t=setTimeout(()=>{t=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",p(this,Ln)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...o,postprocess:p(this,cr).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),p(this,dr).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{p(this,dr).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&A(this,ee,_l).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",p(this,Es)),window.addEventListener("offline",p(this,Es)),setTimeout(p(this,Es),3e3))},Es=new WeakMap,ya=new WeakMap,Li=function(e,t={}){const{forceAllowNewUpload:r=!1}=t,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=Nc();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},jm=function(e){const{currentUploads:t}=this.getState();return t[e]},gn=function(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})},Di=async function(e){const t=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=t();const i=[...p(this,Qr),...p(this,Xr),...p(this,cr)];try{for(let o=r.step||0;o<i.length&&r;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const{fileIDs:c}=r;await l(c,e),r=t()}}catch(o){throw A(this,ee,gn).call(this,e),o}if(r){r.fileIDs.forEach(u=>{const d=this.getFile(u);d!=null&&d.progress.postprocess&&this.emit("postprocess-complete",d)});const o=r.fileIDs.map(u=>this.getFile(u)),l=o.filter(u=>!u.error),c=o.filter(u=>u.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=t()}let a;return r&&(a=r.result,A(this,ee,gn).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},T(Dn,"VERSION",Rw.version);let wl=Dn;var Hw=0;function g(s,e,t,r,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var u={type:s,props:c,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Hw,__i:-1,__u:0,__source:i,__self:a};if(typeof s=="function"&&(o=s.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return oe.vnode&&oe.vnode(u),u}const Ww="4.3.2",Gw={version:Ww},Tu=300;class Kw extends rt{constructor(){super(...arguments);T(this,"ref",Zv())}componentWillEnter(t){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(t,Tu)}componentWillLeave(t){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(t,Tu)}render(){const{children:t}=this.props;return g("div",{className:"uppy-Informer-animated",ref:this.ref,children:t})}}function Zw(s,e){return Object.assign(s,e)}function Qw(s,e){return(s==null?void 0:s.key)??e}function Xw(s,e){const t=s._ptgLinkedRefs||(s._ptgLinkedRefs={});return t[e]||(t[e]=r=>{s.refs[e]=r})}function Fi(s){const e={};for(let t=0;t<s.length;t++)if(s[t]!=null){const r=Qw(s[t],t.toString(36));e[r]=s[t]}return e}function Yw(s,e){s=s||{},e=e||{};const t=o=>Object.hasOwn(e,o)?e[o]:s[o],r={};let i=[];for(const o in s)Object.hasOwn(e,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=t(c)}a[o]=t(o)}for(let o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}const Jw=s=>s;class Nm extends rt{constructor(e,t){super(e,t),this.refs={},this.state={children:Fi(Et(Et(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){const t=Fi(Et(e.children)||[]),r=this.state.children;this.setState(a=>({children:Yw(a.children,t)}));let i;for(i in t)if(Object.hasOwn(t,i)){const a=r&&Object.hasOwn(r,i);t[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):t[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=t&&Object.hasOwn(t,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){const t=this.keysToAbortLeave.indexOf(e);t!==-1&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t!=null&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const t=this.refs[e];t!=null&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Fi(Et(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t!=null&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const t=this.refs[e];t!=null&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Fi(Et(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Fi(Et(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=Zw({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:t,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:u,...d},{children:h}){const f=Object.entries(h).map(([m,x])=>{if(!x)return;const v=Xw(this,m);return rm(e(x),{ref:v,key:m})}).filter(Boolean);return na(u,d,f)}}Nm.defaultProps={component:"span",childFactory:Jw};class km extends _i{constructor(t,r){super(t,r);T(this,"render",t=>g("div",{className:"uppy uppy-Informer",children:g(Nm,{children:t.info.map(r=>g(Kw,{children:g("p",{role:"alert",children:[r.message," ",r.details&&g("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:t}=this.opts;t&&this.mount(t,this)}}T(km,"VERSION",Gw.version);var Sm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(s){(function(){var e={}.hasOwnProperty;function t(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}s.exports?(t.default=t,s.exports=t):window.classNames=t})()})(Sm);var e2=Sm.exports;const Mt=Nr(e2),t2={position:"relative",width:"100%",minHeight:"100%"},s2={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class r2 extends rt{constructor(t){super(t);T(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});T(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var t;(t=this.focusElement)!=null&&t.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:t}=this.state;t!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:t,rowHeight:r,renderRow:i,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let u=Math.floor(l/r),d=Math.floor(c/r);a&&(u=Math.max(0,u-u%a),d+=a);const h=u+d+4,f=t.slice(u,h),m={...t2,height:t.length*r},x={...s2,top:u*r};return g("div",{onScroll:this.handleScroll,...o,children:g("div",{role:"presentation",style:m,children:g("div",{role:"presentation",style:x,children:f.map(i)})})})}}function i2(){return g("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:g("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Eu(s,e,t,r){return s===e?s:r===0?e:s+(e-s)*2**(-r/t)}const a2="4.2.3",n2={version:a2},o2={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Dt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function l2(s){const e=Math.floor(s/3600)%24,t=Math.floor(s/60)%60,r=Math.floor(s%60);return{hours:e,minutes:t,seconds:r}}function c2(s){const e=l2(s),t=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${t}${r}${i}`}const d2="·",Au=()=>` ${d2} `;function u2(s){const{newFiles:e,isUploadStarted:t,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=s,c=Mt("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Dt.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=e&&t&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return g("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:u})}function h2(s){const{i18n:e,uppy:t}=s;return g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>t.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:g("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function p2(s){const{i18n:e,uppy:t}=s;return g("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>t.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:g("g",{fill:"none",fillRule:"evenodd",children:[g("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),g("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function f2(s){const{isAllPaused:e,i18n:t,isAllComplete:r,resumableUploads:i,uppy:a}=s,o=t(e?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return g("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:g("g",{fill:"none",fillRule:"evenodd",children:[g("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),g("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function m2(s){const{i18n:e,doneButtonHandler:t}=s;return g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:t,"data-uppy-super-focusable":!0,children:e("done")})}function Cm(){return g("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:g("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function g2(s){const{progress:e}=s,{value:t,mode:r,message:i}=e;return g("div",{className:"uppy-StatusBar-content",children:[g(Cm,{}),r==="determinate"?`${Math.round(t*100)}% · `:"",i]})}function b2(s){const{numUploads:e,complete:t,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=s,l=e>1,c=Js(r);return g("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:t,smart_count:e}),g("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&Au(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Js(i)}):o("dataUploadedOfUnknown",{complete:c}),Au(),a!=null&&o("xTimeLeft",{time:c2(a)})]})]})}function Tm(s){const{i18n:e,complete:t,numUploads:r}=s;return g("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:t,smart_count:r})})}function y2(s){const{i18n:e,newFiles:t,startUpload:r}=s,i=Mt("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return g("div",{className:"uppy-StatusBar-statusSecondary",children:[g("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:t})}),g("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:t}),onClick:r,children:e("upload")})]})}function x2(s){const{i18n:e,supportsUploadProgress:t,totalProgress:r,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:u,complete:d,totalUploadedSize:h,totalSize:f,totalETA:m,startUpload:x}=s,v=c&&a;if(!a||o)return null;const y=e(l?"paused":"uploading");function _(){return!l&&!v&&i?t?g(b2,{numUploads:u,complete:d,totalUploadedSize:h,totalSize:f,totalETA:m,i18n:e}):g(Tm,{i18n:e,complete:d,numUploads:u}):null}return g("div",{className:"uppy-StatusBar-content",title:y,children:[l?null:g(Cm,{}),g("div",{className:"uppy-StatusBar-status",children:[g("div",{className:"uppy-StatusBar-statusPrimary",children:t&&r!==0?`${y}: ${r}%`:y}),_(),v?g(y2,{i18n:e,newFiles:c,startUpload:x}):null]})]})}function v2(s){const{i18n:e}=s;return g("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:g("div",{className:"uppy-StatusBar-status",children:g("div",{className:"uppy-StatusBar-statusPrimary",children:[g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:g("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function w2(s){const{error:e,i18n:t,complete:r,numUploads:i}=s;function a(){const o=`${t("uploadFailed")} 

 ${e}`;alert(o)}return g("div",{className:"uppy-StatusBar-content",title:t("uploadFailed"),children:[g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:g("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),g("div",{className:"uppy-StatusBar-status",children:[g("div",{className:"uppy-StatusBar-statusPrimary",children:[t("uploadFailed"),g("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":t("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),g(Tm,{i18n:t,complete:r,numUploads:i})]})]})}function Eo(s){const e=[];let t="indeterminate",r;for(const{progress:a}of Object.values(s)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:t,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:t,message:r,value:i}}const{STATE_ERROR:Pu,STATE_WAITING:_2,STATE_PREPROCESSING:Ao,STATE_UPLOADING:Ja,STATE_POSTPROCESSING:Po,STATE_COMPLETE:en}=Dt;function j2({newFiles:s,allowNewUpload:e,isUploadInProgress:t,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:u=!1,recoveredState:d,uploadState:h,totalProgress:f,files:m,supportsUploadProgress:x,hideAfterFinish:v=!1,isSomeGhost:y,doneButtonHandler:_=void 0,isUploadStarted:N,i18n:j,startUpload:k,uppy:F,isAllComplete:R,showProgressDetails:O=void 0,numUploads:W,complete:L,totalSize:G,totalETA:Q,totalUploadedSize:I}){function te(){switch(h){case Po:case Ao:{const Ws=Eo(m);return Ws.mode==="determinate"?Ws.value*100:f}case Pu:return null;case Ja:return x?f:null;default:return f}}function H(){switch(h){case Po:case Ao:{const{mode:Ws}=Eo(m);return Ws==="indeterminate"}case Ja:return!x;default:return!1}}const ce=te(),ue=ce??100,we=!a&&s&&(!t&&!r||d)&&e&&!o,je=!c&&h!==_2&&h!==en,Ne=i&&!l&&h===Ja,ot=a&&!R&&!u,Ve=_&&h===en,qs=Mt("uppy-StatusBar-progress",{"is-indeterminate":H()}),Xt=Mt("uppy-StatusBar",`is-${h}`,{"has-ghosts":y}),Hs=(()=>{switch(h){case Ao:case Po:return g(g2,{progress:Eo(m)});case en:return g(v2,{i18n:j});case Pu:return g(w2,{error:a,i18n:j,numUploads:W,complete:L});case Ja:return g(x2,{i18n:j,supportsUploadProgress:x,totalProgress:f,showProgressDetails:O,isUploadStarted:N,isAllComplete:R,isAllPaused:r,newFiles:s,numUploads:W,complete:L,totalUploadedSize:I,totalSize:G,totalETA:Q,startUpload:k});default:return null}})();return!(we||ot||Ne||je||Ve)&&!Hs||h===en&&v?null:g("div",{className:Xt,children:[g("div",{className:qs,style:{width:`${ue}%`},role:"progressbar","aria-label":`${ue}%`,"aria-valuetext":`${ue}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ce}),Hs,g("div",{className:"uppy-StatusBar-actions",children:[we?g(u2,{newFiles:s,isUploadStarted:N,recoveredState:d,i18n:j,isSomeGhost:y,startUpload:k,uploadState:h}):null,ot?g(h2,{i18n:j,uppy:F}):null,Ne?g(f2,{isAllPaused:r,i18n:j,isAllComplete:R,resumableUploads:i,uppy:F}):null,je?g(p2,{i18n:j,uppy:F}):null,Ve?g(m2,{i18n:j,doneButtonHandler:_}):null]})]})}const N2=2e3,k2=2e3;function S2(s,e,t,r){if(s)return Dt.STATE_ERROR;if(e)return Dt.STATE_COMPLETE;if(t)return Dt.STATE_WAITING;let i=Dt.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return Dt.STATE_UPLOADING;l.preprocess&&(i=Dt.STATE_PREPROCESSING),l.postprocess&&i!==Dt.STATE_PREPROCESSING&&(i=Dt.STATE_POSTPROCESSING)}return i}const C2={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var $o,As,Ps,ur,rs,Un,Em,xa;let T2=($o=class extends _i{constructor(t,r){super(t,{...C2,...r});C(this,Un);C(this,As);C(this,Ps);C(this,ur);C(this,rs);T(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));C(this,xa,()=>{const{recoveredState:t}=this.uppy.getState();if(E(this,ur,null),E(this,rs,null),t){E(this,Ps,Object.values(t.files).reduce((r,{progress:i})=>r+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}E(this,As,performance.now()),E(this,Ps,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=o2,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(t){const{capabilities:r,files:i,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=t,{newFiles:u,startedFiles:d,completeFiles:h,isUploadStarted:f,isAllComplete:m,isAllPaused:x,isUploadInProgress:v,isSomeGhost:y}=this.uppy.getObjectOfFilesPerState(),_=c?Object.values(i):u,N=!!r.resumableUploads,j=r.uploadProgress!==!1;let k=null,F=0;d.every(O=>O.progress.bytesTotal!=null&&O.progress.bytesTotal!==0)?(k=0,d.forEach(O=>{k+=O.progress.bytesTotal||0,F+=O.progress.bytesUploaded||0})):d.forEach(O=>{F+=O.progress.bytesUploaded||0});const R=A(this,Un,Em).call(this,{uploaded:F,total:k});return j2({error:l,uploadState:S2(l,m,c,t.files||{}),allowNewUpload:a,totalProgress:o,totalSize:k,totalUploadedSize:F,isAllComplete:!1,isAllPaused:x,isUploadStarted:f,isUploadInProgress:v,isSomeGhost:y,recoveredState:c,complete:h.length,newFiles:_.length,numUploads:d.length,totalETA:R,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:N,supportsUploadProgress:j,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const t=this.el;Hf(t)||(t.dir="ltr")}install(){const{target:t}=this.opts;t&&this.mount(t,this),this.uppy.on("upload",p(this,xa)),E(this,As,performance.now()),E(this,Ps,this.uppy.getFiles().reduce((r,i)=>r+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",p(this,xa))}},As=new WeakMap,Ps=new WeakMap,ur=new WeakMap,rs=new WeakMap,Un=new WeakSet,Em=function(t){if(t.total==null||t.total===0)return null;const r=t.total-t.uploaded;if(r<=0)return null;p(this,As)??E(this,As,performance.now());const i=performance.now()-p(this,As);if(i===0)return Math.round((p(this,rs)??0)/100)/10;const a=t.uploaded-p(this,Ps);if(E(this,Ps,t.uploaded),a<=0)return Math.round((p(this,rs)??0)/100)/10;const o=a/i,l=p(this,ur)==null?o:Eu(o,p(this,ur),N2,i);E(this,ur,l);const c=r/l,u=Math.max(p(this,rs)-i,0),d=p(this,rs)==null?c:Eu(c,u,k2,i);return E(this,rs,d),E(this,As,performance.now()),Math.round(d/100)/10},xa=new WeakMap,T($o,"VERSION",n2.version),$o);const E2=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function A2(s,e,t){const r=E2.exec(s),i=e.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}function Fu(s){return s.startsWith("blob:")}function Ru(s){return s?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(s):!1}function ge(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var Am=typeof self<"u"?self:global;const ca=typeof navigator<"u",P2=ca&&typeof HTMLImageElement>"u",Ou=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Pm=Am.Buffer,Fm=!!Pm,F2=s=>s!==void 0;function Rm(s){return s===void 0||(s instanceof Map?s.size===0:Object.values(s).filter(F2).length===0)}function Be(s){let e=new Error(s);throw delete e.stack,e}function Mu(s){let e=function(t){let r=0;return t.ifd0.enabled&&(r+=1024),t.exif.enabled&&(r+=2048),t.makerNote&&(r+=2048),t.userComment&&(r+=1024),t.gps.enabled&&(r+=512),t.interop.enabled&&(r+=100),t.ifd1.enabled&&(r+=1024),r+2048}(s);return s.jfif.enabled&&(e+=50),s.xmp.enabled&&(e+=2e4),s.iptc.enabled&&(e+=14e3),s.icc.enabled&&(e+=6e3),e}const Fo=s=>String.fromCharCode.apply(null,s),Iu=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Rt{static from(e,t){return e instanceof this&&e.le===t?e:new Rt(e,void 0,void 0,t)}constructor(e,t=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-t);let a=new DataView(e,t,r);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Rt){r===void 0&&(r=e.byteLength-t),(t+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Be("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,t,r);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else Be("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,r=Rt){return e instanceof DataView||e instanceof Rt?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Be("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new r(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Rt(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return i=this.getUint8Array(e,t),Iu?Iu.decode(i):Fm?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Fo(i)));var i}getLatin1String(e=0,t=this.byteLength){let r=this.getUint8Array(e,t);return Fo(r)}getUnicodeString(e=0,t=this.byteLength){const r=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Fo(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function El(s,e){Be(`${s} '${e}' was not loaded, try using full build of exifr.`)}class kc extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||El(this.kind,e),t&&(e in t||function(r,i){Be(`Unknown ${r} '${i}'.`)}(this.kind,e),t[e].enabled||El(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Om=new kc("file parser"),Tt=new kc("segment parser"),Sc=new kc("file reader");let R2=Am.fetch;function Lu(s,e){return(t=s).startsWith("data:")||t.length>1e4?Pl(s,e,"base64"):Ou&&s.includes("://")?Al(s,e,"url",Du):Ou?Pl(s,e,"fs"):ca?Al(s,e,"url",Du):void Be("Invalid input argument");var t}async function Al(s,e,t,r){return Sc.has(t)?Pl(s,e,t):r?async function(i,a){let o=await a(i);return new Rt(o)}(s,r):void Be(`Parser ${t} is not loaded`)}async function Pl(s,e,t){let r=new(Sc.get(t))(s,e);return await r.read(),r}const Du=s=>R2(s).then(e=>e.arrayBuffer()),Fl=s=>new Promise((e,t)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=t,r.readAsArrayBuffer(s)}),Cc=new Map,O2=new Map,M2=new Map,tn=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Mm=["jfif","xmp","icc","iptc","ihdr"],Rl=["tiff",...Mm],Ue=["ifd0","ifd1","exif","gps","interop"],sn=[...Rl,...Ue],rn=["makerNote","userComment"],Im=["translateKeys","translateValues","reviveValues","multiSegment"],an=[...Im,"sanitize","mergeOutput","silentErrors"];class Lm{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Ri extends Lm{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,r,i){if(super(),ge(this,"enabled",!1),ge(this,"skip",new Set),ge(this,"pick",new Set),ge(this,"deps",new Set),ge(this,"translateKeys",!1),ge(this,"translateValues",!1),ge(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Ue.includes(e),this.canBeFiltered&&(this.dict=Cc.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Be(`Invalid options argument: ${r}`)}applyInheritables(e){let t,r;for(t of Im)r=e[t],r!==void 0&&(this[t]=r)}translateTagSet(e,t){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&t.add(Number(a[i]))):t.add(r)}else for(let r of e)t.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Fn(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Fn(this.pick,this.deps)}}var We={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Uu=new Map;class Tc extends Lm{static useCached(e){let t=Uu.get(e);return t!==void 0||(t=new this(e),Uu.set(e,t)),t}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Be(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=ca?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of tn)this[e]=We[e];for(e of an)this[e]=We[e];for(e of rn)this[e]=We[e];for(e of sn)this[e]=new Ri(e,We[e],void 0,this)}setupFromTrue(){let e;for(e of tn)this[e]=We[e];for(e of an)this[e]=We[e];for(e of rn)this[e]=!0;for(e of sn)this[e]=new Ri(e,!0,void 0,this)}setupFromArray(e){let t;for(t of tn)this[t]=We[t];for(t of an)this[t]=We[t];for(t of rn)this[t]=We[t];for(t of sn)this[t]=new Ri(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,Ue)}setupFromObject(e){let t;for(t of(Ue.ifd0=Ue.ifd0||Ue.image,Ue.ifd1=Ue.ifd1||Ue.thumbnail,Object.assign(this,e),tn))this[t]=Ro(e[t],We[t]);for(t of an)this[t]=Ro(e[t],We[t]);for(t of rn)this[t]=Ro(e[t],We[t]);for(t of Rl)this[t]=new Ri(t,We[t],e[t],this);for(t of Ue)this[t]=new Ri(t,We[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Ue,sn),e.tiff===!0?this.batchEnableWithBool(Ue,!0):e.tiff===!1?this.batchEnableWithUserValue(Ue,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Ue):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Ue)}batchEnableWithBool(e,t){for(let r of e)this[r].enabled=t}batchEnableWithUserValue(e,t){for(let r of e){let i=t[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,t,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=$u(e,r);for(let[o,l]of a)Fn(this[o].pick,l),this[o].enabled=!0}else if(t&&t.length){let a=$u(t,r);for(let[o,l]of a)Fn(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:r,iptc:i,icc:a}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:r,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Ue.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Ue)this[a].finalizeFilters()}get onlyTiff(){return!Mm.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Rl)this[e].enabled&&!Tt.has(e)&&El("segment parser",e)}}function $u(s,e){let t,r,i,a,o=[];for(i of e){for(a of(t=Cc.get(i),r=[],t))(s.includes(a[0])||s.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function Ro(s,e){return s!==void 0?s:e!==void 0?e:void 0}function Fn(s,e){for(let t of e)s.add(t)}ge(Tc,"default",We);class I2{constructor(e){ge(this,"parsers",{}),ge(this,"output",{}),ge(this,"errors",[]),ge(this,"pushToErrors",t=>this.errors.push(t)),this.options=Tc.useCached(e)}async read(e){this.file=await function(t,r){return typeof t=="string"?Lu(t,r):ca&&!P2&&t instanceof HTMLImageElement?Lu(t.src,r):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Rt(t):ca&&t instanceof Blob?Al(t,r,"blob",Fl):void Be("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[r,i]of Om)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Be("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Rm(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(t=t.map(r=>r.catch(this.pushToErrors))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,r=Tt.get("tiff",e);var i;if(t.tiff?i={start:0,type:"tiff"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,e,t),l=await o.extractThumbnail();return t.close&&t.close(),l}}class Fr{static findPosition(e,t){let r=e.getUint16(t+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,t,r):this.headerLength,a=t+i,o=r-i;return{offset:t,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(e,t={}){return new this(e,new Tc({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Rt?e:new Rt(e)}constructor(e,t={},r){ge(this,"errors",[]),ge(this,"raw",new Map),ge(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let r=M2.get(t),i=O2.get(t),a=Cc.get(t),o=this.options[t],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,u=o.translateKeys&&!!a,d={};for(let[h,f]of e)l&&r.has(h)?f=r.get(h)(f):c&&i.has(h)&&(f=this.translateValue(f,i.get(h))),u&&a.has(h)&&(h=a.get(h)||h),d[h]=f;return d}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[t]?Object.assign(e[t],r):e[t]=r}}ge(Fr,"headerLength",4),ge(Fr,"type",void 0),ge(Fr,"multiSegment",!1),ge(Fr,"canHandle",()=>!1);function L2(s){return s===192||s===194||s===196||s===219||s===221||s===218||s===254}function D2(s){return s>=224&&s<=239}function U2(s,e,t){for(let[r,i]of Tt)if(i.canHandle(s,e,t))return r}class Bu extends class{constructor(e,t,r){ge(this,"errors",[]),ge(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){Be(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):Be("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let r=new(Tt.get(e))(t,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let t of e){let{type:r,chunk:i}=t,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),ge(this,"appSegments",[]),ge(this,"jpegSegments",[]),ge(this,"unknownSegments",[])}static canHandle(e,t){return t===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Tt.keyList())):(e=e===void 0?Tt.keyList().filter(t=>this.options[t].enabled):e.filter(t=>this.options[t].enabled&&Tt.has(t)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Tt.get(l),u=this.options[l];return c.multiSegment&&u.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,u=this.appSegments.some(d=>!this.file.available(d.offset||d.start,d.length||d.size));if(l=e>c&&!u?!await r.readNextChunk(e):!await r.readNextChunk(c),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,t){t-=2;let r,i,a,o,l,c,{file:u,findAll:d,wanted:h,remaining:f,options:m}=this;for(;e<t;e++)if(u.getUint8(e)===255){if(r=u.getUint8(e+1),D2(r)){if(i=u.getUint16(e+2),a=U2(u,e,i),a&&h.has(a)&&(o=Tt.get(a),l=o.findPosition(u,e),c=m[a],l.type=a,this.appSegments.push(l),!d&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(a)):f.delete(a),f.size===0)))break;m.recordUnknownSegments&&(l=Fr.findPosition(u,e),l.marker=r,this.unknownSegments.push(l)),e+=i+1}else if(L2(r)){if(i=u.getUint16(e+2),r===218&&m.stopAfterSos!==!1)return;m.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(t=>t.multiSegment))return;let e=function(t,r){let i,a,o,l=new Map;for(let c=0;c<t.length;c++)i=t[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([t,r])=>{let i=Tt.get(t,this.options);return i.handleMultiSegments?{type:t,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(t=>t.type===e)}async getOrFindSegment(e){let t=this.getSegment(e);return t===void 0&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}ge(Bu,"type","jpeg"),Om.set("jpeg",Bu);const $2=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class B2 extends Fr{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,r=new Map){let{pick:i,skip:a}=this.options[t];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let u=0;u<c;u++){let d=this.chunk.getUint16(e);if(o){if(i.has(d)&&(r.set(d,this.parseTag(e,d,t)),i.delete(d),i.size===0))break}else!l&&a.has(d)||r.set(d,this.parseTag(e,d,t));e+=12}return r}parseTag(e,t,r){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=$2[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&Be(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&Be(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let u=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),d=l;for(let h=0;h<o;h++)u[h]=this.parseTagValue(a,e),e+=d;return u}}parseTagValue(e,t){let{chunk:r}=this;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);case 13:return r.getUint32(t);default:Be(`Invalid tiff type ${e}`)}}}class Oo extends B2{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let r=new Map;return this[t]=r,this.parseTags(e,t,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Be("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Be(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Mu(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Mu(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let r=e.get(t);r&&r.length===1&&e.set(t,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",zu(...e.get(2),e.get(1))),e.set("longitude",zu(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,r,i={};for(t of Ue)if(e=this[t],!Rm(e))if(r=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(i,r)}else i[t]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[r,i]of Object.entries(t))this.assignObjectToOutput(e,r,i)}}function zu(s,e,t,r){var i=s+e/60+t/3600;return r!=="S"&&r!=="W"||(i*=-1),i}ge(Oo,"type","tiff"),ge(Oo,"headerLength",10),Tt.set("tiff",Oo);const Ec={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Ec,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Ec,{tiff:!1,ifd1:!0,mergeOutput:!1});const z2=Object.assign({},Ec,{firstChunkSize:4e4,ifd0:[274]});async function V2(s){let e=new I2(z2);await e.read(s);let t=await e.parse();if(t&&t.ifd0)return t.ifd0[274]}const q2=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ui=!0,$i=!0;if(typeof navigator=="object"){let s=navigator.userAgent;if(s.includes("iPad")||s.includes("iPhone")){let e=s.match(/OS (\d+)_(\d+)/);if(e){let[,t,r]=e;Ui=Number(t)+.1*Number(r)<13.4,$i=!1}}else if(s.includes("OS X 10")){let[,e]=s.match(/OS X 10[_.](\d+)/);Ui=$i=Number(e)<15}if(s.includes("Chrome/")){let[,e]=s.match(/Chrome\/(\d+)/);Ui=$i=Number(e)<81}else if(s.includes("Firefox/")){let[,e]=s.match(/Firefox\/(\d+)/);Ui=$i=Number(e)<77}}async function H2(s){let e=await V2(s);return Object.assign({canvas:Ui,css:$i},q2[e])}class W2 extends Rt{constructor(...e){super(...e),ge(this,"ranges",new G2),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+t;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let t;t=Fm?Pm.allocUnsafe(e):new Uint8Array(e);let r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}subarray(e,t,r=!1){return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,r=!1){r&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class G2{constructor(){ge(this,"list",[])}get length(){return this.list.length}add(e,t,r=0){let i=e+t,a=this.list.filter(o=>Vu(e,o.offset,i)||Vu(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),t=i-e;let o=a.shift();o.offset=e,o.length=t,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let r=e+t;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function Vu(s,e,t){return s<=e&&e<=t}class K2 extends W2{constructor(e,t){super(0),ge(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,r=await this.readChunk(e,t);return!!r&&r.byteLength===t}async readChunk(e,t){if(this.chunksRead++,(t=this.safeWrapAddress(e,t))!==0)return this._readChunk(e,t)}safeWrapAddress(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Sc.set("blob",class extends K2{async readWhole(){this.chunked=!1;let s=await Fl(this.input);this._swapArrayBuffer(s)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(s,e){let t=e?s+e:void 0,r=this.input.slice(s,t),i=await Fl(r);return this.set(i,s,!0)}});const Z2="4.2.2",Q2={version:Z2},X2={strings:{generatingThumbnails:"Generating thumbnails..."}};function Y2(s,e,t){try{s.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return s.toBlob?new Promise(r=>{s.toBlob(r,e,t)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>A2(s.toDataURL(e,t),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function J2(s,e){let t=s.width,r=s.height;(e.deg===90||e.deg===270)&&(t=s.height,r=s.width);const i=document.createElement("canvas");i.width=t,i.height=r;const a=i.getContext("2d");return a.translate(t/2,r/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),i}function e_(s){const e=s.width/s.height,t=5e6,r=4096;let i=Math.floor(Math.sqrt(t*e)),a=Math.floor(t/Math.sqrt(t*e));if(i>r&&(i=r,a=Math.round(i/e)),a>r&&(a=r,i=Math.round(e*a)),s.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(s,0,0,i,a),o}return s}const t_={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Dm extends _i{constructor(t,r){super(t,{...t_,...r});T(this,"queue");T(this,"queueProcessing");T(this,"defaultThumbnailDimension");T(this,"thumbnailType");T(this,"onFileAdded",t=>{!t.preview&&t.data&&Ru(t.type)&&!t.isRemote&&this.addToQueue(t.id)});T(this,"onCancelRequest",t=>{const r=this.queue.indexOf(t.id);r!==-1&&this.queue.splice(r,1)});T(this,"onFileRemoved",t=>{const r=this.queue.indexOf(t.id);r!==-1&&this.queue.splice(r,1),t.preview&&Fu(t.preview)&&URL.revokeObjectURL(t.preview)});T(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||Fu(r.preview))&&this.addToQueue(r.id)})});T(this,"onAllFilesRemoved",()=>{this.queue=[]});T(this,"waitUntilAllProcessed",t=>{t.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{t.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=X2,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(t,r,i){const a=URL.createObjectURL(t.data),o=new Promise((c,u)=>{const d=new Image;d.src=a,d.addEventListener("load",()=>{URL.revokeObjectURL(a),c(d)}),d.addEventListener("error",h=>{URL.revokeObjectURL(a),u(h.error||new Error("Could not create thumbnail"))})}),l=H2(t.data).catch(()=>1);return Promise.all([o,l]).then(([c,u])=>{const d=this.getProportionalDimensions(c,r,i,u.deg),h=J2(c,u),f=this.resizeImage(h,d.width,d.height);return Y2(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(t,r,i,a){let o=t.width/t.height;return(a===90||a===270)&&(o=t.height/t.width),r!=null?{width:r,height:Math.round(r/o)}:i!=null?{width:Math.round(i*o),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(t,r,i){let a=e_(t),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const u=2;for(;o--;){const d=document.createElement("canvas");d.width=l,d.height=c,d.getContext("2d").drawImage(a,0,0,l,c),a=d,l=Math.round(l/u),c=Math.round(c/u)}return a}setPreviewURL(t,r){this.uppy.setFileState(t,{preview:r})}addToQueue(t){this.queue.push(t),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(t){return Ru(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(t.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${t.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(t.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${t.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(t.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}T(Dm,"VERSION",Q2.version);function qu(s){if(typeof s=="string"){const e=document.querySelectorAll(s);return e.length===0?null:Array.from(e)}return typeof s=="object"&&qf(s)?[s]:null}const Zi=Array.from;function s_(s){const e=Zi(s.files);return Promise.resolve(e)}function Um(s,e,t,{onSuccess:r}){s.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{Um(s,a,t,{onSuccess:r})}):r(a)},i=>{t(i),r(e)})}function $m(s,e){return s==null?s:{kind:s.isFile?"file":s.isDirectory?"directory":void 0,name:s.name,getFile(){return new Promise((t,r)=>s.file(t,r))},async*values(){const t=s.createReader();yield*await new Promise(i=>{Um(t,[],e,{onSuccess:a=>i(a.map(o=>$m(o,e)))})})},isSameEntry:void 0}}async function*Bm(s,e,t=void 0){const r=()=>`${e}/${s.name}`;if(s.kind==="file"){const i=await s.getFile();i!=null?(i.relativePath=e?r():null,yield i):t!=null&&(yield t)}else if(s.kind==="directory")for await(const i of s.values())yield*Bm(i,e?r():s.name);else t!=null&&(yield t)}async function*r_(s,e){const t=await Promise.all(Array.from(s.items,async r=>{let i;return i??(i=$m(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of t)if(i!=null)try{yield*Bm(i,"",r)}catch(a){r!=null?yield r:e(a)}else r!=null&&(yield r)}async function i_(s,e){const t=(e==null?void 0:e.logDropError)??Function.prototype;try{const r=[];for await(const i of r_(s,t))r.push(i);return r}catch{return s_(s)}}const a_="4.4.3",n_={version:a_};function o_(){const s=document.body;return!(!("draggable"in s)||!("ondragstart"in s&&"ondrop"in s)||!("FormData"in window)||!("FileReader"in window))}class zm extends rt{constructor(){super(...arguments);T(this,"fileInput",null);T(this,"folderInput",null);T(this,"mobilePhotoFileInput",null);T(this,"mobileVideoFileInput",null);T(this,"triggerFileInputClick",()=>{var t;(t=this.fileInput)==null||t.click()});T(this,"triggerFolderInputClick",()=>{var t;(t=this.folderInput)==null||t.click()});T(this,"triggerVideoCameraInputClick",()=>{var t;(t=this.mobileVideoFileInput)==null||t.click()});T(this,"triggerPhotoCameraInputClick",()=>{var t;(t=this.mobilePhotoFileInput)==null||t.click()});T(this,"onFileInputChange",t=>{this.props.handleInputChange(t),t.currentTarget.value=""});T(this,"renderHiddenInput",(t,r)=>{var i;return g("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});T(this,"renderHiddenCameraInput",(t,r,i)=>{const o={photo:"image/*",video:"video/*"}[t];return g("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${t}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});T(this,"renderMyDeviceAcquirer",()=>g("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[g("div",{className:"uppy-DashboardTab-inner",children:g("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:g("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),g("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));T(this,"renderPhotoCamera",()=>g("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[g("div",{className:"uppy-DashboardTab-inner",children:g("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:g("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),g("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));T(this,"renderVideoCamera",()=>g("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[g("div",{className:"uppy-DashboardTab-inner",children:g("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:g("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),g("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));T(this,"renderBrowseButton",(t,r)=>{const i=this.props.acquirers.length;return g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:t})});T(this,"renderDropPasteBrowseTagline",t=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return g("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):t>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});T(this,"renderAcquirer",t=>{var r;return g("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id,children:g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":`uppy-DashboardContent-panel--${t.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===t.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(t.id),children:[g("div",{className:"uppy-DashboardTab-inner",children:t.icon()}),g("div",{className:"uppy-DashboardTab-name",children:t.name})]})})});T(this,"renderAcquirers",t=>{const r=[...t],i=r.splice(t.length-2,t.length);return g(Ot,{children:[r.map(a=>this.renderAcquirer(a)),g("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});T(this,"renderSourcesList",(t,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...t.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const u=[...o],d=u.splice(o.length-2,o.length);return g(Ot,{children:[this.renderDropPasteBrowseTagline(o.length),g("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[u.map(({key:h,elements:f})=>g(Ot,{children:f},h)),g("span",{role:"presentation",style:{"white-space":"nowrap"},children:d.map(({key:h,elements:f})=>g(Ot,{children:f},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:t}=this.props,r=g("span",{children:[g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:g("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),g("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=t("poweredBy",{uppy:r});return g("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:t,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return g("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),t&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),g("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&g("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const l_=s=>g("div",{className:Mt("uppy-Dashboard-AddFilesPanel",s.className),"data-uppy-panelType":"AddFiles","aria-hidden":!s.showAddFilesPanel,children:[g("div",{className:"uppy-DashboardContent-bar",children:[g("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:s.i18n("addingMoreFiles")}),g("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>s.toggleAddFilesPanel(!1),children:s.i18n("back")})]}),g(zm,{...s})]});function c_(s){const e=s.files[s.fileCardFor],t=()=>{s.uppy.emit("file-editor:cancel",e),s.closeFileEditor()};return g("div",{className:Mt("uppy-DashboardContent-panel",s.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[g("div",{className:"uppy-DashboardContent-bar",children:[g("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:s.i18nArray("editing",{file:g("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),g("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t,children:s.i18n("cancel")}),g("button",{className:"uppy-DashboardContent-save",type:"button",onClick:s.saveFileEditor,children:s.i18n("save")})]}),g("div",{className:"uppy-DashboardContent-panelBody",children:s.editors.map(r=>s.uppy.getPlugin(r.id).render(s.state))})]})}function d_(){return g("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:g("g",{fill:"#686DE0",fillRule:"evenodd",children:[g("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),g("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),g("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function u_(){return g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:g("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function h_(){return g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:g("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function p_(){return g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:g("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function f_(){return g("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:g("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function m_(){return g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:g("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[g("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),g("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function g_(){return g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:g("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function Ac(s){const e={color:"#838999",icon:m_()};if(!s)return e;const t=s.split("/")[0],r=s.split("/")[1];return t==="text"?{color:"#5a5e69",icon:g_()}:t==="image"?{color:"#686de0",icon:d_()}:t==="audio"?{color:"#068dbb",icon:u_()}:t==="video"?{color:"#19af67",icon:h_()}:t==="application"&&r==="pdf"?{color:"#e25149",icon:p_()}:t==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:f_()}:e}function Rs(s){const{tagName:e}=s.target;if(e==="INPUT"||e==="TEXTAREA"){s.stopPropagation();return}s.preventDefault(),s.stopPropagation()}function Vm(s){const{file:e}=s;if(e.preview)return g("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:t,icon:r}=Ac(e.type);return g("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[g("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:t},children:r}),g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:g("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function b_(s){const{computedMetaFields:e,requiredMetaFields:t,updateMeta:r,form:i,formState:a}=s,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,u=t.includes(l.id);return g("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[g("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:d=>r(d,l.id),fieldCSSClasses:o,required:u,form:i.id},na):g("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:u,value:a[l.id],placeholder:l.placeholder,onInput:d=>r(d.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function y_(s){const{files:e,fileCardFor:t,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:u,className:d,canEditFile:h}=s,f=()=>typeof a=="function"?a(e[t]):a,m=e[t],x=f()??[],v=h(m),y={};x.forEach(O=>{y[O.id]=m.meta[O.id]??""});const[_,N]=Pn(y),j=s1(O=>{O.preventDefault(),i(_,t)},[i,_,t]),k=(O,W)=>{N({..._,[W]:O})},F=()=>{r(!1)},[R]=Pn(()=>{const O=document.createElement("form");return O.setAttribute("tabindex","-1"),O.id=Nc(),O});return xl(()=>(document.body.appendChild(R),R.addEventListener("submit",j),()=>{R.removeEventListener("submit",j),document.body.removeChild(R)}),[R,j]),g("div",{className:Mt("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:Rs,onDragLeave:Rs,onDrop:Rs,onPaste:Rs,children:[g("div",{className:"uppy-DashboardContent-bar",children:[g("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:u("editing",{file:g("span",{className:"uppy-DashboardContent-titleFile",children:m.meta?m.meta.name:m.name})})}),g("button",{className:"uppy-DashboardContent-back",type:"button",form:R.id,title:c("finishEditingFile"),onClick:F,children:c("cancel")})]}),g("div",{className:"uppy-Dashboard-FileCard-inner",children:[g("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Ac(m.type).color},children:[g(Vm,{file:m}),v&&g("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:O=>{j(O),l(m)},children:c("editImage")})]}),g("div",{className:"uppy-Dashboard-FileCard-info",children:g(b_,{computedMetaFields:x,requiredMetaFields:o,updateMeta:k,form:R,formState:_})}),g("div",{className:"uppy-Dashboard-FileCard-actions",children:[g("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:R.id,children:c("saveChanges")}),g("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:F,form:R.id,children:c("cancel")})]})]})]})}function x_(s,e){if(s===e)return!0;if(!s||!e)return!1;const t=Object.keys(s),r=Object.keys(e),i=t.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=t[a];if(s[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function v_(s,e="Copy the URL below"){return new Promise(t=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=s,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,s),t()};try{return document.execCommand("copy")?(document.body.removeChild(r),t()):i()}catch{return document.body.removeChild(r),i()}})}function w_({file:s,uploadInProgressOrComplete:e,metaFields:t,canEditFile:r,i18n:i,onClick:a}){return!e&&t&&t.length>0||!e&&r(s)?g("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:s.meta.name}),title:i("editFileWithFilename",{file:s.meta.name}),onClick:()=>a(),children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:g("g",{fillRule:"evenodd",children:[g("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),g("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),g("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function __({i18n:s,onClick:e,file:t}){return g("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":s("removeFile",{file:t.meta.name}),title:s("removeFile",{file:t.meta.name}),onClick:()=>e(),children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[g("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),g("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function j_({file:s,uppy:e,i18n:t}){const r=i=>{v_(s.uploadURL,t("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(t("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return g("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:i=>r(i),children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:g("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function N_(s){const{uppy:e,file:t,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:u,openFileEditor:d}=s;return g("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[g(w_,{i18n:c,file:t,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?u(!0,t.id):d(t)}}),o&&t.uploadURL?g(j_,{file:t,uppy:e,i18n:c}):null,l?g(__,{i18n:c,file:t,onClick:()=>e.removeFile(t.id)}):null]})}const Mo="...";function qm(s,e){if(e===0)return"";if(s.length<=e)return s;if(e<=Mo.length+1)return`${s.slice(0,e-1)}…`;const t=e-Mo.length,r=Math.ceil(t/2),i=Math.floor(t/2);return s.slice(0,r)+Mo+s.slice(-i)}const k_=(s,e)=>(typeof e=="function"?e():e).filter(i=>i.id===s)[0].name;function Hm(s){const{file:e,toggleFileCard:t,i18n:r,metaFields:i}=s,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>k_(l,i)).join(", ");return g("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",g("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>t(!0,e.id),children:r("editFile")})]})}const S_=s=>{const{author:e,name:t}=s.file.meta;function r(){return s.isSingleFile&&s.containerHeight>=350?90:s.containerWidth<=352?35:s.containerWidth<=576?60:e?20:30}return g("div",{className:"uppy-Dashboard-Item-name",title:t,children:qm(t,r())})},C_=s=>{var i;const{author:e}=s.file.meta,t=(i=s.file.remote)==null?void 0:i.providerName,r="·";return e?g("div",{className:"uppy-Dashboard-Item-author",children:[g("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:qm(e.name,13)}),t?g(Ot,{children:[` ${r} `,t,` ${r} `]}):null]}):null},T_=s=>s.file.size&&g("div",{className:"uppy-Dashboard-Item-statusSize",children:Js(s.file.size)}),E_=s=>s.file.isGhost&&g("span",{children:[" • ",g("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>s.toggleAddFilesPanel(!0),children:s.i18n("reSelect")})]}),A_=({file:s,onClick:e})=>s.error?g("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":s.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function P_(s){const{file:e,i18n:t,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=s;return g("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[g("div",{className:"uppy-Dashboard-Item-fileName",children:[S_({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),g(A_,{file:e,onClick:()=>alert(e.error)})]}),g("div",{className:"uppy-Dashboard-Item-status",children:[C_({file:e}),T_({file:e}),E_({file:e,toggleAddFilesPanel:a,i18n:t})]}),g(Hm,{file:e,i18n:t,toggleFileCard:r,metaFields:i})]})}function F_(s){const{file:e,i18n:t,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=s,l=e.preview?"rgba(255, 255, 255, 0.5)":Ac(e.type).color;return g("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&g("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:g("span",{hidden:!0,children:e.meta.name})}),g(Vm,{file:e}),g(Hm,{file:e,i18n:t,toggleFileCard:r,metaFields:i})]})}function R_(s){if(!s.isUploaded){if(s.error&&!s.hideRetryButton){s.uppy.retryUpload(s.file.id);return}s.resumableUploads&&!s.hidePauseResumeButton?s.uppy.pauseResume(s.file.id):s.individualCancellation&&!s.hideCancelButton&&s.uppy.removeFile(s.file.id)}}function Hu(s){return s.isUploaded?s.i18n("uploadComplete"):s.error?s.i18n("retryUpload"):s.resumableUploads?s.file.isPaused?s.i18n("resumeUpload"):s.i18n("pauseUpload"):s.individualCancellation?s.i18n("cancelUpload"):""}function Io(s){return g("div",{className:"uppy-Dashboard-Item-progress",children:g("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Hu(s),title:Hu(s),onClick:()=>R_(s),children:s.children})})}function nn({children:s}){return g("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:s})}function Lo({progress:s}){const e=2*Math.PI*15;return g("g",{children:[g("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),g("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*s})]})}function O_(s){return!s.file.progress.uploadStarted||s.file.progress.percentage===void 0?null:s.isUploaded?g("div",{className:"uppy-Dashboard-Item-progress",children:g("div",{className:"uppy-Dashboard-Item-progressIndicator",children:g(nn,{children:[g("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),g("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):s.recoveredState?null:s.error&&!s.hideRetryButton?g(Io,{...s,children:g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[g("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),g("path",{d:"M7.9 3H10v2H7.9z"}),g("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),g("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):s.resumableUploads&&!s.hidePauseResumeButton?g(Io,{...s,children:g(nn,{children:[g(Lo,{progress:s.file.progress.percentage}),s.file.isPaused?g("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):g("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[g("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),g("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!s.resumableUploads&&s.individualCancellation&&!s.hideCancelButton?g(Io,{...s,children:g(nn,{children:[g(Lo,{progress:s.file.progress.percentage}),g("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):g("div",{className:"uppy-Dashboard-Item-progress",children:g("div",{className:"uppy-Dashboard-Item-progressIndicator",children:g(nn,{children:g(Lo,{progress:s.file.progress.percentage})})})})}class M_ extends rt{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!x_(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,r=!!e.progress.uploadComplete&&!t&&!e.error,i=!!e.progress.uploadStarted||!!t,a=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const u=Mt({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":t,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return g("div",{className:u,id:`uppy_${e.id}`,role:this.props.role,children:[g("div",{className:"uppy-Dashboard-Item-preview",children:[g(F_,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),g(O_,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),g("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[g(P_,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),g(N_,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function I_(s,e){const t=[];let r=[];return s.forEach(i=>{r.length<e?r.push(i):(t.push(r),r=[i])}),r.length&&t.push(r),t}function L_({id:s,i18n:e,uppy:t,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:d,isSingleFile:h,toggleFileCard:f,handleRequestThumbnail:m,handleCancelThumbnail:x,recoveredState:v,individualCancellation:y,itemsPerRow:_,openFileEditor:N,canEditFile:j,toggleAddFilesPanel:k,containerWidth:F,containerHeight:R}){const O=_===1?71:200,W=_c(()=>{const G=(I,te)=>Number(r[te].isGhost)-Number(r[I].isGhost),Q=Object.keys(r);return v&&Q.sort(G),I_(Q,_)},[r,_,v]),L=G=>g("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:G.map(Q=>g(M_,{uppy:t,id:s,i18n:e,resumableUploads:i,individualCancellation:y,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:d,recoveredState:v,isSingleFile:h,containerWidth:F,containerHeight:R,toggleFileCard:f,handleRequestThumbnail:m,handleCancelThumbnail:x,role:"listitem",openFileEditor:N,canEditFile:j,toggleAddFilesPanel:k,file:r[Q]},Q))},G[0]);return h?g("div",{class:"uppy-Dashboard-files",children:L(W[0])}):g(r2,{class:"uppy-Dashboard-files",role:"list",data:W,renderRow:L,rowHeight:O})}function D_({activePickerPanel:s,className:e,hideAllPanels:t,i18n:r,state:i,uppy:a}){const o=fn(null);return g("div",{className:Mt("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${s.id}`,onDragOver:Rs,onDragLeave:Rs,onDrop:Rs,onPaste:Rs,children:[g("div",{className:"uppy-DashboardContent-bar",children:[g("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:s.name})}),g("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t,children:r("cancel")})]}),g("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(s.id).render(i,o.current)})]})}const Lt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function U_(s,e,t,r={}){if(s)return Lt.STATE_ERROR;if(e)return Lt.STATE_COMPLETE;if(t)return Lt.STATE_PAUSED;let i=Lt.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return Lt.STATE_UPLOADING;l.preprocess&&i!==Lt.STATE_UPLOADING&&(i=Lt.STATE_PREPROCESSING),l.postprocess&&i!==Lt.STATE_UPLOADING&&i!==Lt.STATE_PREPROCESSING&&(i=Lt.STATE_POSTPROCESSING)}return i}function $_({files:s,i18n:e,isAllComplete:t,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(U_(r,t,i,s)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function B_(s){const{i18n:e,isAllComplete:t,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=s;let{allowNewUpload:l}=s;return l&&i&&(l=s.totalFileCount<s.maxNumberOfFiles),g("div",{className:"uppy-DashboardContent-bar",children:[!t&&!r?g("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):g("div",{}),g("div",{className:"uppy-DashboardContent-title",children:g($_,{...s})}),l?g("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[g("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:g("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),g("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):g("div",{})]})}const Cr="uppy-transition-slideDownUp",Wu=250;function on({children:s}){const[e,t]=Pn(null),[r,i]=Pn(""),a=fn(),o=fn(),l=fn(),c=()=>{i(`${Cr}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Cr}-enter ${Cr}-enter-active`),a.current=setTimeout(()=>{i("")},Wu)})},u=()=>{i(`${Cr}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Cr}-leave ${Cr}-leave-active`),o.current=setTimeout(()=>{t(null),i("")},Wu)})};return xl(()=>{const d=Et(s)[0];e!==d&&(d&&!e?c():e&&!d&&!o.current&&u(),t(d))},[s,e]),xl(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?rm(e,{className:Mt(r,e.props.className)}):null}const Gu=900,Ku=700,Do=576,Zu=330;function z_(s){const e=s.totalFileCount===0,t=s.totalFileCount===1,r=s.containerWidth>Do,i=s.containerHeight>Zu,a=Mt({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":s.disabled,"uppy-Dashboard--animateOpenClose":s.animateOpenClose,"uppy-Dashboard--isClosing":s.isClosing,"uppy-Dashboard--isDraggingOver":s.isDraggingOver,"uppy-Dashboard--modal":!s.inline,"uppy-size--md":s.containerWidth>Do,"uppy-size--lg":s.containerWidth>Ku,"uppy-size--xl":s.containerWidth>Gu,"uppy-size--height-md":s.containerHeight>Zu,"uppy-Dashboard--isAddFilesPanelVisible":s.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":s.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":s.singleFileFullScreen&&t&&i});let o=1;s.containerWidth>Gu?o=5:s.containerWidth>Ku?o=4:s.containerWidth>Do&&(o=3);const l=s.showSelectedFiles&&!e,c=s.recoveredState?Object.keys(s.recoveredState.files).length:null,u=s.files?Object.keys(s.files).filter(f=>s.files[f].isGhost).length:0,d=()=>u>0?s.i18n("recoveredXFiles",{smart_count:u}):s.i18n("recoveredAllFiles");return g("div",{className:a,"data-uppy-theme":s.theme,"data-uppy-num-acquirers":s.acquirers.length,"data-uppy-drag-drop-supported":!s.disableLocalFiles&&o_(),"aria-hidden":s.inline?"false":s.isHidden,"aria-disabled":s.disabled,"aria-label":s.inline?s.i18n("dashboardTitle"):s.i18n("dashboardWindowTitle"),onPaste:s.handlePaste,onDragOver:s.handleDragOver,onDragLeave:s.handleDragLeave,onDrop:s.handleDrop,children:[g("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:s.handleClickOutside}),g("div",{className:"uppy-Dashboard-inner",role:s.inline?void 0:"dialog",style:{width:s.inline&&s.width?s.width:"",height:s.inline&&s.height?s.height:""},children:[s.inline?null:g("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":s.i18n("closeModal"),title:s.i18n("closeModal"),onClick:s.closeModal,children:g("span",{"aria-hidden":"true",children:"×"})}),g("div",{className:"uppy-Dashboard-innerWrap",children:[g("div",{className:"uppy-Dashboard-dropFilesHereHint",children:s.i18n("dropHint")}),l&&g(B_,{...s}),c&&g("div",{className:"uppy-Dashboard-serviceMsg",children:[g("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:g("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[g("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),g("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),g("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),g("strong",{className:"uppy-Dashboard-serviceMsg-title",children:s.i18n("sessionRestored")}),g("div",{className:"uppy-Dashboard-serviceMsg-text",children:d()})]}),l?g(L_,{id:s.id,i18n:s.i18n,uppy:s.uppy,files:s.files,resumableUploads:s.resumableUploads,hideRetryButton:s.hideRetryButton,hidePauseResumeButton:s.hidePauseResumeButton,hideCancelButton:s.hideCancelButton,showLinkToFileUploadResult:s.showLinkToFileUploadResult,showRemoveButtonAfterComplete:s.showRemoveButtonAfterComplete,metaFields:s.metaFields,toggleFileCard:s.toggleFileCard,handleRequestThumbnail:s.handleRequestThumbnail,handleCancelThumbnail:s.handleCancelThumbnail,recoveredState:s.recoveredState,individualCancellation:s.individualCancellation,openFileEditor:s.openFileEditor,canEditFile:s.canEditFile,toggleAddFilesPanel:s.toggleAddFilesPanel,isSingleFile:t,itemsPerRow:o,containerWidth:s.containerWidth,containerHeight:s.containerHeight}):g(zm,{i18n:s.i18n,i18nArray:s.i18nArray,acquirers:s.acquirers,handleInputChange:s.handleInputChange,maxNumberOfFiles:s.maxNumberOfFiles,allowedFileTypes:s.allowedFileTypes,showNativePhotoCameraButton:s.showNativePhotoCameraButton,showNativeVideoCameraButton:s.showNativeVideoCameraButton,nativeCameraFacingMode:s.nativeCameraFacingMode,showPanel:s.showPanel,activePickerPanel:s.activePickerPanel,disableLocalFiles:s.disableLocalFiles,fileManagerSelectionType:s.fileManagerSelectionType,note:s.note,proudlyDisplayPoweredByUppy:s.proudlyDisplayPoweredByUppy}),g(on,{children:s.showAddFilesPanel?g(l_,{...s,isSizeMD:r},"AddFiles"):null}),g(on,{children:s.fileCardFor?g(y_,{...s},"FileCard"):null}),g(on,{children:s.activePickerPanel?g(D_,{...s},"Picker"):null}),g(on,{children:s.showFileEditor?g(c_,{...s},"Editor"):null}),g("div",{className:"uppy-Dashboard-progressindicators",children:s.progressindicators.map(f=>s.uppy.getPlugin(f.id).render(s.state))})]})]})]})}const V_={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},Wm=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Gm(s,e){if(e){const t=s.querySelector(`[data-uppy-paneltype="${e}"]`);if(t)return t}return s}function q_(){let s=!1;return _w((t,r)=>{const i=Gm(t,r),a=i.contains(document.activeElement);if(a&&s)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),s=!0;else{const l=i.querySelector(Wm);l==null||l.focus({preventScroll:!0}),s=!1}},260)}function Qu(s,e){const t=e[0];t&&(t.focus(),s.preventDefault())}function H_(s,e){const t=e[e.length-1];t&&(t.focus(),s.preventDefault())}function W_(s){return s.contains(document.activeElement)}function Km(s,e,t){const r=Gm(t,e),i=Zi(r.querySelectorAll(Wm)),a=i.indexOf(document.activeElement);W_(r)?s.shiftKey&&a===0?H_(s,i):!s.shiftKey&&a===i.length-1&&Qu(s,i):Qu(s,i)}function G_(s,e,t){e===null||Km(s,e,t)}const Xu=9,K_=27;function Yu(){const s={};return s.promise=new Promise((e,t)=>{s.resolve=e,s.reject=t}),s}const Z_={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:i2,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Bo,Yr,hr,va,Jr,$n,Bn,zn,pr,Vn,qn,ei,ze,Ol,Ml,Zm,Il,Ll,Qm;let Q_=(Bo=class extends _i{constructor(t,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(t,{...Z_,...r,autoOpen:i});C(this,ze);C(this,Yr);T(this,"modalName",`uppy-Dashboard-${Nc()}`);T(this,"superFocus",q_());T(this,"ifFocusedOnUppyRecently",!1);T(this,"dashboardIsDisabled");T(this,"savedScrollPosition");T(this,"savedActiveElement");T(this,"resizeObserver");T(this,"darkModeMediaQuery");T(this,"makeDashboardInsidesVisibleAnywayTimeout");T(this,"removeTarget",t=>{const i=this.getPluginState().targets.filter(a=>a.id!==t.id);this.setPluginState({targets:i})});T(this,"addTarget",t=>{const r=t.id||t.constructor.name,i=t.title||r,a=t.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});T(this,"hideAllPanels",()=>{var i;const t=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};t.activePickerPanel===r.activePickerPanel&&t.showAddFilesPanel===r.showAddFilesPanel&&t.showFileEditor===r.showFileEditor&&t.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=t.activePickerPanel)==null?void 0:i.id))});T(this,"showPanel",t=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===t);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",t)});T(this,"canEditFile",t=>{const{targets:r}=this.getPluginState();return p(this,pr).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(t))});T(this,"openFileEditor",t=>{const{targets:r}=this.getPluginState(),i=p(this,pr).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:t.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(t)})});T(this,"closeFileEditor",()=>{const{metaFields:t}=this.getPluginState();t&&t.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});T(this,"saveFileEditor",()=>{const{targets:t}=this.getPluginState();p(this,pr).call(this,t).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});T(this,"openModal",()=>{const{promise:t,resolve:r}=Yu();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),t});T(this,"closeModal",t=>{var c;const r=(t==null?void 0:t.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=Yu();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const u=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",u,!1),l()};this.el.addEventListener("animationend",u,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});T(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);T(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());T(this,"setDarkModeCapability",t=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:t}})});T(this,"handleSystemDarkModeChange",t=>{const r=t.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});T(this,"toggleFileCard",(t,r)=>{const i=this.uppy.getFile(r);t?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:t?r:null,activeOverlayType:t?"FileCard":null})});T(this,"toggleAddFilesPanel",t=>{this.setPluginState({showAddFilesPanel:t,activeOverlayType:t?"AddFiles":null})});T(this,"addFiles",t=>{const r=t.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});T(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(t=>{const r=t[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const t=this.getPluginState(),r=!this.opts.inline&&t.isHidden;!t.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});T(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});T(this,"recordIfFocusedOnUppyRecently",t=>{this.el.contains(t.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});T(this,"disableInteractiveElements",t=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=p(this,Yr)??Zi(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",t):a.disabled=t;t?E(this,Yr,i):E(this,Yr,null),this.dashboardIsDisabled=t});T(this,"updateBrowserHistory",()=>{var t;(t=history.state)!=null&&t[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});T(this,"handlePopState",t=>{var r;this.isModalOpen()&&(!t.state||!t.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=t.state)!=null&&r[this.modalName])&&history.back()});T(this,"handleKeyDownInModal",t=>{t.keyCode===K_&&this.requestCloseModal(),t.keyCode===Xu&&Km(t,this.getPluginState().activeOverlayType,this.el)});T(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});T(this,"handlePaste",t=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,t))});const r=Zi(t.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});T(this,"handleInputChange",t=>{t.preventDefault();const r=Zi(t.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});T(this,"handleDragOver",t=>{t.preventDefault(),t.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var u;(u=c.canHandleRootDrop)!=null&&u.call(c,t)&&(l=!0)}),l},i=()=>{const{types:l}=t.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){t.dataTransfer.dropEffect="none";return}t.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(t)});T(this,"handleDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(t)});T(this,"handleDrop",async t=>{t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,t))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await i_(t.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(t)});T(this,"handleRequestThumbnail",t=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",t)});T(this,"handleCancelThumbnail",t=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",t)});T(this,"handleKeyDownInInline",t=>{t.keyCode===Xu&&G_(t,this.getPluginState().activeOverlayType,this.el)});T(this,"handlePasteOnBody",t=>{this.el.contains(document.activeElement)&&this.handlePaste(t)});T(this,"handleComplete",({failed:t})=>{this.opts.closeAfterFinish&&!(t!=null&&t.length)&&this.requestCloseModal()});T(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});C(this,hr,()=>{if(this.opts.disableThumbnailGenerator)return;const t=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:t});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});C(this,va,t=>{const r=t[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});T(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const t=qu(this.opts.trigger);t?t.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",p(this,ei)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",p(this,hr)),this.uppy.on("file-removed",p(this,hr)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",p(this,va))});T(this,"removeEvents",()=>{const t=qu(this.opts.trigger);!this.opts.inline&&t&&t.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",p(this,ei)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",p(this,hr)),this.uppy.off("file-removed",p(this,hr)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",p(this,va))});T(this,"superFocusOnEachUpdate",()=>{const t=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||t||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});T(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});T(this,"saveFileCard",(t,r)=>{this.uppy.setFileMeta(r,t),this.toggleFileCard(!1,r)});C(this,Jr,t=>{const r=this.uppy.getPlugin(t.id);return{...t,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});C(this,$n,t=>{const r=this.uppy.getPlugin(t.id);return typeof r.isSupported!="function"?!0:r.isSupported()});C(this,Bn,t=>t.filter(r=>r.type==="acquirer"&&p(this,$n).call(this,r)).map(p(this,Jr)));C(this,zn,t=>t.filter(r=>r.type==="progressindicator").map(p(this,Jr)));C(this,pr,t=>t.filter(r=>r.type==="editor").map(p(this,Jr)));T(this,"render",t=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=t,{newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:x,isAllComplete:v,isAllPaused:y}=this.uppy.getObjectOfFilesPerState(),_=p(this,Bn).call(this,r.targets),N=p(this,zn).call(this,r.targets),j=p(this,pr).call(this,r.targets);let k;return this.opts.theme==="auto"?k=a.darkMode?"dark":"light":k=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),z_({state:t,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:x,isAllComplete:v,isAllPaused:y,totalFileCount:Object.keys(i).length,totalProgress:t.totalProgress,allowNewUpload:o,acquirers:_,theme:k,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:N,editors:j,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:t.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});C(this,Vn,()=>{const{plugins:t}=this.opts;t.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});C(this,qn,()=>{this.uppy.iteratePlugins(p(this,ei))});C(this,ei,t=>{var i;const r=["acquirer","editor"];t&&!((i=t.opts)!=null&&i.target)&&r.includes(t.type)&&(this.getPluginState().targets.some(o=>t.id===o.id)||t.mount(this,t))});T(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:t,closeAfterFinish:r}=this.opts;if(t&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(T2,{id:A(this,ze,Il).call(this),target:this,...A(this,ze,Ol).call(this)}),this.opts.disableInformer||this.uppy.use(km,{id:A(this,ze,Qm).call(this),target:this,...A(this,ze,Zm).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(Dm,{id:A(this,ze,Ll).call(this),...A(this,ze,Ml).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),p(this,Vn).call(this),p(this,qn).call(this),this.initEvents()});T(this,"uninstall",()=>{var r;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:t}=this.opts;t.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=V_,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(t){var r,i;super.setOptions(t),(r=this.uppy.getPlugin(A(this,ze,Il).call(this)))==null||r.setOptions(A(this,ze,Ol).call(this)),(i=this.uppy.getPlugin(A(this,ze,Ll).call(this)))==null||i.setOptions(A(this,ze,Ml).call(this))}},Yr=new WeakMap,hr=new WeakMap,va=new WeakMap,Jr=new WeakMap,$n=new WeakMap,Bn=new WeakMap,zn=new WeakMap,pr=new WeakMap,Vn=new WeakMap,qn=new WeakMap,ei=new WeakMap,ze=new WeakSet,Ol=function(){const{hideUploadButton:t,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:u}=this.opts;return{hideUploadButton:t,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:u}},Ml=function(){const{thumbnailWidth:t,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:t,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},Zm=function(){return{}},Il=function(){return`${this.id}:StatusBar`},Ll=function(){return`${this.id}:ThumbnailGenerator`},Qm=function(){return`${this.id}:Informer`},T(Bo,"VERSION",n_.version),Bo);const X_=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Y_=/^(aria-|data-)/,Xm=s=>Object.fromEntries(Object.entries(s).filter(([e])=>Y_.test(e)||X_.includes(e)));function J_(s,e){const t=Xm(s);return Object.keys(s).some(r=>!Object.hasOwn(t,r)&&s[r]!==e[r])}class Ym extends b.Component{constructor(){super(...arguments);T(this,"container");T(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(t){const{uppy:r,open:i,onRequestClose:a}=this.props;if(t.uppy!==r)this.uninstallPlugin(t),this.installPlugin();else if(J_(this.props,t)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}t.open&&!i?this.plugin.closeModal():!t.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:t=this.container,open:r,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:t,open:r,onRequestCloseModal:i};a.use(Q_,l),this.plugin=a.getPlugin(l.id),r&&this.plugin.openModal()}uninstallPlugin(t=this.props){const{uppy:r}=t;r.removePlugin(this.plugin)}render(){return b.createElement("div",{className:"uppy-Container",ref:t=>{this.container=t},...Xm(this.props)})}}T(Ym,"defaultProps",{open:void 0,onRequestClose:void 0});b.createContext({uppy:void 0,status:"init",progress:0});var ej={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=b;function tj(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var sj=typeof Object.is=="function"?Object.is:tj,rj=Va.useSyncExternalStore,ij=Va.useRef,aj=Va.useEffect,nj=Va.useMemo,oj=Va.useDebugValue;ej.useSyncExternalStoreWithSelector=function(s,e,t,r,i){var a=ij(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=nj(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var x=o.value;if(i(x,m))return h=x}return h=m}if(x=h,sj(d,m))return x;var v=r(m);return i!==void 0&&i(x,v)?(d=m,x):(d=m,h=v)}var u=!1,d,h,f=t===void 0?null:t;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,t,r,i]);var l=rj(s,a[0],a[1]);return aj(function(){o.hasValue=!0,o.value=l},[l]),oj(l),l};function Jm(s,e){return Object.hasOwn(s,e)}class lj extends Error{constructor(t,r){super(t);T(this,"isNetworkError");T(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&Jm(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class cj extends Error{constructor(t,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");T(this,"cause");T(this,"isNetworkError");T(this,"request");this.cause=t,this.isNetworkError=!0,this.request=r}}function dj(...s){return fetch(...s).catch(e=>{throw e.name==="AbortError"?e:new cj(e)})}function uj(s){var i;const t=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(s))==null?void 0:i[1];return`${/^http:\/\//i.test(s)?"ws":"wss"}://${t}`}class hj extends Error{constructor(){super(...arguments);T(this,"name","UserFacingApiError")}}var eg={};function ft(s,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(s)),this._timeouts=s,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var pj=ft;ft.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ft.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ft.prototype.retry=function(s){if(this._timeout&&clearTimeout(this._timeout),!s)return!1;var e=new Date().getTime();if(s&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(s),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(s);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},t),this._options.unref&&this._timer.unref(),!0};ft.prototype.attempt=function(s,e){this._fn=s,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ft.prototype.try=function(s){console.log("Using RetryOperation.try() is deprecated"),this.attempt(s)};ft.prototype.start=function(s){console.log("Using RetryOperation.start() is deprecated"),this.attempt(s)};ft.prototype.start=ft.prototype.try;ft.prototype.errors=function(){return this._errors};ft.prototype.attempts=function(){return this._attempts};ft.prototype.mainError=function(){if(this._errors.length===0)return null;for(var s={},e=null,t=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(s[a]||0)+1;s[a]=o,o>=t&&(e=i,t=o)}return e};(function(s){var e=pj;s.operation=function(t){var r=s.timeouts(t);return new e(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},s.timeouts=function(t){if(t instanceof Array)return[].concat(t);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in t)r[i]=t[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return t&&t.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},s.createTimeout=function(t,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,t));return a=Math.min(a,r.maxTimeout),a},s.wrap=function(t,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in t)typeof t[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=t[l];t[l]=(function(d){var h=s.operation(r),f=Array.prototype.slice.call(arguments,1),m=f.pop();f.push(function(x){h.retry(x)||(x&&(arguments[0]=h.mainError()),m.apply(this,arguments))}),h.attempt(function(){d.apply(t,f)})}).bind(t,c),t[l].options=r}}})(eg);var fj=eg;const mj=Nr(fj),gj=Object.prototype.toString,bj=s=>gj.call(s)==="[object Error]",yj=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function xj(s){return s&&bj(s)&&s.name==="TypeError"&&typeof s.message=="string"?s.message==="Load failed"?s.stack===void 0:yj.has(s.message):!1}class Dl extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Ju=(s,e,t)=>{const r=t.retries-(e-1);return s.attemptNumber=e,s.retriesLeft=r,s};async function eh(s,e){return new Promise((t,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=mj.operation(e),a=()=>{var l;i.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await s(l);o(),t(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Dl)throw c.originalError;if(c instanceof TypeError&&!xj(c))throw c;if(Ju(c,l,e),await e.shouldRetry(c)||(i.stop(),r(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(u){Ju(u,l,e),o(),r(u)}}})})}const vj="4.5.2",wj={version:vj};class _j extends Error{constructor(){super("Authorization required");T(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function jj(s){return s.replace(/\/$/,"")}const th=10,Nj=5*60*1e3,kj=401;class Sj extends Error{constructor({statusCode:t,message:r}){super(r);T(this,"statusCode");this.name="HttpError",this.statusCode=t}}async function Cj(s){if(s.status===kj)throw new _j;if(s.ok)return s.json();let e=`Failed request with status: ${s.status}. ${s.statusText}`,t;try{t=await s.json(),t.message&&(e=`${e} message: ${t.message}`),t.requestId&&(e=`${e} request-Id: ${t.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw s.status>=400&&s.status<=499&&t.message?new hj(t.message):new Sj({statusCode:s.status,message:e})}function Tj(s,e,t){const{progress:r,bytesUploaded:i,bytesTotal:a}=e;r&&(s.uppy.log(`Upload progress: ${r}`),s.uppy.emit("upload-progress",t,{uploadStarted:t.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var fr,Bs,Ul,Hn,$l;class tg{constructor(e,t){C(this,Bs);C(this,fr);T(this,"uppy");T(this,"opts");C(this,Hn,async({file:e,postBody:t,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...t},{signal:r})).token});this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),E(this,fr,t.companionHeaders)}setCompanionHeaders(e){E(this,fr,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return p(this,fr)}get hostname(){const{companion:e}=this.uppy.getState(),t=this.opts.companionUrl;return jj(e!=null&&e[t]?e[t]:t)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...p(this,fr)}}onReceiveResponse(e){const{headers:t}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;t.has("i-am")&&t.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:t.get("i-am")}})}async request({path:e,method:t="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await dj(A(this,Bs,Ul).call(this,e),{method:t,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await Cj(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new lj(`Could not ${t} ${A(this,Bs,Ul).call(this,e)}`,{cause:o})}}async get(e,t){return this.request({...t,path:e})}async post(e,t,r){return this.request({...r,path:e,method:"POST",data:t})}async delete(e,t,r){return this.request({...r,path:e,method:"DELETE",data:t})}async uploadRemoteFile(e,t,r){try{const{signal:i,getQueue:a}=r||{};return await eh(async()=>{var u;const o=(u=this.uppy.getFile(e.id))==null?void 0:u.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),A(this,Bs,$l).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...d)=>{try{return await p(this,Hn).call(this,...d)}catch(h){if(h.isAuthError)throw new Dl(h);if(h.cause==null)throw h;const f=h.cause,m=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!m()?new Dl(f):f}},{priority:-1})({file:e,postBody:t,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),A(this,Bs,$l).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:th,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}fr=new WeakMap,Bs=new WeakSet,Ul=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Hn=new WeakMap,$l=async function({file:e,queue:t,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,u=uj(e.remote.companionUrl);let d,h,f,{isPaused:m}=e;const x=(O,W)=>{if(d==null||d.readyState!==d.OPEN){this.uppy.log(`Cannot send "${O}" to socket ${e.id} because the socket state was ${String(d==null?void 0:d.readyState)}`,"warning");return}d.send(JSON.stringify({action:O,payload:W??{}}))};function v(){a.resumableUploads&&x(m?"pause":"resume")}const y=async()=>{h&&h.abort(),h=new AbortController;const O=L=>{var G;this.uppy.setFileState(e.id,{serverToken:null}),(G=h==null?void 0:h.abort)==null||G.call(h),l(L)};function W(){clearTimeout(f),!m&&(f=setTimeout(()=>O(new Error("Timeout waiting for message from Companion socket")),Nj))}try{await t.wrapPromiseFunction(async()=>{await eh(async()=>new Promise((G,Q)=>{d=new WebSocket(`${u}/api/${c}`),W(),d.addEventListener("close",()=>{d=void 0,Q(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",te=>{this.uppy.log(`Companion socket error ${JSON.stringify(te)}, closing socket`,"warning"),d==null||d.close()}),d.addEventListener("open",()=>{v()}),d.addEventListener("message",te=>{var H,ce,ue;W();try{const{action:we,payload:je}=JSON.parse(te.data);switch(we){case"progress":{Tj(this,je,this.uppy.getFile(e.id));break}case"success":{const Ne=(H=je.response)==null?void 0:H.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:je.url,status:((ce=je.response)==null?void 0:ce.status)??200,body:Ne?JSON.parse(Ne):void 0}),(ue=h==null?void 0:h.abort)==null||ue.call(h),o();break}case"error":{const{message:Ne}=je.error;throw Object.assign(new Error(Ne),{cause:je.error})}default:this.uppy.log(`Companion socket unknown action ${we}`,"warning")}}catch(we){O(we)}});const I=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(f),d&&d.close(),d=void 0};h.signal.addEventListener("abort",()=>{I()})}),{retries:th,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(L){if(h.signal.aborted)return;O(L)}},_=O=>{a.resumableUploads&&(m=O,d&&v())},N=O=>{var W;a.individualCancellation&&O.id===e.id&&(x("cancel"),(W=h==null?void 0:h.abort)==null||W.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},j=()=>{var O;x("cancel"),(O=h==null?void 0:h.abort)==null||O.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},k=(O,W)=>{(O==null?void 0:O.id)===e.id&&_(W)},F=()=>_(!0),R=()=>_(!1);this.uppy.on("file-removed",N),this.uppy.on("cancel-all",j),this.uppy.on("upload-pause",k),this.uppy.on("pause-all",F),this.uppy.on("resume-all",R),i=()=>{this.uppy.off("file-removed",N),this.uppy.off("cancel-all",j),this.uppy.off("upload-pause",k),this.uppy.off("pause-all",F),this.uppy.off("resume-all",R)},r.addEventListener("abort",()=>{h==null||h.abort()}),y()})}finally{i==null||i()}},T(tg,"VERSION",wj.version);var zt,wa;class Ej{constructor(e){C(this,zt);C(this,wa,[]);E(this,zt,e)}on(e,t){return p(this,wa).push([e,t]),p(this,zt).on(e,t)}remove(){for(const[e,t]of p(this,wa).splice(0))p(this,zt).off(e,t)}onFilePause(e,t){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&t(i)})}onFileRemove(e,t){this.on("file-removed",r=>{e===r.id&&t(r.id)})}onPause(e,t){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&t(i)})}onRetry(e,t){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&t()})}onRetryAll(e,t){this.on("retry-all",()=>{p(this,zt).getFile(e)&&t()})}onPauseAll(e,t){this.on("pause-all",()=>{p(this,zt).getFile(e)&&t()})}onCancelAll(e,t){this.on("cancel-all",(...r)=>{p(this,zt).getFile(e)&&t(...r)})}onResumeAll(e,t){this.on("resume-all",()=>{p(this,zt).getFile(e)&&t()})}}zt=new WeakMap,wa=new WeakMap;const{AbortController:Uo}=globalThis,sg=(s="Aborted",e)=>{const t=new DOMException(s,"AbortError");return e!=null&&Jm(e,"cause")&&Object.defineProperty(t,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),t};function Aj(s){const e=t=>"error"in t&&!!t.error;return s.filter(t=>!e(t))}function Pj(s){return s.filter(e=>{var t;return!((t=e.progress)!=null&&t.uploadStarted)||!e.isRestored})}function sh(s,e){return s===!0?Object.keys(e):Array.isArray(s)?s:[]}function Fj(s){return new Error("Cancelled",{cause:s})}function rh(s){var e;if(s!=null){const t=()=>this.abort(s.reason);s.addEventListener("abort",t,{once:!0});const r=()=>{s.removeEventListener("abort",t)};(e=this.then)==null||e.call(this,r,r)}return this}var is,Vt,as,ti,qt,si,mr,He,Bl,Bi,rg,ig,ag,Wn,ri;class Rj{constructor(e){C(this,He);C(this,is,0);C(this,Vt,[]);C(this,as,!1);C(this,ti);C(this,qt,1);C(this,si);C(this,mr);T(this,"limit");C(this,Wn,()=>this.resume());C(this,ri,()=>{if(p(this,as)){E(this,mr,setTimeout(p(this,ri),0));return}E(this,qt,this.limit),this.limit=Math.ceil((p(this,si)+p(this,qt))/2);for(let e=p(this,qt);e<=this.limit;e++)A(this,He,Bi).call(this);p(this,si)-p(this,qt)>3?E(this,mr,setTimeout(p(this,ri),2e3)):E(this,qt,Math.floor(p(this,qt)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,t){return!p(this,as)&&p(this,is)<this.limit?A(this,He,Bl).call(this,e):A(this,He,ig).call(this,e,t)}wrapSyncFunction(e,t){return(...r)=>{const i=this.run(()=>(e(...r),queueMicrotask(()=>i.done()),()=>{}),t);return{abortOn:rh,abort(){i.abort()}}}}wrapPromiseFunction(e,t){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,u;try{u=Promise.resolve(e(...r))}catch(d){u=Promise.reject(d)}return u.then(d=>{c?l(c):(i.done(),o(d))},d=>{c?l(c):(i.done(),l(d))}),d=>{c=Fj(d)}},t)});return a.abort=o=>{i.abort(o)},a.abortOn=rh,a}}resume(){E(this,as,!1),clearTimeout(p(this,ti));for(let e=0;e<this.limit;e++)A(this,He,Bi).call(this)}pause(e=null){E(this,as,!0),clearTimeout(p(this,ti)),e!=null&&E(this,ti,setTimeout(p(this,Wn),e))}rateLimit(e){clearTimeout(p(this,mr)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(E(this,si,this.limit-1),this.limit=p(this,qt),E(this,mr,setTimeout(p(this,ri),e)))}get isPaused(){return p(this,as)}}is=new WeakMap,Vt=new WeakMap,as=new WeakMap,ti=new WeakMap,qt=new WeakMap,si=new WeakMap,mr=new WeakMap,He=new WeakSet,Bl=function(e){E(this,is,p(this,is)+1);let t=!1,r;try{r=e()}catch(i){throw E(this,is,p(this,is)-1),i}return{abort:i=>{t||(t=!0,E(this,is,p(this,is)-1),r==null||r(i),A(this,He,Bi).call(this))},done:()=>{t||(t=!0,E(this,is,p(this,is)-1),A(this,He,Bi).call(this))}}},Bi=function(){queueMicrotask(()=>A(this,He,rg).call(this))},rg=function(){if(p(this,as)||p(this,is)>=this.limit||p(this,Vt).length===0)return;const e=p(this,Vt).shift();if(e==null)throw new Error("Invariant violation: next is null");const t=A(this,He,Bl).call(this,e.fn);e.abort=t.abort,e.done=t.done},ig=function(e,t){const r={fn:e,priority:(t==null?void 0:t.priority)||0,abort:()=>{A(this,He,ag).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=p(this,Vt).findIndex(a=>r.priority>a.priority);return i===-1?p(this,Vt).push(r):p(this,Vt).splice(i,0,r),r},ag=function(e){const t=p(this,Vt).indexOf(e);t!==-1&&p(this,Vt).splice(t,1)},Wn=new WeakMap,ri=new WeakMap;const Oj="4.3.2",Mj={version:Oj};function Ij({method:s="PUT",CanonicalUri:e="/",CanonicalQueryString:t="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[s,e,t,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const Pc=new TextEncoder,Fc={name:"HMAC",hash:"SHA-256"};async function Lj(s){const{subtle:e}=globalThis.crypto;return e.digest(Fc.hash,Pc.encode(s))}async function Dj(s){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof s=="string"?Pc.encode(s):s,Fc,!1,["sign"])}function ih(s){const e=new Uint8Array(s);let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}async function Oi(s,e){const{subtle:t}=globalThis.crypto;return t.sign(Fc,await Dj(s),Pc.encode(e))}async function Uj({accountKey:s,accountSecret:e,sessionToken:t,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const u="s3",d=`${u}.${a}.amazonaws.com`,h=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,L=>`%${L.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",m=new Date().toISOString().replace(/[-:]|\.\d+/g,""),x=m.slice(0,8),v=`${x}/${a}/${u}/aws4_request`,y=new URL(`https://${d}${h}`);y.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),y.searchParams.set("X-Amz-Content-Sha256",f),y.searchParams.set("X-Amz-Credential",`${s}/${v}`),y.searchParams.set("X-Amz-Date",m),y.searchParams.set("X-Amz-Expires",o),y.searchParams.set("X-Amz-Security-Token",t),y.searchParams.set("X-Amz-SignedHeaders","host"),c&&y.searchParams.set("partNumber",c),l&&y.searchParams.set("uploadId",l),y.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const _=Ij({CanonicalUri:h,CanonicalQueryString:y.search.slice(1),SignedHeaders:{host:d},HashedPayload:f}),N=ih(await Lj(_)),j=["AWS4-HMAC-SHA256",m,v,N].join(`
`),k=await Oi(`AWS4${e}`,x),F=await Oi(k,a),R=await Oi(F,u),O=await Oi(R,"aws4_request"),W=ih(await Oi(O,j));return y.searchParams.set("X-Amz-Signature",W),y}const $j=1024*1024,ah={getChunkSize(s){return Math.ceil(s.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(s){throw s}};function Bj(s){if(typeof s=="string")return parseInt(s,10);if(typeof s=="number")return s;throw new TypeError("Expected a number")}const bn=Symbol("pausing upload, not an actual error");var jt,dt,Ht,ns,os,_a,ja,ii,gr,ai,Na,ni,ka,It,ng,og,zl,Sa,Ca,lg;class zj{constructor(e,t){C(this,It);T(this,"options");C(this,jt,new Uo);C(this,dt,[]);C(this,Ht,[]);C(this,ns);C(this,os);C(this,_a,!1);C(this,ja);C(this,ii);C(this,gr);C(this,ai);C(this,Na,e=>(e==null?void 0:e.cause)===bn?null:p(this,ja).call(this,e));C(this,ni,1e4);C(this,ka,5*$j);C(this,Sa,e=>t=>{if(!t.lengthComputable)return;p(this,Ht)[e].uploaded=Bj(t.loaded);const r=p(this,Ht).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,p(this,ns).size)});C(this,Ca,e=>t=>{p(this,dt)[e]=null,p(this,Ht)[e].etag=t,p(this,Ht)[e].done=!0;const r={PartNumber:e+1,ETag:t};this.options.onPartComplete(r)});var r;this.options={...ah,...t},(r=this.options).getChunkSize??(r.getChunkSize=ah.getChunkSize),E(this,ns,e),E(this,os,t.file),E(this,ii,this.options.onSuccess),E(this,ja,this.options.onError),E(this,gr,this.options.shouldUseMultipart),E(this,ai,t.uploadId&&t.key),A(this,It,ng).call(this)}start(){p(this,_a)?(p(this,jt).signal.aborted||p(this,jt).abort(bn),E(this,jt,new Uo),A(this,It,zl).call(this)):p(this,ai)?(this.options.companionComm.restoreUploadFile(p(this,os),{uploadId:this.options.uploadId,key:this.options.key}),A(this,It,zl).call(this)):A(this,It,og).call(this)}pause(){p(this,jt).abort(bn),E(this,jt,new Uo)}abort(e){e!=null&&e.really?A(this,It,lg).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return p(this,Ht)}}jt=new WeakMap,dt=new WeakMap,Ht=new WeakMap,ns=new WeakMap,os=new WeakMap,_a=new WeakMap,ja=new WeakMap,ii=new WeakMap,gr=new WeakMap,ai=new WeakMap,Na=new WeakMap,ni=new WeakMap,ka=new WeakMap,It=new WeakSet,ng=function(){const e=p(this,ns).size,t=typeof p(this,gr)=="function"?p(this,gr).call(this,p(this,os)):!!p(this,gr);if(t&&e>p(this,ka)){let r=Math.max(this.options.getChunkSize(p(this,ns)),p(this,ka)),i=Math.floor(e/r);i>p(this,ni)&&(i=p(this,ni),r=e/p(this,ni)),E(this,dt,Array(i));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const u=a;return p(this,ns).slice(u,l)};if(p(this,dt)[o]={getData:c,onProgress:p(this,Sa).call(this,o),onComplete:p(this,Ca).call(this,o),shouldUseMultipart:t},p(this,ai)){const u=a+r>e?e-a:r;p(this,dt)[o].setAsUploaded=()=>{p(this,dt)[o]=null,p(this,Ht)[o].uploaded=u}}}}else E(this,dt,[{getData:()=>p(this,ns),onProgress:p(this,Sa).call(this,0),onComplete:p(this,Ca).call(this,0),shouldUseMultipart:t}]);E(this,Ht,p(this,dt).map(()=>({uploaded:0})))},og=function(){this.options.companionComm.uploadFile(p(this,os),p(this,dt),p(this,jt).signal).then(p(this,ii),p(this,Na)),E(this,_a,!0)},zl=function(){this.options.companionComm.resumeUploadFile(p(this,os),p(this,dt),p(this,jt).signal).then(p(this,ii),p(this,Na))},Sa=new WeakMap,Ca=new WeakMap,lg=function(){p(this,jt).abort(),this.options.companionComm.abortFileUpload(p(this,os)).catch(e=>this.options.log(e))};function qe(s){if(s!=null&&s.aborted)throw sg("The operation was aborted",{cause:s.reason})}function Vj(s){const e=new URL(s);return e.search="",e.hash="",e.href}var Ta,Nt,Ea,Aa,Pa,Fa,oi,li,ci,di,br,ui,kt,jr,cg,Vl;class qj{constructor(e,t,r,i){C(this,jr);C(this,Ta);C(this,Nt,new WeakMap);C(this,Ea);C(this,Aa);C(this,Pa);C(this,Fa);C(this,oi);C(this,li);C(this,ci);C(this,di);C(this,br);C(this,ui);C(this,kt);E(this,li,e),E(this,br,r),E(this,kt,i),this.setOptions(t)}setOptions(e){const t=p(this,li);"abortMultipartUpload"in e&&E(this,Ta,t.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&E(this,Ea,t.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&E(this,Aa,t.wrapPromiseFunction(e.signPart)),"listParts"in e&&E(this,Fa,t.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&E(this,di,t.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&E(this,ci,e.retryDelays??[]),"uploadPartBytes"in e&&E(this,ui,t.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&E(this,Pa,t.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,t){let r;for(;r=p(this,Nt).get(e.data),r!=null;)try{return await r}catch{}const i=p(this,Ea).call(this,p(this,kt).call(this,e),t),a=()=>{i.abort(t.reason),p(this,Nt).delete(e.data)};return t.addEventListener("abort",a,{once:!0}),p(this,Nt).set(e.data,i),i.then(async o=>{t.removeEventListener("abort",a),p(this,br).call(this,e,o),p(this,Nt).set(e.data,o)},()=>{t.removeEventListener("abort",a),p(this,Nt).delete(e.data)}),i}async abortFileUpload(e){const t=p(this,Nt).get(e.data);if(t==null)return;p(this,Nt).delete(e.data),p(this,br).call(this,e,Object.create(null));let r;try{r=await t}catch{return}await p(this,Ta).call(this,p(this,kt).call(this,e),r)}async uploadFile(e,t,r){if(qe(r),t.length===1&&!t[0].shouldUseMultipart)return A(this,jr,Vl).call(this,e,t[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);qe(r);try{const o=await Promise.all(t.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return qe(r),await p(this,di).call(this,p(this,kt).call(this,e),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==bn&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,t){p(this,Nt).set(e.data,t)}async resumeUploadFile(e,t,r){if(qe(r),t.length===1&&t[0]!=null&&!t[0].shouldUseMultipart)return A(this,jr,Vl).call(this,e,t[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);qe(r);const o=await p(this,Fa).call(this,p(this,kt).call(this,e),{uploadId:i,key:a,signal:r},r).abortOn(r);qe(r);const l=await Promise.all(t.map((c,u)=>{var f;const d=u+1,h=o.find(({PartNumber:m})=>m===d);return h==null?this.uploadChunk(e,d,c,r):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:d,ETag:h.ETag})}));return qe(r),p(this,di).call(this,p(this,kt).call(this,e),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,t,r,i){qe(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=p(this,ci).values(),c=p(this,ci).values(),u=()=>{const d=l.next();return d==null||d.done?null:d.value};for(;;){qe(i);const d=r.getData(),{onProgress:h,onComplete:f}=r;let m;try{m=await p(this,Aa).call(this,p(this,kt).call(this,e),{uploadId:a,key:o,partNumber:t,body:d,signal:i}).abortOn(i)}catch(x){const v=u();if(v==null||i.aborted)throw x;await new Promise(y=>setTimeout(y,v));continue}qe(i);try{return{PartNumber:t,...await p(this,ui).call(this,{signature:m,body:d,size:d.size,onProgress:h,onComplete:f,signal:i}).abortOn(i)}}catch(x){if(!await A(this,jr,cg).call(this,x,c))throw x}}}}Ta=new WeakMap,Nt=new WeakMap,Ea=new WeakMap,Aa=new WeakMap,Pa=new WeakMap,Fa=new WeakMap,oi=new WeakMap,li=new WeakMap,ci=new WeakMap,di=new WeakMap,br=new WeakMap,ui=new WeakMap,kt=new WeakMap,jr=new WeakSet,cg=async function(e,t){var a;const r=p(this,li),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||p(this,oi)==null){const o=t.next();if(o==null||o.done)return!1;E(this,oi,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,p(this,oi)))}}else if(i===429){if(!r.isPaused){const o=t.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=t.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Vl=async function(e,t,r){const{method:i="POST",url:a,fields:o,headers:l}=await p(this,Pa).call(this,p(this,kt).call(this,e),{signal:r}).abortOn(r);let c;const u=t.getData();if(i.toUpperCase()==="POST"){const x=new FormData;Object.entries(o).forEach(([v,y])=>x.set(v,y)),x.set("file",u),c=x}else c=u;const{onProgress:d,onComplete:h}=t,f=await p(this,ui).call(this,{signature:{url:a,headers:l,method:i},body:c,size:u.size,onProgress:d,onComplete:h,signal:r}).abortOn(r),m=o==null?void 0:o.key;return p(this,br).call(this,e,{key:m}),{...f,location:f.location??Vj(a),bucket:o==null?void 0:o.bucket,key:m}};function Tr(s){if(s!=null&&s.error){const e=new Error(s.message);throw Object.assign(e,s.error),e}return s}function nh(s){const e=s.Expiration;if(e){const t=Math.floor((new Date(e)-Date.now())/1e3);if(t>9)return t}}function oh({meta:s,allowedMetaFields:e,querify:t=!1}){const r=e??Object.keys(s);return s?Object.fromEntries(r.filter(i=>s[i]!=null).map(i=>{const a=t?`metadata[${i}]`:i,o=String(s[i]);return[a,o]})):{}}const Hj={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:s=>(s.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var hi,Ze,Me,Hl,bs,St,dg,Gn,pi,ug,hg,Ra,fi,yr,Oa;const Kn=class Kn extends Vf{constructor(t,r){super(t,{...Hj,uploadPartBytes:Kn.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});C(this,Me);C(this,hi);C(this,Ze);T(this,"requests");T(this,"uploaderEvents");T(this,"uploaders");C(this,St);C(this,Gn,(t,{key:r,uploadId:i})=>{const a=this.uppy.getFile(t.id);a!=null&&this.uppy.setFileState(t.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});C(this,pi,t=>this.uppy.getFile(t.id)||t);C(this,Ra,async t=>{if(t.length===0)return;const r=this.uppy.getFilesByIds(t),i=Aj(r),a=Pj(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const u=()=>this.requests;p(this,yr).call(this,!1);const d=new AbortController,h=m=>{m.id===c.id&&d.abort()};this.uppy.on("file-removed",h);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,A(this,Me,hg).call(this,c),{signal:d.signal,getQueue:u});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),f}return A(this,Me,ug).call(this,c)}),l=await Promise.allSettled(o);return p(this,yr).call(this,!0),l});C(this,fi,()=>{var t;(t=p(this,Ze))==null||t.setCompanionHeaders(this.opts.headers)});C(this,yr,t=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:t}})});C(this,Oa,()=>{p(this,yr).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",A(this,Me,Hl).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Rj(this.opts.limit),E(this,hi,new qj(this.requests,this.opts,p(this,Gn),p(this,pi))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return p(this,Ze)}setOptions(t){p(this,hi).setOptions(t),super.setOptions(t),A(this,Me,Hl).call(this,t)}resetUploaderReferences(t,r){this.uploaders[t]&&(this.uploaders[t].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[t]=null),this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null)}createMultipartUpload(t,r){A(this,Me,bs).call(this,"createMultipartUpload"),qe(r);const i=sh(this.opts.allowedMetaFields,t.meta),a=oh({meta:t.meta,allowedMetaFields:i});return p(this,Ze).post("s3/multipart",{filename:t.name,type:t.type,metadata:a},{signal:r}).then(Tr)}listParts(t,{key:r,uploadId:i,signal:a},o){a??(a=o),A(this,Me,bs).call(this,"listParts"),qe(a);const l=encodeURIComponent(r);return p(this,Ze).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Tr)}completeMultipartUpload(t,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),A(this,Me,bs).call(this,"completeMultipartUpload"),qe(o);const c=encodeURIComponent(r),u=encodeURIComponent(i);return p(this,Ze).post(`s3/multipart/${u}/complete?key=${c}`,{parts:a.map(({ETag:d,PartNumber:h})=>({ETag:d,PartNumber:h}))},{signal:o}).then(Tr)}async createSignedURL(t,r){const i=await A(this,Me,dg).call(this,r),a=nh(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Uj({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${t.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":t.type}}}signPart(t,{uploadId:r,key:i,partNumber:a,signal:o}){if(A(this,Me,bs).call(this,"signPart"),qe(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return p(this,Ze).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Tr)}abortMultipartUpload(t,{key:r,uploadId:i,signal:a}){A(this,Me,bs).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return p(this,Ze).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Tr)}getUploadParameters(t,r){A(this,Me,bs).call(this,"getUploadParameters");const{meta:i}=t,{type:a,name:o}=i,l=sh(this.opts.allowedMetaFields,t.meta),c=oh({meta:i,allowedMetaFields:l,querify:!0}),u=new URLSearchParams({filename:o,type:a,...c});return p(this,Ze).get(`s3/params?${u}`,r)}static async uploadPartBytes({signature:{url:t,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:u,signal:d}){if(qe(d),t==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,f)=>{const m=new XMLHttpRequest;m.open(a,t,!0),i&&Object.keys(i).forEach(y=>{m.setRequestHeader(y,i[y])}),m.responseType="text",typeof r=="number"&&(m.timeout=r*1e3);function x(){m.abort()}function v(){d==null||d.removeEventListener("abort",x)}d==null||d.addEventListener("abort",x),m.upload.addEventListener("progress",y=>{c(y)}),m.addEventListener("abort",()=>{v(),f(sg())}),m.addEventListener("timeout",()=>{v();const y=new Error("Request has expired");y.source={status:403},f(y)}),m.addEventListener("load",()=>{if(v(),m.status===403&&m.responseText.includes("<Message>Request has expired</Message>")){const k=new Error("Request has expired");k.source=m,f(k);return}if(m.status<200||m.status>=300){const k=new Error("Non 2xx");k.source=m,f(k);return}c==null||c({loaded:l,lengthComputable:!0});const y=m.getAllResponseHeaders().trim().split(/[\r\n]+/),_={__proto__:null};for(const k of y){const F=k.split(": "),R=F.shift(),O=F.join(": ");_[R]=O}const{etag:N,location:j}=_;if(a.toUpperCase()==="POST"&&j==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),N==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u==null||u(N),h({..._,ETag:N})}),m.addEventListener("error",y=>{v();const _=new Error("Unknown error");_.source=y.target,f(_)}),m.send(o)})}install(){p(this,yr).call(this,!0),this.uppy.addPreProcessor(p(this,fi)),this.uppy.addUploader(p(this,Ra)),this.uppy.on("cancel-all",p(this,Oa))}uninstall(){this.uppy.removePreProcessor(p(this,fi)),this.uppy.removeUploader(p(this,Ra)),this.uppy.off("cancel-all",p(this,Oa))}};hi=new WeakMap,Ze=new WeakMap,Me=new WeakSet,Hl=function(t){t==null||!("endpoint"in t||"companionUrl"in t||"headers"in t||"companionHeaders"in t||"cookiesRule"in t||"companionCookiesRule"in t)||("companionUrl"in t&&!("endpoint"in t)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in t&&!("headers"in t)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in t&&!("cookiesRule"in t)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in t?E(this,Ze,new tg(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in t&&p(this,fi).call(this),"cookiesRule"in t&&(p(this,Ze).opts.companionCookiesRule=t.cookiesRule)))},bs=function(t){if(!p(this,Ze))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${t}\` implementation.`)},St=new WeakMap,dg=async function(t){if(qe(t==null?void 0:t.signal),p(this,St)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(A(this,Me,bs).call(this,"getTemporarySecurityCredentials"),E(this,St,p(this,Ze).get("s3/sts",t).then(Tr))):E(this,St,r(t)),E(this,St,await p(this,St)),setTimeout(()=>{E(this,St,null)},(nh(p(this,St).credentials)||0)*500)}return p(this,St)},Gn=new WeakMap,pi=new WeakMap,ug=function(t){return new Promise((r,i)=>{const a=(d,h)=>{const f=this.uppy.getFile(t.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:d,bytesTotal:h})},o=d=>{this.uppy.log(d),this.uppy.emit("upload-error",t,d),this.resetUploaderReferences(t.id),i(d)},l=d=>{const h={body:{...d},status:200,uploadURL:d.location};this.resetUploaderReferences(t.id),this.uppy.emit("upload-success",p(this,pi).call(this,t),h),d.location&&this.uppy.log(`Download ${t.name} from ${d.location}`),r(void 0)},c=new zj(t.data,{companionComm:p(this,hi),log:(...d)=>this.uppy.log(...d),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:d=>{this.uppy.emit("s3-multipart:part-uploaded",p(this,pi).call(this,t),d)},file:t,shouldUseMultipart:this.opts.shouldUseMultipart,...t.s3Multipart});this.uploaders[t.id]=c;const u=new Ej(this.uppy);this.uploaderEvents[t.id]=u,u.onFileRemove(t.id,d=>{c.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${d} was removed`)}),u.onCancelAll(t.id,()=>{c.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${t.id} was canceled`)}),u.onFilePause(t.id,d=>{d?c.pause():c.start()}),u.onPauseAll(t.id,()=>{c.pause()}),u.onResumeAll(t.id,()=>{c.start()}),c.start()})},hg=function(t){var r;return{...(r=t.remote)==null?void 0:r.body,protocol:"s3-multipart",size:t.data.size,metadata:t.meta}},Ra=new WeakMap,fi=new WeakMap,yr=new WeakMap,Oa=new WeakMap,T(Kn,"VERSION",Mj.version);let ql=Kn;function Wj({maxNumberOfFiles:s=5,maxFileSize:e=52428800,onGetUploadParameters:t,onComplete:r,buttonClassName:i,children:a}){const[o,l]=b.useState(!1),[c]=b.useState(()=>new wl({restrictions:{maxNumberOfFiles:s,maxFileSize:e,allowedFileTypes:["image/*",".pdf",".doc",".docx",".txt",".zip",".json"]},autoProceed:!1}).use(ql,{shouldUseMultipart:!1,getUploadParameters:t}).on("complete",u=>{r==null||r(u),l(!1)}));return n.jsxs("div",{children:[n.jsx(X,{onClick:()=>l(!0),className:i,children:a}),n.jsx(Ym,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1,note:"Upload files for your website hosting. Images, documents, and other assets."})]})}function Gj(){const{language:s}=De(),{toast:e}=Vs(),[t,r]=b.useState([]),[i,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState("uploads"),[d,h]=b.useState(!1),f=async()=>{try{const _=await tl("/api/upload-status","GET");a(_)}catch(_){console.error("Failed to check S3 config:",_)}},m=async()=>{try{const _=`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return{method:"PUT",url:(await tl("/api/uploads/public","POST",{fileName:_})).uploadURL}}catch(_){throw console.error("Error getting Replit upload URL:",_),_}},x=_=>{if(_.successful&&_.successful.length>0){const N=_.successful.map(j=>({name:j.name||"unknown",url:`/public-objects/${j.name}`,size:j.size||0,type:j.type||"unknown",uploadedAt:new Date,method:"replit"}));r(j=>[...j,...N]),e({title:s==="ar"?"تم الرفع بنجاح":"Upload Successful",description:s==="ar"?"تم رفع الملفات إلى Replit Object Storage":"Files uploaded to Replit Object Storage"})}},v=async()=>{if(!o||o.length===0){e({title:s==="ar"?"لا توجد ملفات":"No Files Selected",description:s==="ar"?"اختر ملفات للرفع":"Please select files to upload",variant:"destructive"});return}h(!0);try{const _=new FormData;if(o.length===1){_.append("file",o[0]),_.append("folder",c);const j=await(await fetch("/api/upload",{method:"POST",body:_})).json();if(j.ok){const k={name:j.originalName,url:j.url,size:j.size,type:j.type,uploadedAt:new Date,method:"s3"};r(F=>[...F,k]),e({title:s==="ar"?"تم الرفع بنجاح":"Upload Successful",description:s==="ar"?"تم رفع الملف إلى التخزين الخارجي":"File uploaded to external storage"})}else throw new Error(j.error||"Upload failed")}else{Array.from(o).forEach(k=>{_.append("files",k)}),_.append("folder",c);const j=await(await fetch("/api/upload-multiple",{method:"POST",body:_})).json();if(j.ok){const k=j.results.filter(F=>F.ok).map(F=>({name:F.originalName,url:F.url,size:F.size,type:F.type,uploadedAt:new Date,method:"s3"}));r(F=>[...F,...k]),e({title:s==="ar"?"تم الرفع بنجاح":"Upload Successful",description:s==="ar"?`تم رفع ${j.successful} ملف`:`${j.successful} files uploaded successfully`})}}}catch(_){console.error("S3 upload error:",_),e({title:s==="ar"?"فشل في الرفع":"Upload Failed",description:s==="ar"?"فشل في رفع الملفات":"Failed to upload files",variant:"destructive"})}finally{h(!1)}},y=_=>{navigator.clipboard.writeText(_),e({title:s==="ar"?"تم النسخ":"Copied",description:s==="ar"?"تم نسخ الرابط":"URL copied to clipboard"})};return i===null&&f(),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(no,{defaultValue:"replit",className:"w-full",children:[n.jsxs($a,{className:"grid w-full grid-cols-2",children:[n.jsxs(tt,{value:"replit",className:"flex items-center gap-2",children:[n.jsx(pd,{className:"h-4 w-4"}),"Replit Storage"]}),n.jsxs(tt,{value:"s3",className:"flex items-center gap-2",children:[n.jsx(wo,{className:"h-4 w-4"}),s==="ar"?"التخزين الخارجي":"External Storage",(i==null?void 0:i.configured)&&n.jsx(Le,{variant:"secondary",className:"text-xs",children:"Ready"})]})]}),n.jsx(st,{value:"replit",className:"space-y-4",children:n.jsxs(B,{children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(pd,{className:"h-5 w-5"}),"Replit Object Storage"]})}),n.jsx(V,{children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s==="ar"?"استخدم نظام التخزين المدمج في Replit":"Use Replit's built-in object storage system"}),n.jsx(Wj,{maxNumberOfFiles:5,maxFileSize:52428800,onGetUploadParameters:m,onComplete:x,buttonClassName:"bg-blue-600 hover:bg-blue-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(md,{className:"h-4 w-4"}),s==="ar"?"رفع إلى Replit":"Upload to Replit"]})})]})})]})}),n.jsx(st,{value:"s3",className:"space-y-4",children:n.jsxs(B,{children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center gap-2",children:[n.jsx(wo,{className:"h-5 w-5"}),s==="ar"?"التخزين الخارجي (S3/R2/B2)":"External Storage (S3/R2/B2)",i!=null&&i.configured?n.jsx(Le,{variant:"secondary",children:"Configured"}):n.jsx(Le,{variant:"destructive",children:"Not Configured"})]})}),n.jsx(V,{className:"space-y-4",children:i!=null&&i.configured?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(En,{htmlFor:"folder",children:s==="ar"?"المجلد":"Folder"}),n.jsx(Gt,{id:"folder",value:c,onChange:_=>u(_.target.value),placeholder:"uploads/images"})]}),n.jsxs("div",{children:[n.jsx(En,{htmlFor:"files",children:s==="ar"?"الملفات":"Files"}),n.jsx(Gt,{id:"files",type:"file",multiple:!0,onChange:_=>l(_.target.files)})]})]}),n.jsxs(X,{onClick:v,disabled:d||!o,className:"w-full",children:[n.jsx(md,{className:"h-4 w-4 mr-2"}),d?s==="ar"?"جاري الرفع...":"Uploading...":s==="ar"?"رفع إلى التخزين الخارجي":"Upload to External Storage"]})]}):n.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(wo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:s==="ar"?"التخزين الخارجي غير مكون":"External storage not configured"}),n.jsx("p",{className:"text-sm text-gray-500",children:s==="ar"?"أضف متغيرات البيئة للـ S3/R2/B2":"Add S3/R2/B2 environment variables"})]})})]})})]}),t.length>0&&n.jsxs(B,{children:[n.jsx(ie,{children:n.jsxs(ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:s==="ar"?"الملفات المرفوعة":"Uploaded Files"}),n.jsx(Le,{variant:"secondary",children:t.length})]})}),n.jsx(V,{children:n.jsx("div",{className:"space-y-3",children:t.map((_,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:_.name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[n.jsx(Le,{variant:"outline",className:"text-xs",children:_.method==="replit"?"Replit":"S3"}),(_.size/1024/1024).toFixed(2)," MB"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.open(_.url,"_blank"),children:n.jsx(Np,{className:"h-4 w-4"})}),n.jsx(X,{variant:"outline",size:"sm",onClick:()=>y(_.url),children:n.jsx(qb,{className:"h-4 w-4"})})]})]},N))})})]})]})}function Kj(){const{language:s}=De();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900",children:[n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`flex items-center justify-between h-16 ${s==="ar"?"flex-row-reverse":""}`,children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-blue-900 dark:text-white",children:s==="ar"?"مدير الملفات للاستضافة":"File Manager for Hosting"})}),n.jsx("div",{className:`flex items-center ${s==="ar"?"space-x-reverse space-x-4":"space-x-4"}`,children:n.jsxs(X,{variant:"outline",onClick:()=>window.location.href="/teacher/dashboard",className:"flex items-center gap-2",children:[n.jsx(Vi,{className:"h-4 w-4"}),s==="ar"?"لوحة التحكم":"Back to Dashboard"]})})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 mb-8",children:[n.jsx(ie,{children:n.jsxs(ae,{className:`flex items-center ${s==="ar"?"flex-row-reverse":""}`,children:[n.jsx(Ms,{className:"h-6 w-6 mr-2"}),s==="ar"?"رفع الملفات للاستضافة":"File Upload for Hosting"]})}),n.jsxs(V,{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:s==="ar"?"اختر بين نظام Replit المدمج أو الخدمات الخارجية مثل S3، R2، B2 لاستضافة ملفاتك":"Choose between Replit's built-in system or external services like S3, R2, B2 for hosting your files"}),n.jsx(Gj,{})]})]}),n.jsxs(B,{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-blue-200 dark:border-gray-700 mt-8",children:[n.jsx(ie,{children:n.jsx(ae,{children:s==="ar"?"كيفية استخدام الملفات المرفوعة":"How to Use Uploaded Files"})}),n.jsx(V,{className:"space-y-4",children:n.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[n.jsx("p",{className:"mb-4",children:s==="ar"?"بعد رفع الملفات، يمكنك استخدامها في موقعك بالطرق التالية:":"After uploading files, you can use them in your website in the following ways:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[n.jsx("strong",{children:s==="ar"?"للصور:":"For images:"}),n.jsx("code",{className:"block mt-1 text-sm bg-white dark:bg-gray-800 p-2 rounded",children:'<img src="/public-objects/your-image.jpg" alt="Description" />'})]}),n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[n.jsx("strong",{children:s==="ar"?"للروابط:":"For links:"}),n.jsx("code",{className:"block mt-1 text-sm bg-white dark:bg-gray-800 p-2 rounded",children:'<a href="/public-objects/your-document.pdf">Download PDF</a>'})]}),n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[n.jsx("strong",{children:s==="ar"?"في CSS:":"In CSS:"}),n.jsx("code",{className:"block mt-1 text-sm bg-white dark:bg-gray-800 p-2 rounded",children:"background-image: url('/public-objects/your-background.jpg');"})]})]})]})})]})]})]})}function Zj(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(B,{className:"w-full max-w-md mx-4",children:n.jsxs(V,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Bb,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Qj(s,[e,t]){return Math.min(t,Math.max(e,s))}function Xj(s,e){return b.useReducer((t,r)=>e[t][r]??t,s)}var Rc="ScrollArea",[pg,SN]=Ma(Rc),[Yj,bt]=pg(Rc),fg=b.forwardRef((s,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=s,[l,c]=b.useState(null),[u,d]=b.useState(null),[h,f]=b.useState(null),[m,x]=b.useState(null),[v,y]=b.useState(null),[_,N]=b.useState(0),[j,k]=b.useState(0),[F,R]=b.useState(!1),[O,W]=b.useState(!1),L=mt(e,Q=>c(Q)),G=jh(i);return n.jsx(Yj,{scope:t,type:r,dir:G,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:F,onScrollbarXEnabledChange:R,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:O,onScrollbarYEnabledChange:W,onCornerWidthChange:N,onCornerHeightChange:k,children:n.jsx(Ce.div,{dir:G,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":j+"px",...s.style}})})});fg.displayName=Rc;var mg="ScrollAreaViewport",gg=b.forwardRef((s,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...a}=s,o=bt(mg,t),l=b.useRef(null),c=mt(e,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...s.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gg.displayName=mg;var Qt="ScrollAreaScrollbar",Oc=b.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=bt(Qt,s.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=s.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?n.jsx(Jj,{...r,ref:e,forceMount:t}):i.type==="scroll"?n.jsx(eN,{...r,ref:e,forceMount:t}):i.type==="auto"?n.jsx(bg,{...r,ref:e,forceMount:t}):i.type==="always"?n.jsx(Mc,{...r,ref:e}):null});Oc.displayName=Qt;var Jj=b.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=bt(Qt,s.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(zs,{present:t||a,children:n.jsx(bg,{"data-state":a?"visible":"hidden",...r,ref:e})})}),eN=b.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=bt(Qt,s.__scopeScrollArea),a=s.orientation==="horizontal",o=lo(()=>c("SCROLL_END"),100),[l,c]=Xj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),b.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,a,c,o]),n.jsx(zs,{present:t||l!=="hidden",children:n.jsx(Mc,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ve(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ve(s.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bg=b.forwardRef((s,e)=>{const t=bt(Qt,s.__scopeScrollArea),{forceMount:r,...i}=s,[a,o]=b.useState(!1),l=s.orientation==="horizontal",c=lo(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?u:d)}},10);return ji(t.viewport,c),ji(t.content,c),n.jsx(zs,{present:r||a,children:n.jsx(Mc,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Mc=b.forwardRef((s,e)=>{const{orientation:t="vertical",...r}=s,i=bt(Qt,s.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_g(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return nN(f,o.current,l,m)}return t==="horizontal"?n.jsx(tN,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,m=lh(f,l,i.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):t==="vertical"?n.jsx(sN,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,m=lh(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),tN=b.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...i}=s,a=bt(Qt,s.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=mt(e,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(xg,{"data-orientation":"horizontal",...i,ref:u,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oo(t)+"px",...s.style},onThumbPointerDown:d=>s.onThumbPointerDown(d.x),onDragScroll:d=>s.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;s.onWheelScroll(f),Ng(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:On(o.paddingLeft),paddingEnd:On(o.paddingRight)}})}})}),sN=b.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...i}=s,a=bt(Qt,s.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=mt(e,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(xg,{"data-orientation":"vertical",...i,ref:u,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oo(t)+"px",...s.style},onThumbPointerDown:d=>s.onThumbPointerDown(d.y),onDragScroll:d=>s.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;s.onWheelScroll(f),Ng(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:On(o.paddingTop),paddingEnd:On(o.paddingBottom)}})}})}),[rN,yg]=pg(Qt),xg=b.forwardRef((s,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=s,m=bt(Qt,t),[x,v]=b.useState(null),y=mt(e,L=>v(L)),_=b.useRef(null),N=b.useRef(""),j=m.viewport,k=r.content-r.viewport,F=At(d),R=At(c),O=lo(h,10);function W(L){if(_.current){const G=L.clientX-_.current.left,Q=L.clientY-_.current.top;u({x:G,y:Q})}}return b.useEffect(()=>{const L=G=>{const Q=G.target;(x==null?void 0:x.contains(Q))&&F(G,k)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[j,x,k,F]),b.useEffect(R,[r,R]),ji(x,O),ji(m.content,O),n.jsx(rN,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:At(a),onThumbPointerUp:At(o),onThumbPositionChange:R,onThumbPointerDown:At(l),children:n.jsx(Ce.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:ve(s.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),_.current=x.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),W(L))}),onPointerMove:ve(s.onPointerMove,W),onPointerUp:ve(s.onPointerUp,L=>{const G=L.target;G.hasPointerCapture(L.pointerId)&&G.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=N.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),Rn="ScrollAreaThumb",vg=b.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=yg(Rn,s.__scopeScrollArea);return n.jsx(zs,{present:t||i.hasThumb,children:n.jsx(iN,{ref:e,...r})})}),iN=b.forwardRef((s,e)=>{const{__scopeScrollArea:t,style:r,...i}=s,a=bt(Rn,t),o=yg(Rn,t),{onThumbPositionChange:l}=o,c=mt(e,h=>o.onThumbChange(h)),u=b.useRef(void 0),d=lo(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=oN(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),n.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(s.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,v=h.clientY-m.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:ve(s.onPointerUp,o.onThumbPointerUp)})});vg.displayName=Rn;var Ic="ScrollAreaCorner",wg=b.forwardRef((s,e)=>{const t=bt(Ic,s.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?n.jsx(aN,{...s,ref:e}):null});wg.displayName=Ic;var aN=b.forwardRef((s,e)=>{const{__scopeScrollArea:t,...r}=s,i=bt(Ic,t),[a,o]=b.useState(0),[l,c]=b.useState(0),u=!!(a&&l);return ji(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),ji(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?n.jsx(Ce.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function On(s){return s?parseInt(s,10):0}function _g(s,e){const t=s/e;return isNaN(t)?0:t}function oo(s){const e=_g(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=(s.scrollbar.size-t)*e;return Math.max(r,18)}function nN(s,e,t,r="ltr"){const i=oo(t),a=i/2,o=e||a,l=i-o,c=t.scrollbar.paddingStart+o,u=t.scrollbar.size-t.scrollbar.paddingEnd-l,d=t.content-t.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return jg([c,u],h)(s)}function lh(s,e,t="ltr"){const r=oo(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=t==="ltr"?[0,o]:[o*-1,0],u=Qj(s,c);return jg([0,o],[0,l])(u)}function jg(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(s[1]-s[0]);return e[0]+r*(t-s[0])}}function Ng(s,e){return s>0&&s<e}var oN=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},r=0;return function i(){const a={left:s.scrollLeft,top:s.scrollTop},o=t.left!==a.left,l=t.top!==a.top;(o||l)&&e(),t=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function lo(s,e){const t=At(s),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function ji(s,e){const t=At(e);xh(()=>{let r=0;if(s){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(s),()=>{window.cancelAnimationFrame(r),i.unobserve(s)}}},[s,t])}var kg=fg,lN=gg,cN=wg;const Sg=b.forwardRef(({className:s,children:e,...t},r)=>n.jsxs(kg,{ref:r,className:me("relative overflow-hidden",s),...t,children:[n.jsx(lN,{className:"h-full w-full rounded-[inherit]",children:e}),n.jsx(Cg,{}),n.jsx(cN,{})]}));Sg.displayName=kg.displayName;const Cg=b.forwardRef(({className:s,orientation:e="vertical",...t},r)=>n.jsx(Oc,{ref:r,orientation:e,className:me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:n.jsx(vg,{className:"relative flex-1 rounded-full bg-border"})}));Cg.displayName=Oc.displayName;function dN({className:s}){const[e,t]=b.useState(!1),[r,i]=b.useState([]),[a,o]=b.useState(""),{t:l,language:c}=De(),u=b.useRef(null),d=b.useRef(null),h=Yh({mutationFn:async x=>{const v=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:x,language:c,conversationHistory:r.slice(-5)})});if(!v.ok)throw new Error("Failed to send message");return v.json()},onSuccess:x=>{const v={id:Date.now().toString()+"-assistant",role:"assistant",content:x.message,timestamp:new Date};i(y=>[...y,v])},onError:x=>{const v={id:Date.now().toString()+"-error",role:"assistant",content:c==="ar"?"أعتذر، حدث خطأ. يرجى المحاولة مرة أخرى.":"Sorry, something went wrong. Please try again.",timestamp:new Date};i(y=>[...y,v])}}),f=()=>{if(!a.trim()||h.isPending)return;const x={id:Date.now().toString()+"-user",role:"user",content:a.trim(),timestamp:new Date};i(v=>[...v,x]),h.mutate(a.trim()),o("")},m=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),f())};return b.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[r]),b.useEffect(()=>{e&&d.current&&d.current.focus()},[e]),b.useEffect(()=>{r.length===0&&i([{id:"welcome",role:"assistant",content:c==="ar"?"مرحباً! أنا مساعدك الذكي في آفاق العلم. كيف يمكنني مساعدتك اليوم؟ يمكنني الإجابة على أسئلة حول المنهج، التخطيط للدروس، أو أي موضوع تعليمي.":"Hello! I'm your AI assistant for Afaq Al-ʿIlm. How can I help you today? I can answer questions about curriculum, lesson planning, or any educational topic.",timestamp:new Date}])},[c,r.length]),n.jsxs("div",{className:`fixed bottom-4 right-4 z-50 ${s}`,children:[!e&&n.jsx(X,{onClick:()=>t(!0),className:"rounded-full w-14 h-14 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(Yb,{className:"w-6 h-6"})}),e&&n.jsxs(B,{className:"w-96 h-[500px] bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-blue-200 dark:border-blue-800 shadow-2xl",children:[n.jsx(ie,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vo,{className:"w-5 h-5"}),n.jsx(ae,{className:"text-lg",children:c==="ar"?"مساعد آفاق العلم":"Afaq Al-ʿIlm Assistant"})]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"text-white hover:bg-white/20 p-1 h-auto",children:n.jsx(sc,{className:"w-4 h-4"})})]})}),n.jsxs(V,{className:"p-0 flex flex-col h-[420px]",children:[n.jsx(Sg,{className:"flex-1 p-4",ref:u,children:n.jsxs("div",{className:"space-y-4",children:[r.map(x=>n.jsxs("div",{className:`flex gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:x.role==="user"?n.jsx(ay,{className:"w-4 h-4"}):n.jsx(vo,{className:"w-4 h-4"})}),n.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${x.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-none"}`,children:[n.jsx("p",{className:`text-sm ${c==="ar"?"text-right":"text-left"}`,children:x.content}),n.jsx("span",{className:`text-xs opacity-70 mt-1 block ${c==="ar"?"text-right":"text-left"}`,children:x.timestamp.toLocaleTimeString(c==="ar"?"ar-JO":"en-US",{hour:"2-digit",minute:"2-digit"})})]})]},x.id)),h.isPending&&n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:n.jsx(vo,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),n.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg rounded-bl-none",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Kb,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:c==="ar"?"جاري الكتابة...":"Typing..."})]})})]})]})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Gt,{ref:d,value:a,onChange:x=>o(x.target.value),onKeyPress:m,placeholder:c==="ar"?"اكتب رسالتك...":"Type your message...",className:`flex-1 ${c==="ar"?"text-right":"text-left"}`,disabled:h.isPending}),n.jsx(X,{onClick:f,disabled:!a.trim()||h.isPending,className:"bg-blue-600 hover:bg-blue-700",children:n.jsx(Ep,{className:"w-4 h-4"})})]})})]})]})]})}function uN(){const{isAuthenticated:s,isLoading:e}=kr();return n.jsxs(C0,{children:[e||!s?n.jsxs(n.Fragment,{children:[n.jsx(yt,{path:"/",component:Kd}),n.jsx(yt,{path:"/samples",component:Kd})]}):n.jsxs(n.Fragment,{children:[n.jsx(yt,{path:"/",component:Zd}),n.jsx(yt,{path:"/dashboard",component:Zd}),n.jsx(yt,{path:"/curriculum",component:Mv}),n.jsx(yt,{path:"/curriculum/lesson/:id",component:Uv}),n.jsx(yt,{path:"/teacher/dashboard",component:$v}),n.jsx(yt,{path:"/teacher/lessons",component:Bv}),n.jsx(yt,{path:"/teacher/resources",component:zv}),n.jsx(yt,{path:"/files",component:Kj})]}),n.jsx(yt,{component:Zj})]})}function hN(){return n.jsx(K0,{client:ob,children:n.jsx(cx,{children:n.jsxs(nx,{children:[n.jsx(zy,{}),n.jsx(uN,{}),n.jsx(dN,{})]})})})}kh(document.getElementById("root")).render(n.jsx(hN,{}));
